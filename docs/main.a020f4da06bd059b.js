(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{306:(un,it,F)=>{"use strict";F.d(it,{$:()=>To,A:()=>de,G:()=>Oe,K:()=>Lt,L:()=>Wt,N:()=>fo,P:()=>hr,R:()=>gl,U:()=>Mn,V:()=>go,W:()=>Rr,X:()=>Or,Y:()=>fs,Z:()=>Qo,_:()=>ps,a:()=>Ks,a0:()=>$s,a1:()=>jr,a2:()=>bs,a3:()=>dl,a4:()=>Ya,a5:()=>no,a6:()=>Gr,a7:()=>ql,a8:()=>Za,a9:()=>na,aA:()=>ht,aB:()=>je,aC:()=>U,aD:()=>mi,aE:()=>wt,aF:()=>Hn,aG:()=>ri,aH:()=>Fa,aI:()=>mc,aJ:()=>bn,aN:()=>Sa,aQ:()=>Lo,aa:()=>dc,ab:()=>$o,ac:()=>Fi,ad:()=>Da,ae:()=>bo,af:()=>hc,ag:()=>Ws,ah:()=>wa,ak:()=>Du,al:()=>ts,am:()=>fl,ap:()=>Bs,aq:()=>pe,as:()=>Ci,at:()=>Vr,au:()=>Me,av:()=>gn,aw:()=>Rt,ax:()=>Fe,ay:()=>ks,az:()=>Ji,b:()=>Xl,c:()=>Hi,d:()=>Oa,e:()=>_o,f:()=>vc,g:()=>Uh,h:()=>Id,i:()=>_,j:()=>Ed,k:()=>eu,l:()=>pc,m:()=>nu,p:()=>Ee,r:()=>aa,s:()=>Tu,u:()=>el});var l=F(467),b=F(1076),j=F(7852),oe=F(8041),he=F(1635),ye=F(1362);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ke=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new b.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new oe.Vy("@firebase/auth");function at(y,...f){Re.logLevel<=oe.$b.ERROR&&Re.error(`Auth (${j.SDK_VERSION}): ${y}`,...f)}function Fe(y,...f){throw fe(y,...f)}function je(y,...f){return fe(y,...f)}function He(y,f,m){const T=Object.assign(Object.assign({},ke()),{[f]:m});return new b.FA("auth","Firebase",T).create(f,{appName:y.name})}function Ye(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Fe(y,"argument-error"),He(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fe(y,...f){if("string"!=typeof y){const m=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=y.name),y._errorFactory.create(m,...T)}return ct.create(y,...f)}function U(y,f,...m){if(!y)throw fe(f,...m)}function be(y){const f="INTERNAL ASSERTION FAILED: "+y;throw at(f),new Error(f)}function Me(y,f){y||be(f)}function ze(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ze(){return"http:"===dt()||"https:"===dt()}function dt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Me(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,b.jZ)()||(0,b.lV)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,b.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ut(y,f){Me(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class we{static initialize(f,m,T){this.fetchImpl=f,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new Xt(3e4,6e4);function Ae(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function st(y,f,m,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.A)(function*(y,f,m,T,W={}){return zt(y,W,(0,l.A)(function*(){let ce={},ot={};T&&("GET"===f?ot=T:ce={body:JSON.stringify(T)});const xt=(0,b.Am)(Object.assign({key:y.config.apiKey},ot)).slice(1),tn=yield y._getAdditionalHeaders();return tn["Content-Type"]="application/json",y.languageCode&&(tn["X-Firebase-Locale"]=y.languageCode),we.fetch()(An(y,y.config.apiHost,m,xt),Object.assign({method:f,headers:tn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function zt(y,f,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.A)(function*(y,f,m){y._canInitEmulator=!1;const T=Object.assign(Object.assign({},_e),f);try{const W=new $n(y),ce=yield Promise.race([m(),W.promise]);W.clearNetworkTimeout();const ot=yield ce.json();if("needConfirmation"in ot)throw Tt(y,"account-exists-with-different-credential",ot);if(ce.ok&&!("errorMessage"in ot))return ot;{const xt=ce.ok?ot.errorMessage:ot.error.message,[tn,zn]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw Tt(y,"credential-already-in-use",ot);if("EMAIL_EXISTS"===tn)throw Tt(y,"email-already-in-use",ot);if("USER_DISABLED"===tn)throw Tt(y,"user-disabled",ot);const tr=T[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw He(y,tr,zn);Fe(y,tr)}}catch(W){if(W instanceof b.g)throw W;Fe(y,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Kt(y,f,m,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.A)(function*(y,f,m,T,W={}){const ce=yield st(y,f,m,T,W);return"mfaPendingCredential"in ce&&Fe(y,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function An(y,f,m,T){const W=`${f}${m}?${T}`;return y.config.emulator?ut(y.config,W):`${y.config.apiScheme}://${W}`}function Qn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $n{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(je(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(y,f,m){const T={appName:y.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const W=je(y,f,T);return W.customData._tokenResponse=m,W}function kn(y){return void 0!==y&&void 0!==y.getResponse}function St(y){return void 0!==y&&void 0!==y.enterprise}class Et{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Qn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function It(){return(It=(0,l.A)(function*(y){return(yield st(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(y,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.A)(function*(y,f){return st(y,"GET","/v2/recaptchaConfig",Ae(y,f))})).apply(this,arguments)}function qn(){return(qn=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function nr(){return(nr=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wn(){return(wn=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ln(){return(Ln=(0,l.A)(function*(y,f=!1){const m=(0,b.Ku)(y),T=yield m.getIdToken(f),W=mr(T);U(W&&W.exp&&W.auth_time&&W.iat,m.auth,"internal-error");const ce="object"==typeof W.firebase?W.firebase:void 0,ot=null==ce?void 0:ce.sign_in_provider;return{claims:W,token:T,authTime:Tr(or(W.auth_time)),issuedAtTime:Tr(or(W.iat)),expirationTime:Tr(or(W.exp)),signInProvider:ot||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function or(y){return 1e3*Number(y)}function mr(y){const[f,m,T]=y.split(".");if(void 0===f||void 0===m||void 0===T)return at("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,b.u)(m);return W?JSON.parse(W):(at("Failed to decode base64 JWT payload"),null)}catch(W){return at("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function gr(y,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.A)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(T){throw T instanceof b.g&&function Zn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(T)&&y.auth.currentUser===y&&(yield y.auth.signOut()),T}})).apply(this,arguments)}class Dr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const W=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,l.A)(function*(){yield m.iteration()}),T)}iteration(){var f=this;return(0,l.A)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Gn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(y){return wr.apply(this,arguments)}function wr(){return wr=(0,l.A)(function*(y){var f;const m=y.auth,T=yield y.getIdToken(),W=yield gr(y,function mn(y,f){return wn.apply(this,arguments)}(m,{idToken:T}));U(null==W?void 0:W.users.length,m,"internal-error");const ce=W.users[0];y._notifyReloadListener(ce);const ot=null!==(f=ce.providerUserInfo)&&void 0!==f&&f.length?function Ge(y){return y.map(f=>{var{providerId:m}=f,T=(0,he.Tt)(f,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(ce.providerUserInfo):[],xt=function Qe(y,f){return[...y.filter(T=>!f.some(W=>W.providerId===T.providerId)),...f]}(y.providerData,ot),tr=!!y.isAnonymous&&!(y.email&&ce.passwordHash||null!=xt&&xt.length),kr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:xt,metadata:new Gn(ce.createdAt,ce.lastLoginAt),isAnonymous:tr};Object.assign(y,kr)}),wr.apply(this,arguments)}function Lr(){return(Lr=(0,l.A)(function*(y){const f=(0,b.Ku)(y);yield jn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function qe(){return(qe=(0,l.A)(function*(y,f){const m=yield zt(y,{},(0,l.A)(function*(){const T=(0,b.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:ce}=y.config,ot=An(y,W,"/v1/token",`key=${ce}`),xt=yield y._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(ot,{method:"POST",headers:xt,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function ue(){return(ue=(0,l.A)(function*(y,f){return st(y,"POST","/v2/accounts:revokeToken",Ae(y,f))})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Sn(y){const f=mr(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var T=this;return(0,l.A)(function*(){return U(!T.accessToken||T.refreshToken,f,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var T=this;return(0,l.A)(function*(){const{accessToken:W,refreshToken:ce,expiresIn:ot}=yield function yt(y,f){return qe.apply(this,arguments)}(f,m);T.updateTokensAndExpiration(W,ce,Number(ot))})()}updateTokensAndExpiration(f,m,T){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,m){const{refreshToken:T,accessToken:W,expirationTime:ce}=m,ot=new K;return T&&(U("string"==typeof T,"internal-error",{appName:f}),ot.refreshToken=T),W&&(U("string"==typeof W,"internal-error",{appName:f}),ot.accessToken=W),ce&&(U("number"==typeof ce,"internal-error",{appName:f}),ot.expirationTime=ce),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return be("not implemented")}}function Q(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class q{constructor(f){var{uid:m,auth:T,stsTokenManager:W}=f,ce=(0,he.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Gn(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.A)(function*(){const T=yield gr(m,m.stsTokenManager.getToken(m.auth,f));return U(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(f){return function dr(y){return Ln.apply(this,arguments)}(this,f)}reload(){return function Sr(y){return Lr.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new q(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var T=this;return(0,l.A)(function*(){let W=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),W=!0),m&&(yield jn(T)),yield T.auth._persistUserIfCurrent(T),W&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,l.A)(function*(){const m=yield f.getIdToken();return yield gr(f,function Fn(y,f){return qn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var T,W,ce,ot,xt,tn,zn,tr;const kr=null!==(T=m.displayName)&&void 0!==T?T:void 0,oo=null!==(W=m.email)&&void 0!==W?W:void 0,Ho=null!==(ce=m.phoneNumber)&&void 0!==ce?ce:void 0,ru=null!==(ot=m.photoURL)&&void 0!==ot?ot:void 0,Ba=null!==(xt=m.tenantId)&&void 0!==xt?xt:void 0,ku=null!==(tn=m._redirectEventId)&&void 0!==tn?tn:void 0,wl=null!==(zn=m.createdAt)&&void 0!==zn?zn:void 0,iu=null!==(tr=m.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:fa,emailVerified:ou,isAnonymous:xd,providerData:Tc,stsTokenManager:si}=m;U(fa&&si,f,"internal-error");const ja=K.fromJSON(this.name,si);U("string"==typeof fa,f,"internal-error"),Q(kr,f.name),Q(oo,f.name),U("boolean"==typeof ou,f,"internal-error"),U("boolean"==typeof xd,f,"internal-error"),Q(Ho,f.name),Q(ru,f.name),Q(Ba,f.name),Q(ku,f.name),Q(wl,f.name),Q(iu,f.name);const Mi=new q({uid:fa,auth:f,email:oo,emailVerified:ou,displayName:kr,isAnonymous:xd,photoURL:ru,phoneNumber:Ho,tenantId:Ba,stsTokenManager:ja,createdAt:wl,lastLoginAt:iu});return Tc&&Array.isArray(Tc)&&(Mi.providerData=Tc.map(Gh=>Object.assign({},Gh))),ku&&(Mi._redirectEventId=ku),Mi}static _fromIdTokenResponse(f,m,T=!1){return(0,l.A)(function*(){const W=new K;W.updateFromServerResponse(m);const ce=new q({uid:m.localId,auth:f,stsTokenManager:W,isAnonymous:T});return yield jn(ce),ce})()}}const Ke=new Map;function wt(y){Me(y instanceof Function,"Expected a class definition");let f=Ke.get(y);return f?(Me(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Ke.set(y,f),f)}const Mn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(m,T){var W=this;return(0,l.A)(function*(){W.storage[m]=T})()}_get(m){var T=this;return(0,l.A)(function*(){const W=T.storage[m];return void 0===W?null:W})()}_remove(m){var T=this;return(0,l.A)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return y.type="NONE",y})();function Hn(y,f,m){return`firebase:${y}:${f}:${m}`}class pr{constructor(f,m,T){this.persistence=f,this.auth=m,this.userKey=T;const{config:W,name:ce}=this.auth;this.fullUserKey=Hn(this.userKey,W.apiKey,ce),this.fullPersistenceKey=Hn("persistence",W.apiKey,ce),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.A)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?q._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.A)(function*(){if(m.persistence===f)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,T="authUser"){return(0,l.A)(function*(){if(!m.length)return new pr(wt(Mn),f,T);const W=(yield Promise.all(m.map(function(){var zn=(0,l.A)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let ce=W[0]||wt(Mn);const ot=Hn(T,f.config.apiKey,f.name);let xt=null;for(const zn of m)try{const tr=yield zn._get(ot);if(tr){const kr=q._fromJSON(f,tr);zn!==ce&&(xt=kr),ce=zn;break}}catch{}const tn=W.filter(zn=>zn._shouldAllowMigration);return ce._shouldAllowMigration&&tn.length?(ce=tn[0],xt&&(yield ce._set(ot,xt.toJSON())),yield Promise.all(m.map(function(){var zn=(0,l.A)(function*(tr){if(tr!==ce)try{yield tr._remove(ot)}catch{}});return function(tr){return zn.apply(this,arguments)}}())),new pr(ce,f,T)):new pr(ce,f,T)})()}}function Pn(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ai(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(dn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(vt(f))return"Blackberry";if(Mt(f))return"Webos";if(sr(f))return"Safari";if((f.includes("chrome/")||vr(f))&&!f.includes("edge/"))return"Chrome";if(Rt(f))return"Android";{const T=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function dn(y=(0,b.ZQ)()){return/firefox\//i.test(y)}function sr(y=(0,b.ZQ)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vr(y=(0,b.ZQ)()){return/crios\//i.test(y)}function ai(y=(0,b.ZQ)()){return/iemobile/i.test(y)}function Rt(y=(0,b.ZQ)()){return/android/i.test(y)}function vt(y=(0,b.ZQ)()){return/blackberry/i.test(y)}function Mt(y=(0,b.ZQ)()){return/webos/i.test(y)}function gn(y=(0,b.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ht(y=(0,b.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function tt(y=(0,b.ZQ)()){return gn(y)||Rt(y)||Mt(y)||vt(y)||/windows phone/i.test(y)||ai(y)}function yn(y,f=[]){let m;switch(y){case"Browser":m=Pn((0,b.ZQ)());break;case"Worker":m=`${Pn((0,b.ZQ)())}-${y}`;break;default:m=y}const T=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${j.SDK_VERSION}/${T}`}class Wn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const T=ce=>new Promise((ot,xt)=>{try{ot(f(ce))}catch(tn){xt(tn)}});T.onAbort=m,this.queue.push(T);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.A)(function*(){if(m.auth.currentUser===f)return;const T=[];try{for(const W of m.queue)yield W(f),W.onAbort&&T.push(W.onAbort)}catch(W){T.reverse();for(const ce of T)try{ce()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}function En(){return(En=(0,l.A)(function*(y,f={}){return st(y,"GET","/v2/passwordPolicy",Ae(y,f))})).apply(this,arguments)}class Nn{constructor(f){var m,T,W,ce;const ot=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=ot.minPasswordLength)&&void 0!==m?m:6,ot.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ot.maxPasswordLength),void 0!==ot.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ot.containsLowercaseCharacter),void 0!==ot.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ot.containsUppercaseCharacter),void 0!==ot.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ot.containsNumericCharacter),void 0!==ot.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ot.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(T=f.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ce=f.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,T,W,ce,ot,xt;const tn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,tn),this.validatePasswordCharacterOptions(f,tn),tn.isValid&&(tn.isValid=null===(m=tn.meetsMinPasswordLength)||void 0===m||m),tn.isValid&&(tn.isValid=null===(T=tn.meetsMaxPasswordLength)||void 0===T||T),tn.isValid&&(tn.isValid=null===(W=tn.containsLowercaseLetter)||void 0===W||W),tn.isValid&&(tn.isValid=null===(ce=tn.containsUppercaseLetter)||void 0===ce||ce),tn.isValid&&(tn.isValid=null===(ot=tn.containsNumericCharacter)||void 0===ot||ot),tn.isValid&&(tn.isValid=null===(xt=tn.containsNonAlphanumericCharacter)||void 0===xt||xt),tn}validatePasswordLengthOptions(f,m){const T=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;T&&(m.meetsMinPasswordLength=f.length>=T),W&&(m.meetsMaxPasswordLength=f.length<=W)}validatePasswordCharacterOptions(f,m){let T;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let W=0;W<f.length;W++)T=f.charAt(W),this.updatePasswordCharacterOptionsStatuses(m,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(f,m,T,W,ce){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ce))}}class ur{constructor(f,m,T,W){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(f,m){var T=this;return m&&(this._popupRedirectResolver=wt(m)),this._initializationPromise=this.queue((0,l.A)(function*(){var W,ce;if(!T._deleted&&(T.persistenceManager=yield pr.create(T,f),!T._deleted)){if(null!==(W=T._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(ce=T.currentUser)||void 0===ce?void 0:ce.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.A)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.A)(function*(){var T;const W=yield m.assertedPersistence.getCurrentUser();let ce=W,ot=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const xt=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,tn=null==ce?void 0:ce._redirectEventId,zn=yield m.tryRedirectSignIn(f);(!xt||xt===tn)&&null!=zn&&zn.user&&(ce=zn.user,ot=!0)}if(!ce)return m.directlySetCurrentUser(null);if(!ce._redirectEventId){if(ot)try{yield m.beforeStateQueue.runMiddleware(ce)}catch(xt){ce=W,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(xt))}return ce?m.reloadAndSetCurrentUserOrClear(ce):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ce._redirectEventId?m.directlySetCurrentUser(ce):m.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(f){var m=this;return(0,l.A)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.A)(function*(){try{yield jn(f)}catch(T){if("auth/network-request-failed"!==(null==T?void 0:T.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,l.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.A)(function*(){const T=f?(0,b.Ku)(f):null;return T&&U(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(f,m=!1){var T=this;return(0,l.A)(function*(){if(!T._deleted)return f&&U(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,l.A)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.A)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.A)(function*(){yield m.assertedPersistence.setPersistence(wt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,l.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const T=m._getPasswordPolicyInternal();return T.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.A)(function*(){const m=yield function Xn(y){return En.apply(this,arguments)}(f),T=new Nn(m);null===f.tenantId?f._projectPasswordPolicy=T:f._tenantPasswordPolicies[f.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new b.FA("auth","Firebase",f())}onAuthStateChanged(f,m,T){return this.registerStateListener(this.authStateSubscription,f,m,T)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,T){return this.registerStateListener(this.idTokenSubscription,f,m,T)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const T=this.onAuthStateChanged(()=>{T(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,l.A)(function*(){if(m.currentUser){const T=yield m.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:T};null!=m.tenantId&&(W.tenantId=m.tenantId),yield function ie(y,f){return ue.apply(this,arguments)}(m,W)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var T=this;return(0,l.A)(function*(){const W=yield T.getOrInitRedirectPersistenceManager(m);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.A)(function*(){if(!m.redirectPersistenceManager){const T=f&&wt(f)||m._popupRedirectResolver;U(T,m,"argument-error"),m.redirectPersistenceManager=yield pr.create(m,[wt(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.A)(function*(){var T,W;return m._isInitialized&&(yield m.queue((0,l.A)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===f?m._currentUser:(null===(W=m.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.A)(function*(){if(f===m.currentUser)return m.queue((0,l.A)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,T,W){if(this._deleted)return()=>{};const ce="function"==typeof m?m:m.next.bind(m);let ot=!1;const xt=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(xt,this,"internal-error"),xt.then(()=>{ot||ce(this.currentUser)}),"function"==typeof m){const tn=f.addObserver(m,T,W);return()=>{ot=!0,tn()}}{const tn=f.addObserver(m);return()=>{ot=!0,tn()}}}directlySetCurrentUser(f){var m=this;return(0,l.A)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.A)(function*(){var m;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();W&&(T["X-Firebase-Client"]=W);const ce=yield f._getAppCheckToken();return ce&&(T["X-Firebase-AppCheck"]=ce),T})()}_getAppCheckToken(){var f=this;return(0,l.A)(function*(){var m;const T=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=T&&T.error&&function $e(y,...f){Re.logLevel<=oe.$b.WARN&&Re.warn(`Auth (${j.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${T.error}`),null==T?void 0:T.token})()}}function bn(y){return(0,b.Ku)(y)}class hi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,b.tD)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ie={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H(y){return Ie.loadJS(y)}function Bt(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Un{constructor(f){this.type="recaptcha-enterprise",this.auth=bn(f)}verify(f="verify",m=!1){var T=this;return(0,l.A)(function*(){function ce(){return ce=(0,l.A)(function*(xt){if(!m){if(null==xt.tenantId&&null!=xt._agentRecaptchaConfig)return xt._agentRecaptchaConfig.siteKey;if(null!=xt.tenantId&&void 0!==xt._tenantRecaptchaConfigs[xt.tenantId])return xt._tenantRecaptchaConfigs[xt.tenantId].siteKey}return new Promise(function(){var tn=(0,l.A)(function*(zn,tr){hn(xt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kr=>{if(void 0!==kr.recaptchaKey){const oo=new Et(kr);return null==xt.tenantId?xt._agentRecaptchaConfig=oo:xt._tenantRecaptchaConfigs[xt.tenantId]=oo,zn(oo.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(kr=>{tr(kr)})});return function(zn,tr){return tn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function ot(xt,tn,zn){const tr=window.grecaptcha;St(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(xt,{action:f}).then(kr=>{tn(kr)}).catch(()=>{tn("NO_RECAPTCHA")})}):zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((xt,tn)=>{(function W(xt){return ce.apply(this,arguments)})(T.auth).then(zn=>{if(!m&&St(window.grecaptcha))ot(zn,xt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));let tr=function rt(){return Ie.recaptchaEnterpriseScript}();0!==tr.length&&(tr+=zn),H(tr).then(()=>{ot(zn,xt,tn)}).catch(kr=>{tn(kr)})}}).catch(zn=>{tn(zn)})})})()}}function $r(y,f,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.A)(function*(y,f,m,T=!1){const W=new Un(y);let ce;try{ce=yield W.verify(m)}catch{ce=yield W.verify(m,!0)}const ot=Object.assign({},f);return Object.assign(ot,T?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ot})).apply(this,arguments)}function B(y,f,m,T){return Y.apply(this,arguments)}function Y(){return Y=(0,l.A)(function*(y,f,m,T){var W;if(null!==(W=y._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield $r(y,f,m,"getOobCode"===m);return T(y,ce)}return T(y,f).catch(function(){var ce=(0,l.A)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const xt=yield $r(y,f,m,"getOobCode"===m);return T(y,xt)}return Promise.reject(ot)});return function(ot){return ce.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Lt(y,f,m){const T=bn(y);U(T._canInitEmulator,T,"emulator-config-failed"),U(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const W=!(null==m||!m.disableWarnings),ce=en(f),{host:ot,port:xt}=function Yt(y){const f=en(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(T);if(W){const ce=W[1];return{host:ce,port:qt(T.substr(ce.length+1))}}{const[ce,ot]=T.split(":");return{host:ce,port:qt(ot)}}}(f);T.config.emulator={url:`${ce}//${ot}${null===xt?"":`:${xt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ot,port:xt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function an(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function en(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function qt(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Wt{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function On(y,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:resetPassword",Ae(y,f))})).apply(this,arguments)}function Br(){return(Br=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function E(y,f){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function ae(){return(ae=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:update",Ae(y,f))})).apply(this,arguments)}function et(y,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithPassword",Ae(y,f))})).apply(this,arguments)}function Wr(y,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:sendOobCode",Ae(y,f))})).apply(this,arguments)}function Oi(){return(Oi=(0,l.A)(function*(y,f){return Wr(y,f)})).apply(this,arguments)}function Ts(y,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.A)(function*(y,f){return Wr(y,f)})).apply(this,arguments)}function ea(y,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.A)(function*(y,f){return Wr(y,f)})).apply(this,arguments)}function er(){return(er=(0,l.A)(function*(y,f){return Wr(y,f)})).apply(this,arguments)}function us(){return(us=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithEmailLink",Ae(y,f))})).apply(this,arguments)}function Fo(){return(Fo=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithEmailLink",Ae(y,f))})).apply(this,arguments)}class Gi extends Wt{constructor(f,m,T,W=null){super("password",T),this._email=f,this._password=m,this._tenantId=W}static _fromEmailAndPassword(f,m){return new Gi(f,m,"password")}static _fromEmailAndCode(f,m,T=null){return new Gi(f,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.A)(function*(){switch(m.signInMethod){case"password":return B(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",et);case"emailLink":return function to(y,f){return us.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Fe(f,"internal-error")}})()}_linkToIdToken(f,m){var T=this;return(0,l.A)(function*(){switch(T.signInMethod){case"password":return B(f,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E);case"emailLink":return function Ko(y,f){return Fo.apply(this,arguments)}(f,{idToken:m,email:T._email,oobCode:T._password});default:Fe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ao(y,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithIdp",Ae(y,f))})).apply(this,arguments)}class fo extends Wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new fo(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Fe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:W}=m,ce=(0,he.Tt)(m,["providerId","signInMethod"]);if(!T||!W)return null;const ot=new fo(T,W);return ot.idToken=ce.idToken||void 0,ot.accessToken=ce.accessToken||void 0,ot.secret=ce.secret,ot.nonce=ce.nonce,ot.pendingToken=ce.pendingToken||null,ot}_getIdTokenResponse(f){return Ao(f,this.buildRequest())}_linkToIdToken(f,m){const T=this.buildRequest();return T.idToken=m,Ao(f,T)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ao(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,b.Am)(m)}return f}}function ds(){return(ds=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:sendVerificationCode",Ae(y,f))})).apply(this,arguments)}function hs(){return(hs=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,f))})).apply(this,arguments)}function Pi(){return(Pi=(0,l.A)(function*(y,f){const m=yield Kt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,f));if(m.temporaryProof)throw Tt(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ya={USER_NOT_FOUND:"user-not-found"};function Us(){return(Us=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ya)})).apply(this,arguments)}class Ki extends Wt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ki({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ki({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function po(y,f){return hs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function wi(y,f){return Pi.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ws(y,f){return Us.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:T,verificationCode:W}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:T,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:T,phoneNumber:W,temporaryProof:ce}=f;return T||m||W||ce?new Ki({verificationId:m,verificationCode:T,phoneNumber:W,temporaryProof:ce}):null}}class Vo{constructor(f){var m,T,W,ce,ot,xt;const tn=(0,b.I9)((0,b.hp)(f)),zn=null!==(m=tn.apiKey)&&void 0!==m?m:null,tr=null!==(T=tn.oobCode)&&void 0!==T?T:null,kr=function Qa(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=tn.mode)&&void 0!==W?W:null);U(zn&&tr&&kr,"argument-error"),this.apiKey=zn,this.operation=kr,this.code=tr,this.continueUrl=null!==(ce=tn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(ot=tn.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(xt=tn.tenantId)&&void 0!==xt?xt:null}static parseLink(f){const m=function Xo(y){const f=(0,b.I9)((0,b.hp)(y)).link,m=f?(0,b.I9)((0,b.hp)(f)).deep_link_id:null,T=(0,b.I9)((0,b.hp)(y)).deep_link_id;return(T?(0,b.I9)((0,b.hp)(T)).link:null)||T||m||f||y}(f);try{return new Vo(m)}catch{return null}}}let go=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,T){return Gi._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const W=Vo.parseLink(T);return U(W,"argument-error"),Gi._fromEmailAndCode(m,W.code,W.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class li{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class bi extends li{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Qo extends bi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),fo._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),fo._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Qo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Qo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:W,pendingToken:ce,nonce:ot,providerId:xt}=f;if(!T&&!W&&!m&&!ce||!xt)return null;try{return new Qo(xt)._credential({idToken:m,accessToken:T,nonce:ot,pendingToken:ce})}catch{return null}}}let Rr=(()=>{class y extends bi{constructor(){super("facebook.com")}static credential(m){return fo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Or=(()=>{class y extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return fo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:W}=m;if(!T&&!W)return null;try{return y.credential(T,W)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),fs=(()=>{class y extends bi{constructor(){super("github.com")}static credential(m){return fo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Lo extends Wt{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ao(f,this.buildRequest())}_linkToIdToken(f,m){const T=this.buildRequest();return T.idToken=m,Ao(f,T)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ao(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:W,pendingToken:ce}=m;return T&&W&&ce&&T===W?new Lo(T,ce):null}static _create(f,m){return new Lo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ps extends li{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ps.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ps.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Lo.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:T}=f;if(!m||!T)return null;try{return Lo._create(T,m)}catch{return null}}}let To=(()=>{class y extends bi{constructor(){super("twitter.com")}static credential(m,T){return fo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:W}=m;if(!T||!W)return null;try{return y.credential(T,W)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Si(y,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signUp",Ae(y,f))})).apply(this,arguments)}class ui{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,T,W=!1){return(0,l.A)(function*(){const ce=yield q._fromIdTokenResponse(f,T,W),ot=Ia(T);return new ui({user:ce,providerId:ot,_tokenResponse:T,operationType:m})})()}static _forOperation(f,m,T){return(0,l.A)(function*(){yield f._updateTokensIfNecessary(T,!0);const W=Ia(T);return new ui({user:f,providerId:W,_tokenResponse:T,operationType:m})})()}}function Ia(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function $s(y){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.A)(function*(y){var f;const m=bn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new ui({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Si(m,{returnSecureToken:!0}),W=yield ui._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(W.user),W})).apply(this,arguments)}class gs extends b.g{constructor(f,m,T,W){var ce;super(m.code,m.message),this.operationType=T,this.user=W,Object.setPrototypeOf(this,gs.prototype),this.customData={appName:f.name,tenantId:null!==(ce=f.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,m,T,W){return new gs(f,m,T,W)}}function ms(y,f,m,T){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?gs._fromErrorAndOperation(y,ce,f,T):ce})}function Ea(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Bs(y,f){return L.apply(this,arguments)}function L(){return L=(0,l.A)(function*(y,f){const m=(0,b.Ku)(y);yield V(!0,m,f);const{providerUserInfo:T}=yield function Yn(y,f){return nr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),W=Ea(T||[]);return m.providerData=m.providerData.filter(ce=>W.has(ce.providerId)),W.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),L.apply(this,arguments)}function P(y,f){return se.apply(this,arguments)}function se(){return(se=(0,l.A)(function*(y,f,m=!1){const T=yield gr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ui._forOperation(y,"link",T)})).apply(this,arguments)}function V(y,f,m){return X.apply(this,arguments)}function X(){return(X=(0,l.A)(function*(y,f,m){yield jn(f);const W=!1===y?"provider-already-linked":"no-such-provider";U(Ea(f.providerData).has(m)===y,f.auth,W)})).apply(this,arguments)}function Ct(y,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.A)(function*(y,f,m=!1){const{auth:T}=y,W="reauthenticate";try{const ce=yield gr(y,ms(T,W,f,y),m);U(ce.idToken,T,"internal-error");const ot=mr(ce.idToken);U(ot,T,"internal-error");const{sub:xt}=ot;return U(y.uid===xt,T,"user-mismatch"),ui._forOperation(y,W,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&Fe(T,"user-mismatch"),ce}})).apply(this,arguments)}function on(y,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.A)(function*(y,f,m=!1){const T="signIn",W=yield ms(y,T,f),ce=yield ui._fromIdTokenResponse(y,T,W);return m||(yield y._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function jr(y,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.A)(function*(y,f){return on(bn(y),f)})).apply(this,arguments)}function bs(y,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.A)(function*(y,f){const m=(0,b.Ku)(y);return yield V(!1,m,f.providerId),P(m,f)})).apply(this,arguments)}function dl(y,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.A)(function*(y,f){return Ct((0,b.Ku)(y),f)})).apply(this,arguments)}function js(){return(js=(0,l.A)(function*(y,f){return Kt(y,"POST","/v1/accounts:signInWithCustomToken",Ae(y,f))})).apply(this,arguments)}function Ya(y,f){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,l.A)(function*(y,f){const m=bn(y),T=yield function Eu(y,f){return js.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),W=yield ui._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(W.user),W}),Uo.apply(this,arguments)}class Ss{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?ar._fromServerResponse(f,m):"totpInfo"in m?pi._fromServerResponse(f,m):Fe(f,"internal-error")}}class ar extends Ss{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new ar(m)}}class pi extends Ss{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new pi(m)}}function ci(y,f,m){var T;U((null===(T=m.url)||void 0===T?void 0:T.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function qi(y){return $i.apply(this,arguments)}function $i(){return($i=(0,l.A)(function*(y){const f=bn(y);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function no(y,f,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(y,f,m){const T=bn(y),W={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&ci(T,W,m),yield B(T,W,"getOobCode",Ts)})).apply(this,arguments)}function Gr(y,f,m){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,l.A)(function*(y,f,m){yield On((0,b.Ku)(y),{oobCode:f,newPassword:m}).catch(function(){var T=(0,l.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&qi(y),W});return function(W){return T.apply(this,arguments)}}())}),Kl.apply(this,arguments)}function ql(y,f){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,l.A)(function*(y,f){yield function x(y,f){return ae.apply(this,arguments)}((0,b.Ku)(y),{oobCode:f})}),Xi.apply(this,arguments)}function Za(y,f){return es.apply(this,arguments)}function es(){return(es=(0,l.A)(function*(y,f){const m=(0,b.Ku)(y),T=yield On(m,{oobCode:f}),W=T.requestType;switch(U(W,m,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(T.mfaInfo,m,"internal-error");default:U(T.email,m,"internal-error")}let ce=null;return T.mfaInfo&&(ce=Ss._fromServerResponse(bn(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ce},operation:W}})).apply(this,arguments)}function na(y,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.A)(function*(y,f){const{data:m}=yield Za((0,b.Ku)(y),f);return m.email})).apply(this,arguments)}function dc(y,f,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.A)(function*(y,f,m){const T=bn(y),ot=yield B(T,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si).catch(tn=>{throw"auth/password-does-not-meet-requirements"===tn.code&&qi(y),tn}),xt=yield ui._fromIdTokenResponse(T,"signIn",ot);return yield T._updateCurrentUser(xt.user),xt})).apply(this,arguments)}function $o(y,f,m){return jr((0,b.Ku)(y),go.credential(f,m)).catch(function(){var T=(0,l.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&qi(y),W});return function(W){return T.apply(this,arguments)}}())}function Fi(y,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.A)(function*(y,f,m){const T=bn(y),W={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ce(ot,xt){U(xt.handleCodeInApp,T,"argument-error"),xt&&ci(T,ot,xt)})(W,m),yield B(T,W,"getOobCode",ea)})).apply(this,arguments)}function Da(y,f){const m=Vo.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function bo(y,f,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y),W=go.credentialWithLink(f,m||ze());return U(W._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),jr(T,W)})).apply(this,arguments)}function Bo(){return(Bo=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:createAuthUri",Ae(y,f))})).apply(this,arguments)}function hc(y,f){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,l.A)(function*(y,f){const T={identifier:f,continueUri:Ze()?ze():"http://localhost"},{signinMethods:W}=yield function hl(y,f){return Bo.apply(this,arguments)}((0,b.Ku)(y),T);return W||[]}),Ta.apply(this,arguments)}function Ws(y,f){return So.apply(this,arguments)}function So(){return So=(0,l.A)(function*(y,f){const m=(0,b.Ku)(y),W={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ci(m.auth,W,f);const{email:ce}=yield function Ei(y,f){return Oi.apply(this,arguments)}(m.auth,W);ce!==y.email&&(yield y.reload())}),So.apply(this,arguments)}function wa(y,f,m){return ba.apply(this,arguments)}function ba(){return ba=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&ci(T.auth,ce,m);const{email:ot}=yield function Go(y,f){return er.apply(this,arguments)}(T.auth,ce);ot!==y.email&&(yield y.reload())}),ba.apply(this,arguments)}function ia(){return(ia=(0,l.A)(function*(y,f){return st(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Du(y,f){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,l.A)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const T=(0,b.Ku)(y),ce={idToken:yield T.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ot=yield gr(T,function Cu(y,f){return ia.apply(this,arguments)}(T.auth,ce));T.displayName=ot.displayName||null,T.photoURL=ot.photoUrl||null;const xt=T.providerData.find(({providerId:tn})=>"password"===tn);xt&&(xt.displayName=T.displayName,xt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ot)}),Ro.apply(this,arguments)}function ts(y,f){return Vi((0,b.Ku)(y),f,null)}function fl(y,f){return Vi((0,b.Ku)(y),null,f)}function Vi(y,f,m){return mo.apply(this,arguments)}function mo(){return mo=(0,l.A)(function*(y,f,m){const{auth:T}=y,ce={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(ce.email=f),m&&(ce.password=m);const ot=yield gr(y,function yr(y,f){return Br.apply(this,arguments)}(T,ce));yield y._updateTokensIfNecessary(ot,!0)}),mo.apply(this,arguments)}class vo{constructor(f,m,T={}){this.isNewUser=f,this.providerId=m,this.profile=T}}class C extends vo{constructor(f,m,T,W){super(f,m,T),this.username=W}}class S extends vo{constructor(f,m){super(f,"facebook.com",m)}}class ve extends C{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class k extends vo{constructor(f,m){super(f,"google.com",m)}}class te extends C{constructor(f,m,T){super(f,"twitter.com",m,T)}}function pe(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ns(y){var f,m;if(!y)return null;const{providerId:T}=y,W=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ce=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!T&&null!=y&&y.idToken){const ot=null===(m=null===(f=mr(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ot)return new vo(ce,"anonymous"!==ot&&"custom"!==ot?ot:null)}if(!T)return null;switch(T){case"facebook.com":return new S(ce,W);case"github.com":return new ve(ce,W);case"google.com":return new k(ce,W);case"twitter.com":return new te(ce,W,y.screenName||null);case"custom":case"anonymous":return new vo(ce,null);default:return new vo(ce,T,W)}}(m)}class Hr{constructor(f,m,T){this.type=f,this.credential=m,this.user=T}static _fromIdtoken(f,m){return new Hr("enroll",f,m)}static _fromMfaPendingCredential(f){return new Hr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,T;if(null!=f&&f.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Hr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(T=f.multiFactorSession)&&void 0!==T&&T.idToken)return Hr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _i{constructor(f,m,T){this.session=f,this.hints=m,this.signInResolver=T}static _fromError(f,m){const T=bn(f),W=m.customData._serverResponse,ce=(W.mfaInfo||[]).map(xt=>Ss._fromServerResponse(T,xt));U(W.mfaPendingCredential,T,"internal-error");const ot=Hr._fromMfaPendingCredential(W.mfaPendingCredential);return new _i(ot,ce,function(){var xt=(0,l.A)(function*(tn){const zn=yield tn._process(T,ot);delete W.mfaInfo,delete W.mfaPendingCredential;const tr=Object.assign(Object.assign({},W),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(m.operationType){case"signIn":const kr=yield ui._fromIdTokenResponse(T,m.operationType,tr);return yield T._updateCurrentUser(kr.user),kr;case"reauthenticate":return U(m.user,T,"internal-error"),ui._forOperation(m.user,m.operationType,tr);default:Fe(T,"internal-error")}});return function(tn){return xt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.A)(function*(){return m.signInResolver(f)})()}}function Ci(y,f){var m;const T=(0,b.Ku)(y),W=f;return U(f.customData.operationType,T,"argument-error"),U(null===(m=W.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),_i._fromError(T,W)}class Zt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>Ss._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new Zt(f)}getSession(){var f=this;return(0,l.A)(function*(){return Hr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var T=this;return(0,l.A)(function*(){const W=f,ce=yield T.getSession(),ot=yield gr(T.user,W._process(T.user.auth,ce,m));return yield T.user._updateTokensIfNecessary(ot),T.user.reload()})()}unenroll(f){var m=this;return(0,l.A)(function*(){const T="string"==typeof f?f:f.uid,W=yield m.user.getIdToken();try{const ce=yield gr(m.user,function Xr(y,f){return st(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(y,f))}(m.user.auth,{idToken:W,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ot})=>ot!==T),yield m.user._updateTokensIfNecessary(ce),yield m.user.reload()}catch(ce){throw ce}})()}}const is=new WeakMap;function Vr(y){const f=(0,b.Ku)(y);return is.has(f)||is.set(f,Zt._fromUser(f)),is.get(f)}const Rs="__sak";class rr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xl=(()=>{class y extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dn(){const y=(0,b.ZQ)();return sr(y)||gn(y)}()&&function Ot(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const W=this.storage.getItem(T),ce=this.localCache[T];W!==ce&&m(T,ce,W)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((xt,tn,zn)=>{this.notifyListeners(xt,zn)});const W=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xt=this.storage.getItem(W);if(m.newValue!==xt)null!==m.newValue?this.storage.setItem(W,m.newValue):this.storage.removeItem(W);else if(this.localCache[W]===m.newValue&&!T)return}const ce=()=>{const xt=this.storage.getItem(W);!T&&this.localCache[W]===xt||this.notifyListeners(W,xt)},ot=this.storage.getItem(W);!function De(){return(0,b.lT)()&&10===document.documentMode}()||ot===m.newValue||m.newValue===m.oldValue?ce():setTimeout(ce,10)}notifyListeners(m,T){this.localCache[m]=T;const W=this.listeners[m];if(W)for(const ce of Array.from(W))ce(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var W=()=>super._set,ce=this;return(0,l.A)(function*(){yield W().call(ce,m,T),ce.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,W=this;return(0,l.A)(function*(){const ce=yield T().call(W,m);return W.localCache[m]=JSON.stringify(ce),ce})()}_remove(m){var T=()=>super._remove,W=this;return(0,l.A)(function*(){yield T().call(W,m),delete W.localCache[m]})()}}return y.type="LOCAL",y})(),Ks=(()=>{class y extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return y.type="SESSION",y})();let Ir=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(ce=>ce.isListeningto(m));if(T)return T;const W=new y(m);return this.receivers.push(W),W}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,l.A)(function*(){const W=m,{eventId:ce,eventType:ot,data:xt}=W.data,tn=T.handlersMap[ot];if(null==tn||!tn.size)return;W.ports[0].postMessage({status:"ack",eventId:ce,eventType:ot});const zn=Array.from(tn).map(function(){var kr=(0,l.A)(function*(oo){return oo(W.origin,xt)});return function(oo){return kr.apply(this,arguments)}}()),tr=yield function os(y){return Promise.all(y.map(function(){var f=(0,l.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return f.apply(this,arguments)}}()))}(zn);W.ports[0].postMessage({status:"done",eventId:ce,eventType:ot,response:tr})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Sa(y="",f=10){let m="";for(let T=0;T<f;T++)m+=Math.floor(10*Math.random());return y+m}class Yi{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,T=50){var W=this;return(0,l.A)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let ot,xt;return new Promise((tn,zn)=>{const tr=Sa("",20);ce.port1.start();const kr=setTimeout(()=>{zn(new Error("unsupported_event"))},T);xt={messageChannel:ce,onMessage(oo){const Ho=oo;if(Ho.data.eventId===tr)switch(Ho.data.status){case"ack":clearTimeout(kr),ot=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),tn(Ho.data.response);break;default:clearTimeout(kr),clearTimeout(ot),zn(new Error("invalid_response"))}}},W.handlers.add(xt),ce.port1.addEventListener("message",xt.onMessage),W.target.postMessage({eventType:f,eventId:tr,data:m},[ce.port2])}).finally(()=>{xt&&W.removeMessageHandler(xt)})})()}}function ei(){return window}function oa(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function Ra(){return(Ra=(0,l.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lo="firebaseLocalStorageDb",_s="firebaseLocalStorage",Bi="fbase_key";class Pa{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ps(y,f){return y.transaction([_s],f?"readwrite":"readonly").objectStore(_s)}function xa(){const y=indexedDB.open(lo,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const T=y.result;try{T.createObjectStore(_s,{keyPath:Bi})}catch(W){m(W)}}),y.addEventListener("success",(0,l.A)(function*(){const T=y.result;T.objectStoreNames.contains(_s)?f(T):(T.close(),yield function fc(){const y=indexedDB.deleteDatabase(lo);return new Pa(y).toPromise()}(),f(yield xa()))}))})}function Yl(y,f,m){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.A)(function*(y,f,m){const T=Ps(y,!0).put({[Bi]:f,value:m});return new Pa(T).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,l.A)(function*(y,f){const m=Ps(y,!1).get(f),T=yield new Pa(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Zl(y,f){const m=Ps(y,!0).delete(f);return new Pa(m).toPromise()}const _=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.A)(function*(){return m.db||(m.db=yield xa()),m.db})()}_withRetries(m){var T=this;return(0,l.A)(function*(){let W=0;for(;;)try{const ce=yield T._openDb();return yield m(ce)}catch(ce){if(W++>3)throw ce;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.A)(function*(){return oa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.A)(function*(){m.receiver=Ir._getInstance(function Zi(){return oa()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,l.A)(function*(W,ce){return{keyProcessed:(yield m._poll()).includes(ce.key)}});return function(W,ce){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,l.A)(function*(W,ce){return["keyChanged"]});return function(W,ce){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.A)(function*(){var T,W;if(m.activeServiceWorker=yield function di(){return Ra.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Yi(m.activeServiceWorker);const ce=yield m.sender._send("ping",{},800);ce&&null!==(T=ce[0])&&void 0!==T&&T.fulfilled&&null!==(W=ce[0])&&void 0!==W&&W.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,l.A)(function*(){if(T.sender&&T.activeServiceWorker&&function pt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const m=yield xa();return yield Yl(m,Rs,"1"),yield Zl(m,Rs),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,l.A)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var W=this;return(0,l.A)(function*(){return W._withPendingWrite((0,l.A)(function*(){return yield W._withRetries(ce=>Yl(ce,m,T)),W.localCache[m]=T,W.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,l.A)(function*(){const W=yield T._withRetries(ce=>function Po(y,f){return pl.apply(this,arguments)}(ce,m));return T.localCache[m]=W,W})()}_remove(m){var T=this;return(0,l.A)(function*(){return T._withPendingWrite((0,l.A)(function*(){return yield T._withRetries(W=>Zl(W,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.A)(function*(){const T=yield m._withRetries(ot=>{const xt=Ps(ot,!1).getAll();return new Pa(xt).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const W=[],ce=new Set;if(0!==T.length)for(const{fbase_key:ot,value:xt}of T)ce.add(ot),JSON.stringify(m.localCache[ot])!==JSON.stringify(xt)&&(m.notifyListeners(ot,xt),W.push(ot));for(const ot of Object.keys(m.localCache))m.localCache[ot]&&!ce.has(ot)&&(m.notifyListeners(ot,null),W.push(ot));return W})()}notifyListeners(m,T){this.localCache[m]=T;const W=this.listeners[m];if(W)for(const ce of Array.from(W))ce(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),me=1e12;class mt{constructor(f){this.auth=f,this.counter=me,this._widgets=new Map}render(f,m){const T=this.counter;return this._widgets.set(T,new Qt(f,this.auth.name,m||{})),this.counter++,T}reset(f){var m;const T=f||me;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(f){var m;return(null===(m=this._widgets.get(f||me))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.A)(function*(){var T;return null===(T=m._widgets.get(f||me))||void 0===T||T.execute(),""})()}}class Qt{constructor(f,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;U(W,"argument-error",{appName:m}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function At(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<y;T++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rn=Bt("rcb"),Er=new Xt(3e4,6e4);class Di{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ei().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function Zr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&kn(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((T,W)=>{const ce=ei().setTimeout(()=>{W(je(f,"network-request-failed"))},Er.get());ei()[Rn]=()=>{ei().clearTimeout(ce),delete ei()[Rn];const xt=ei().grecaptcha;if(!xt||!kn(xt))return void W(je(f,"internal-error"));const tn=xt.render;xt.render=(zn,tr)=>{const kr=tn(zn,tr);return this.counter++,kr},this.hostLanguage=m,T(xt)},H(`${function ge(){return Ie.recaptchaV2Script}()}?${(0,b.Am)({onload:Rn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ce),W(je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=ei().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class io{load(f){return(0,l.A)(function*(){return new mt(f)})()}clearedOneInstance(){}}const xs="recaptcha",Ja={theme:"light",type:"image"};class gl{constructor(f,m,T=Object.assign({},Ja)){this.parameters=T,this.type=xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(f),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof m?document.getElementById(m):m;U(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new io:new Di,this.validateStartingState()}verify(){var f=this;return(0,l.A)(function*(){f.assertNotDestroyed();const m=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(m)||new Promise(ce=>{const ot=xt=>{xt&&(f.tokenChangeListeners.delete(ot),ce(xt))};f.tokenChangeListeners.add(ot),f.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof f)f(m);else if("string"==typeof f){const T=ei()[f];"function"==typeof T&&T(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.A)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.A)(function*(){U(Ze()&&!oa(),f.auth,"internal-error"),yield function ml(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Dt(y){return It.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sa{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ki._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Tu(y,f,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.A)(function*(y,f,m){const T=bn(y),W=yield Li(T,f,(0,b.Ku)(m));return new sa(W,ce=>jr(T,ce))})).apply(this,arguments)}function pc(y,f,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y);yield V(!1,T,"phone");const W=yield Li(T.auth,f,(0,b.Ku)(m));return new sa(W,ce=>bs(T,ce))})).apply(this,arguments)}function aa(y,f,m){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y),W=yield Li(T.auth,f,(0,b.Ku)(m));return new sa(W,ce=>dl(T,ce))})).apply(this,arguments)}function Li(y,f,m){return wu.apply(this,arguments)}function wu(){return wu=(0,l.A)(function*(y,f,m){var T;const W=yield m.verify();try{let ce;if(U("string"==typeof W,y,"argument-error"),U(m.type===xs,y,"argument-error"),ce="string"==typeof f?{phoneNumber:f}:f,"session"in ce){const ot=ce.session;if("phoneNumber"in ce)return U("enroll"===ot.type,y,"internal-error"),(yield function Qi(y,f){return st(y,"POST","/v2/accounts/mfaEnrollment:start",Ae(y,f))}(y,{idToken:ot.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{U("signin"===ot.type,y,"internal-error");const xt=(null===(T=ce.multiFactorHint)||void 0===T?void 0:T.uid)||ce.multiFactorUid;return U(xt,y,"missing-multi-factor-info"),(yield function A(y,f){return st(y,"POST","/v2/accounts/mfaSignIn:start",Ae(y,f))}(y,{mfaPendingCredential:ot.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ot}=yield function Ls(y,f){return ds.apply(this,arguments)}(y,{phoneNumber:ce.phoneNumber,recaptchaToken:W});return ot}}finally{m._reset()}}),wu.apply(this,arguments)}function el(y,f){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.A)(function*(y,f){yield P((0,b.Ku)(y),f)})).apply(this,arguments)}let hr=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=bn(m)}verifyPhoneNumber(m,T){return Li(this.auth,m,(0,b.Ku)(T))}static credential(m,T){return Ki._fromVerification(m,T)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:W}=m;return T&&W?Ki._fromTokenResponse(T,W):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ns(y,f){return f?wt(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ni extends Wt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ao(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ao(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ao(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Mr(y){return on(y.auth,new Ni(y),y.bypassAuthState)}function Lh(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Ct(m,new Ni(y),y.bypassAuthState)}function la(y){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.A)(function*(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),P(m,new Ni(y),y.bypassAuthState)})).apply(this,arguments)}class jo{constructor(f,m,T,W,ce=!1){this.auth=f,this.resolver=T,this.user=W,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.A)(function*(T,W){f.pendingPromise={resolve:T,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ce){f.reject(ce)}});return function(T,W){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.A)(function*(){const{urlResponse:T,sessionId:W,postBody:ce,tenantId:ot,error:xt,type:tn}=f;if(xt)return void m.reject(xt);const zn={auth:m.auth,requestUri:T,sessionId:W,tenantId:ot||void 0,postBody:ce||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(tn)(zn))}catch(tr){m.reject(tr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Mr;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return Lh;default:Fe(this.auth,"internal-error")}}resolve(f){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wp=new Xt(2e3,1e4);function Hi(y,f,m){return _d.apply(this,arguments)}function _d(){return(_d=(0,l.A)(function*(y,f,m){const T=bn(y);Ye(y,f,li);const W=Ns(T,m);return new tl(T,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function _o(y,f,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y);Ye(T.auth,f,li);const W=Ns(T.auth,m);return new tl(T.auth,"reauthViaPopup",f,W,T).executeNotNull()})).apply(this,arguments)}function Oa(y,f,m){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y);Ye(T.auth,f,li);const W=Ns(T.auth,m);return new tl(T.auth,"linkViaPopup",f,W,T).executeNotNull()})).apply(this,arguments)}let tl=(()=>{class y extends jo{constructor(m,T,W,ce,ot){super(m,T,ce,ot),this.provider=W,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.A)(function*(){const T=yield m.execute();return U(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,l.A)(function*(){Me(1===m.filter.length,"Popup operations only handle one event");const T=Sa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(W=>{m.reject(W)}),m.resolver._isIframeWebStorageSupported(m.auth,W=>{W||m.reject(je(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,W;this.pollId=null!==(W=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,wp.get())};m()}}return y.currentPopupAction=null,y})();const _l="pendingRedirect",ka=new Map;class qs extends jo{constructor(f,m,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.A)(function*(){let T=ka.get(m.auth._key());if(!T){try{const ce=(yield function ua(y,f){return Os.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;T=()=>Promise.resolve(ce)}catch(W){T=()=>Promise.reject(W)}ka.set(m.auth._key(),T)}return m.bypassAuthState||ka.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,T=this;return(0,l.A)(function*(){if("signInViaRedirect"===f.type)return m().call(T,f);if("unknown"!==f.type){if(f.eventId){const W=yield T.auth._redirectUserForId(f.eventId);if(W)return T.user=W,m().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function Os(){return(Os=(0,l.A)(function*(y,f){const m=yl(f),T=yd(y);if(!(yield T._isAvailable()))return!1;const W="true"===(yield T._get(m));return yield T._remove(m),W})).apply(this,arguments)}function lr(y,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.A)(function*(y,f){return yd(y)._set(yl(f),"true")})).apply(this,arguments)}function mc(){ka.clear()}function Fa(y,f){ka.set(y._key(),f)}function yd(y){return wt(y._redirectPersistence)}function yl(y){return Hn(_l,y.config.apiKey,y.name)}function vc(y,f,m){return function Va(y,f,m){return La.apply(this,arguments)}(y,f,m)}function La(){return(La=(0,l.A)(function*(y,f,m){const T=bn(y);Ye(y,f,li),yield T._initializationPromise;const W=Ns(T,m);return yield lr(W,T),W._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function Id(y,f,m){return function bu(y,f,m){return _c.apply(this,arguments)}(y,f,m)}function _c(){return(_c=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y);Ye(T.auth,f,li),yield T.auth._initializationPromise;const W=Ns(T.auth,m);yield lr(W,T.auth);const ce=yield Il(T);return W._openRedirect(T.auth,f,"reauthViaRedirect",ce)})).apply(this,arguments)}function Uh(y,f,m){return function Ut(y,f,m){return br.apply(this,arguments)}(y,f,m)}function br(){return(br=(0,l.A)(function*(y,f,m){const T=(0,b.Ku)(y);Ye(T.auth,f,li),yield T.auth._initializationPromise;const W=Ns(T.auth,m);yield V(!1,T,f.providerId),yield lr(W,T.auth);const ce=yield Il(T);return W._openRedirect(T.auth,f,"linkViaRedirect",ce)})).apply(this,arguments)}function Ed(y,f){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.A)(function*(y,f){return yield bn(y)._initializationPromise,ri(y,f,!1)})).apply(this,arguments)}function ri(y,f){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.A)(function*(y,f,m=!1){const T=bn(y),W=Ns(T,f),ot=yield new qs(T,W,m).execute();return ot&&!m&&(delete ot.user._redirectEventId,yield T._persistUserIfCurrent(ot.user),yield T._setRedirectUser(null,f)),ot})).apply(this,arguments)}function Il(y){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.A)(function*(y){const f=Sa(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class mi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(m=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Cd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $h(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var T;if(f.error&&!$h(f)){const W=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(je(this.auth,W))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const T=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(f))}saveEventToCache(f){this.cachedEventUids.add(Ua(f)),this.lastProcessedEventTime=Date.now()}}function Ua(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function $h({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ji(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.A)(function*(y,f={}){return st(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ar=/^https?/;function nl(){return(nl=(0,l.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ji(y);for(const m of f)try{if(Ec(m))return}catch{}Fe(y,"unauthorized-domain")})).apply(this,arguments)}function Ec(y){const f=ze(),{protocol:m,hostname:T}=new URL(f);if(y.startsWith("chrome-extension://")){const ot=new URL(y);return""===ot.hostname&&""===T?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ot.hostname===T}if(!Ar.test(m))return!1;if(Dd.test(y))return T===y;const W=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(T)}const Ad=new Xt(3e4,6e4);function Td(){const y=ei().___jsl;if(null!=y&&y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let El=null;const Mu=new Xt(5e3,15e3),bp="__/auth/iframe",Bh="emulator/auth/iframe",wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jh(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?ut(f,Bh):`https://${y.config.authDomain}/${bp}`,T={apiKey:f.apiKey,appName:y.name,v:j.SDK_VERSION},W=bd.get(y.config.apiHost);W&&(T.eid=W);const ce=y._getFrameworks();return ce.length&&(T.fw=ce.join(",")),`${m}?${(0,b.Am)(T).slice(1)}`}function Dc(){return Dc=(0,l.A)(function*(y){const f=yield function Cc(y){return El=El||function Ru(y){return new Promise((f,m)=>{var T,W,ce;function ot(){Td(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Td(),m(je(y,"network-request-failed"))},timeout:Ad.get()})}if(null!==(W=null===(T=ei().gapi)||void 0===T?void 0:T.iframes)&&void 0!==W&&W.Iframe)f(gapi.iframes.getContext());else{if(null===(ce=ei().gapi)||void 0===ce||!ce.load){const xt=Bt("iframefcb");return ei()[xt]=()=>{gapi.load?ot():m(je(y,"network-request-failed"))},H(`${function kt(){return Ie.gapiScript}()}?onload=${xt}`).catch(tn=>m(tn))}ot()}}).catch(f=>{throw El=null,f})}(y),El}(y),m=ei().gapi;return U(m,y,"internal-error"),f.open({where:document.body,url:jh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wd,dontclear:!0},T=>new Promise(function(){var W=(0,l.A)(function*(ce,ot){yield T.restyle({setHideOnLeave:!1});const xt=je(y,"network-request-failed"),tn=ei().setTimeout(()=>{ot(xt)},Mu.get());function zn(){ei().clearTimeout(tn),ce(T)}T.ping(zn).then(zn,()=>{ot(xt)})});return function(ce,ot){return W.apply(this,arguments)}}()))}),Dc.apply(this,arguments)}const Rd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pu{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zh="__/auth/handler",ca="emulator/auth/handler",Md=encodeURIComponent("fac");function ks(y,f,m,T,W,ce){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.A)(function*(y,f,m,T,W,ce){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const ot={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:T,v:j.SDK_VERSION,eventId:W};if(f instanceof li){f.setDefaultLanguage(y.languageCode),ot.providerId=f.providerId||"",(0,b.Im)(f.getCustomParameters())||(ot.customParameters=JSON.stringify(f.getCustomParameters()));for(const[tr,kr]of Object.entries(ce||{}))ot[tr]=kr}if(f instanceof bi){const tr=f.getScopes().filter(kr=>""!==kr);tr.length>0&&(ot.scopes=tr.join(","))}y.tenantId&&(ot.tid=y.tenantId);const xt=ot;for(const tr of Object.keys(xt))void 0===xt[tr]&&delete xt[tr];const tn=yield y._getAppCheckToken(),zn=tn?`#${Md}=${encodeURIComponent(tn)}`:"";return`${function Pd({config:y}){return y.emulator?ut(y,ca):`https://${y.authDomain}/${zh}`}(y)}?${(0,b.Am)(xt).slice(1)}${zn}`})).apply(this,arguments)}const Qs="webStorageSupport",eu=class co{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=ri,this._overrideRedirectResult=Fa}_openPopup(f,m,T,W){var ce=this;return(0,l.A)(function*(){var ot;Me(null===(ot=ce.eventManagers[f._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const xt=yield ks(f,m,T,ze(),W);return function Ac(y,f,m,T=500,W=600){const ce=Math.max((window.screen.availHeight-W)/2,0).toString(),ot=Math.max((window.screen.availWidth-T)/2,0).toString();let xt="";const tn=Object.assign(Object.assign({},Rd),{width:T.toString(),height:W.toString(),top:ce,left:ot}),zn=(0,b.ZQ)().toLowerCase();m&&(xt=vr(zn)?"_blank":m),dn(zn)&&(f=f||"http://localhost",tn.scrollbars="yes");const tr=Object.entries(tn).reduce((oo,[Ho,ru])=>`${oo}${Ho}=${ru},`,"");if(function G(y=(0,b.ZQ)()){var f;return gn(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(zn)&&"_self"!==xt)return function Hh(y,f){const m=document.createElement("a");m.href=y,m.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(f||"",xt),new Pu(null);const kr=window.open(f||"",xt,tr);U(kr,y,"popup-blocked");try{kr.focus()}catch{}return new Pu(kr)}(f,xt,Sa())})()}_openRedirect(f,m,T,W){var ce=this;return(0,l.A)(function*(){return yield ce._originValidation(f),function Ql(y){ei().location.href=y}(yield ks(f,m,T,ze(),W)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:W,promise:ce}=this.eventManagers[m];return W?Promise.resolve(W):(Me(ce,"If manager is not set, promise should be"),ce)}const T=this.initAndGetManager(f);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(f){var m=this;return(0,l.A)(function*(){const T=yield function Sd(y){return Dc.apply(this,arguments)}(f),W=new mi(f);return T.register("authEvent",ce=>(U(null==ce?void 0:ce.authEvent,f,"invalid-auth-event"),{status:W.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:W},m.iframes[f._key()]=T,W})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Qs,{type:Qs},W=>{var ce;const ot=null===(ce=null==W?void 0:W[0])||void 0===ce?void 0:ce[Qs];void 0!==ot&&m(!!ot),Fe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function zr(y){return nl.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return tt()||sr()||gn()}};class tu{constructor(f){this.factorId=f}_process(f,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,T);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}class Cl extends tu{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Cl(f)}_finalizeEnroll(f,m,T){return function cr(y,f){return st(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(y,f))}(f,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function R(y,f){return st(y,"POST","/v2/accounts/mfaSignIn:finalize",Ae(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nu=(()=>{class y{constructor(){}static assertion(m){return Cl._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Nu="@firebase/auth";class $a{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(T=>{f((null==T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,b.XA)("authIdTokenMaxAge"),function Ce(y){Ie=y}({loadJS:y=>new Promise((f,m)=>{const T=document.createElement("script");T.setAttribute("src",y),T.onload=f,T.onerror=W=>{const ce=je("internal-error");ce.customData=W,m(ce)},T.type="text/javascript",T.charset="UTF-8",function Tl(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ds(y){(0,j._registerComponent)(new ye.uA("auth",(f,{options:m})=>{const T=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),ce=f.getProvider("app-check-internal"),{apiKey:ot,authDomain:xt}=T.options;U(ot&&!ot.includes(":"),"invalid-api-key",{appName:T.name});const tn={apiKey:ot,authDomain:xt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(y)},zn=new ur(T,W,ce,tn);return function Pt(y,f){const m=(null==f?void 0:f.persistence)||[],T=(Array.isArray(m)?m:[m]).map(wt);null!=f&&f.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(T,null==f?void 0:f.popupRedirectResolver)}(zn,m),zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,T)=>{f.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new ye.uA("auth-internal",f=>{const m=bn(f.getProvider("auth").getImmediate());return new $a(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(Nu,"1.6.2",function Mp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,j.registerVersion)(Nu,"1.6.2","esm2017")}("Browser")},2824:(un,it,F)=>{"use strict";F.d(it,{fS:()=>__,Ix:()=>pu,H6:()=>c0,T1:()=>eo,Wq:()=>uc,uY:()=>ll,W6:()=>Nt,Ci:()=>qf,YQ:()=>Sh,NJ:()=>cc,Dc:()=>Xr,GA:()=>mm,cm:()=>qs,K$:()=>Dn,FA:()=>rr,lo:()=>Jr,bI:()=>sn,qG:()=>wp,qi:()=>k,c8:()=>yh,gS:()=>lm,C3:()=>TE,hq:()=>P_,me:()=>p0,rJ:()=>u0,Cs:()=>Xg,vN:()=>n_,kd:()=>D_,CL:()=>vm,LA:()=>Yg,H9:()=>od,ol:()=>zf,Q5:()=>f0,Os:()=>m0,FD:()=>T0,rf:()=>bh,Ws:()=>zi,z6:()=>hd,x7:()=>M0,nY:()=>P0,_e:()=>x0,GG:()=>I_,kU:()=>E_,Rr:()=>am,aU:()=>h0,GV:()=>wE,AB:()=>m_,$1:()=>Th,po:()=>v0,St:()=>Gf,aQ:()=>A_,FC:()=>T_,My:()=>g_,P:()=>f_,B:()=>sd,yx:()=>Qg,c4:()=>k0,O5:()=>M_,BN:()=>C_,He:()=>C,lN:()=>R0,HM:()=>Jf,EO:()=>mu,mZ:()=>N0,iB:()=>g0,_M:()=>D0});var Ee,l=F(467),b=F(7852),j=F(1362),oe=F(8041),he=F(1076),ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={},We=We||{},le=ye||self;function de(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Ve(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Oe="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function ct(o,e,r){return o.call.apply(o.bind,arguments)}function Le(o,e,r){if(!o)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),o.apply(e,c)}}return function(){return o.apply(e,arguments)}}function Re(o,e,r){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:Le).apply(null,arguments)}function $e(o,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),o.apply(this,s)}}function at(o,e){function r(){}r.prototype=e.prototype,o.$=e.prototype,o.prototype=new r,o.prototype.constructor=o,o.ac=function(s,c,d){for(var p=Array(arguments.length-2),w=2;w<arguments.length;w++)p[w-2]=arguments[w];return e.prototype[c].apply(s,p)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ue(o){Object.prototype.hasOwnProperty.call(o,Oe)&&o[Oe]||(o[Oe]=++ke)}(this)},Fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let r=0;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1};function Ye(o){const e=o.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=o[s];return r}return[]}function fe(o,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(de(s)){const c=o.length||0,d=s.length||0;o.length=c+d;for(let p=0;p<d;p++)o[c+p]=s[p]}else o.push(s)}}function U(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const r=()=>{};le.addEventListener("test",r,e),le.removeEventListener("test",r,e)}catch{}return o}();function Me(o){return/^[\s\xa0]*$/.test(o)}function ze(){var o=le.navigator;return o&&(o=o.userAgent)?o:""}function Ze(o){return-1!=ze().indexOf(o)}function dt(o){return dt[" "](o),o}dt[" "]=function(){};var st,o,fn=Ze("Opera"),Xt=Ze("Trident")||Ze("MSIE"),ut=Ze("Edge"),we=ut||Xt,_e=Ze("Gecko")&&!(-1!=ze().toLowerCase().indexOf("webkit")&&!Ze("Edge"))&&!(Ze("Trident")||Ze("MSIE"))&&!Ze("Edge"),Pe=-1!=ze().toLowerCase().indexOf("webkit")&&!Ze("Edge");function Ae(){var o=le.document;return o?o.documentMode:void 0}e:{var xe="",zt=(o=ze(),_e?/rv:([^\);]+)(\)|;)/.exec(o):ut?/Edge\/([\d\.]+)/.exec(o):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Pe?/WebKit\/(\S+)/.exec(o):fn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(zt&&(xe=zt?zt[1]:""),Xt){var rn=Ae();if(null!=rn&&rn>parseFloat(xe)){st=String(rn);break e}}st=xe}var An=le.document&&Xt&&(Ae()||parseInt(st,10))||void 0;function Qn(o,e){if(U.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,s=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(_e){e:{try{dt(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==r?e=o.fromElement:"mouseout"==r&&(e=o.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:$n[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Qn.$.h.call(this)}}at(Qn,U);var $n={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),kn=0;function St(o,e,r,s,c){this.listener=o,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=c,this.key=++kn,this.fa=this.ia=!1}function Et(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function Dt(o,e,r){for(const s in o)e.call(r,o[s],s,o)}function hn(o){const e={};for(const r in o)e[r]=o[r];return e}const Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(o,e){let r,s;for(let c=1;c<arguments.length;c++){for(r in s=arguments[c],s)o[r]=s[r];for(let d=0;d<Tn.length;d++)r=Tn[d],Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}}function qn(o){this.src=o,this.g={},this.h=0}function Yn(o,e){var r=e.type;if(r in o.g){var d,s=o.g[r],c=He(s,e);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(Et(e),0==o.g[r].length&&(delete o.g[r],o.h--))}}function nr(o,e,r,s){for(var c=0;c<o.length;++c){var d=o[c];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return c}return-1}qn.prototype.add=function(o,e,r,s,c){var d=o.toString();(o=this.g[d])||(o=this.g[d]=[],this.h++);var p=nr(o,e,s,c);return-1<p?(e=o[p],r||(e.ia=!1)):((e=new St(e,this.src,d,!!s,c)).ia=r,o.push(e)),e};var mn="closure_lm_"+(1e6*Math.random()|0),wn={};function Tr(o,e,r,s,c){if(s&&s.once)return Ln(o,e,r,s,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Tr(o,e[d],r,s,c);return null}return r=Dr(r),o&&o[Tt]?o.O(e,r,Ve(s)?!!s.capture:!!s,c):Nr(o,e,r,!1,s,c)}function Nr(o,e,r,s,c,d){if(!e)throw Error("Invalid event type");var p=Ve(c)?!!c.capture:!!c,w=Cn(o);if(w||(o[mn]=w=new qn(o)),(r=w.add(e,r,s,p,d)).proxy)return r;if(s=function dr(){const e=gr;return function o(r){return e.call(o.src,o.listener,r)}}(),r.proxy=s,s.src=o,s.listener=r,o.addEventListener)be||(c=p),void 0===c&&(c=!1),o.addEventListener(e.toString(),s,c);else if(o.attachEvent)o.attachEvent(Sn(e.toString()),s);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(s)}return r}function Ln(o,e,r,s,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Ln(o,e[d],r,s,c);return null}return r=Dr(r),o&&o[Tt]?o.P(e,r,Ve(s)?!!s.capture:!!s,c):Nr(o,e,r,!0,s,c)}function or(o,e,r,s,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)or(o,e[d],r,s,c);else s=Ve(s)?!!s.capture:!!s,r=Dr(r),o&&o[Tt]?(o=o.i,(e=String(e).toString())in o.g&&-1<(r=nr(d=o.g[e],r,s,c))&&(Et(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete o.g[e],o.h--))):o&&(o=Cn(o))&&(e=o.g[e.toString()],o=-1,e&&(o=nr(e,r,s,c)),(r=-1<o?e[o]:null)&&mr(r))}function mr(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Tt])Yn(e.i,o);else{var r=o.type,s=o.proxy;e.removeEventListener?e.removeEventListener(r,s,o.capture):e.detachEvent?e.detachEvent(Sn(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=Cn(e))?(Yn(r,o),0==r.h&&(r.src=null,e[mn]=null)):Et(o)}}}function Sn(o){return o in wn?wn[o]:wn[o]="on"+o}function gr(o,e){if(o.fa)o=!0;else{e=new Qn(e,this);var r=o.listener,s=o.la||o.src;o.ia&&mr(o),o=r.call(s,e)}return o}function Cn(o){return(o=o[mn])instanceof qn?o:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dr(o){return"function"==typeof o?o:(o[Zn]||(o[Zn]=function(e){return o.handleEvent(e)}),o[Zn])}function Gn(){Fe.call(this),this.i=new qn(this),this.S=this,this.J=null}function jn(o,e){var r,s=o.J;if(s)for(r=[];s;s=s.J)r.push(s);if(o=o.S,s=e.type||e,"string"==typeof e)e=new U(e,o);else if(e instanceof U)e.target=e.target||o;else{var c=e;Fn(e=new U(s,o),c)}if(c=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];c=wr(p,s,!0,e)&&c}if(c=wr(p=e.g=o,s,!0,e)&&c,c=wr(p,s,!1,e)&&c,r)for(d=0;d<r.length;d++)c=wr(p=e.g=r[d],s,!1,e)&&c}function wr(o,e,r,s){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var w=p.listener,M=p.la||p.src;p.ia&&Yn(o.i,p),c=!1!==w.call(M,s)&&c}}return c&&!s.defaultPrevented}at(Gn,Fe),Gn.prototype[Tt]=!0,Gn.prototype.removeEventListener=function(o,e,r,s){or(this,o,e,r,s)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var r=o.g[e],s=0;s<r.length;s++)Et(r[s]);delete o.g[e],o.h--}}this.J=null},Gn.prototype.O=function(o,e,r,s){return this.i.add(String(o),e,!1,r,s)},Gn.prototype.P=function(o,e,r,s){return this.i.add(String(o),e,!0,r,s)};var Sr=le.JSON.stringify;function Qe(){var o=q;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var yt=new class Lr{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qe,o=>o.reset());class qe{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ie(o){var e=1;o=o.split(":");const r=[];for(;0<e&&o.length;)r.push(o.shift()),e--;return o.length&&r.push(o.join(":")),r}function ue(o){le.setTimeout(()=>{throw o},0)}let K,Q=!1,q=new class Ge{constructor(){this.h=this.g=null}add(e,r){const s=yt.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Ke=()=>{const o=le.Promise.resolve(void 0);K=()=>{o.then(wt)}};var wt=()=>{for(var o;o=Qe();){try{o.h.call(o.g)}catch(r){ue(r)}var e=yt;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}Q=!1};function cn(o,e){Gn.call(this),this.h=o||1,this.g=e||le,this.j=Re(this.qb,this),this.l=Date.now()}function Mn(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function Hn(o,e,r){if("function"==typeof o)r&&(o=Re(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Re(o.handleEvent,o)}return 2147483647<Number(e)?-1:le.setTimeout(o,e||0)}function pr(o){o.g=Hn(()=>{o.g=null,o.i&&(o.i=!1,pr(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}at(cn,Gn),(Ee=cn.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jn(this,"tick"),this.ga&&(Mn(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){cn.$.N.call(this),Mn(this),delete this.g};class Pn extends Fe{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(o){Fe.call(this),this.h=o,this.g={}}at(dn,Fe);var sr=[];function vr(o,e,r,s){Array.isArray(r)||(r&&(sr[0]=r.toString()),r=sr);for(var c=0;c<r.length;c++){var d=Tr(e,r[c],s||o.handleEvent,!1,o.h||o);if(!d)break;o.g[d.key]=d}}function ai(o){Dt(o.g,function(e,r){this.g.hasOwnProperty(r)&&mr(e)},o),o.g={}}function Rt(){this.g=!0}function gn(o,e,r,s){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function G(o,e){if(!o.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var s=r[o];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return Sr(r)}catch{return e}}(o,r)+(s?" "+s:"")})}dn.prototype.N=function(){dn.$.N.call(this),ai(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rt.prototype.Ea=function(){this.g=!1},Rt.prototype.info=function(){};var De={},tt=null;function Ot(){return tt=tt||new Gn}function yn(o){U.call(this,De.Ta,o)}function Wn(o){const e=Ot();jn(e,new yn(e))}function Xn(o,e){U.call(this,De.STAT_EVENT,o),this.stat=e}function En(o){const e=Ot();jn(e,new Xn(e,o))}function Ur(o,e){U.call(this,De.Ua,o),this.size=e}function Nn(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){o()},e)}De.Ta="serverreachability",at(yn,U),De.STAT_EVENT="statevent",at(Xn,U),De.Ua="timingevent",at(Ur,U);var ur={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hi(){}function Ce(){}hi.prototype.h=null;var kt,H={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ge(){U.call(this,"d")}function rt(){U.call(this,"c")}function Bt(){}function Jt(o,e,r,s){this.l=o,this.j=e,this.m=r,this.W=s||1,this.U=new dn(this),this.P=Un,this.V=new cn(o=we?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}at(ge,U),at(rt,U),at(Bt,hi),Bt.prototype.g=function(){return new XMLHttpRequest},Bt.prototype.i=function(){return{}},kt=new Bt;var Un=45e3,$r={},_t={};function B(o,e,r){o.L=1,o.A=Wr(ne(e)),o.u=r,o.S=!0,Y(o,null)}function Y(o,e){o.G=Date.now(),Pt(o),o.B=ne(o.A);var r=o.B,s=o.W;Array.isArray(s)||(s=[String(s)]),Fo(r.i,"t",s),o.o=0,r=o.l.J,o.h=new _n,o.g=Ya(o.l,r?e:null,!o.u),0<o.O&&(o.M=new Pn(Re(o.Pa,o,o.g),o.O)),vr(o.U,o.g,"readystatechange",o.nb),e=o.I?hn(o.I):{},o.u?(o.v||(o.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,e)):(o.v="GET",o.g.ha(o.B,o.v,null,e)),Wn(),function vt(o,e,r,s,c,d){o.info(function(){if(o.g)if(d)for(var p="",w=d.split("&"),M=0;M<w.length;M++){var $=w[M].split("=");if(1<$.length){var ee=$[0];$=$[1];var Te=ee.split("_");p=2<=Te.length&&"type"==Te[1]?p+(ee+"=")+$+"&":p+(ee+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+r+"\n"+p})}(o.j,o.v,o.B,o.m,o.W,o.u)}function Be(o){return!!o.g&&"GET"==o.v&&2!=o.L&&o.l.Ha}function Ne(o,e,r){let c,s=!0;for(;!o.J&&o.o<r.length;){if(c=nt(o,r),c==_t){4==e&&(o.s=4,En(14),s=!1),gn(o.j,o.m,null,"[Incomplete Response]");break}if(c==$r){o.s=4,En(15),gn(o.j,o.m,r,"[Invalid Chunk]"),s=!1;break}gn(o.j,o.m,c,null),an(o,c)}Be(o)&&0!=o.o&&(o.h.g=o.h.g.slice(o.o),o.o=0),4!=e||0!=r.length||o.h.h||(o.s=1,En(16),s=!1),o.i=o.i&&s,s?0<r.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),jr(e),e.M=!0,En(11))):(gn(o.j,o.m,r,"[Invalid Chunked Response]"),qt(o),Yt(o))}function nt(o,e){var r=o.o,s=e.indexOf("\n",r);return-1==s?_t:(r=Number(e.substring(r,s)),isNaN(r)?$r:(s+=1)+r>e.length?_t:(e=e.slice(s,s+r),o.o=s+r,e))}function Pt(o){o.Y=Date.now()+o.P,Lt(o,o.P)}function Lt(o,e){if(null!=o.C)throw Error("WatchDog timer not null");o.C=Nn(Re(o.lb,o),e)}function en(o){o.C&&(le.clearTimeout(o.C),o.C=null)}function Yt(o){0==o.l.H||o.J||Ca(o.l,o)}function qt(o){en(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,Mn(o.V),ai(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function an(o,e){try{var r=o.l;if(0!=r.H&&(r.g==o||po(r.i,o)))if(!o.K&&po(r.i,o)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<o.G))break e;bs(r),L(r)}Jn(r),En(18)}}else r.Fa=c[1],0<r.Fa-r.V&&37500>c[2]&&r.G&&0==r.A&&!r.v&&(r.v=Nn(Re(r.ib,r),6e3));if(1>=ds(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Jo(r,11)}else if((o.K||r.g==o)&&bs(r),!Me(e))for(c=r.Ja.g.parse(e),e=0;e<c.length;e++){let $=c[e];if(r.V=$[0],$=$[1],2==r.H)if("c"==$[0]){r.K=$[1],r.pa=$[2];const ee=$[3];null!=ee&&(r.ra=ee,r.l.info("VER="+r.ra));const Te=$[4];null!=Te&&(r.Ga=Te,r.l.info("SVER="+r.Ga));const Je=$[5];null!=Je&&"number"==typeof Je&&0<Je&&(r.L=s=1.5*Je,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const bt=o.g;if(bt){const vn=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vn){var d=s.i;d.g||-1==vn.indexOf("spdy")&&-1==vn.indexOf("quic")&&-1==vn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(hs(d,d.h),d.h=null))}if(s.F){const xn=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(s.Da=xn,Vn(s.I,s.F,xn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-o.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=o;if((s=r).wa=js(s,s.J?s.pa:null,s.Y),p.K){wi(s.i,p);var w=p,M=s.L;M&&w.setTimeout(M),w.C&&(en(w),Pt(w)),s.g=p}else on(s);0<r.j.length&&se(r)}else"stop"!=$[0]&&"close"!=$[0]||Jo(r,7);else 3==r.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Jo(r,7):Bs(r):"noop"!=$[0]&&r.h&&r.h.Aa($),r.A=0)}Wn()}catch{}}function _r(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(de(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var r=function On(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(de(o)||"string"==typeof o){var e=[];o=o.length;for(var r=0;r<o;r++)e.push(r);return e}e=[],r=0;for(const s in o)e[r++]=s;return e}}}(o),s=function Wt(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(de(o)){for(var e=[],r=o.length,s=0;s<r;s++)e.push(o[s]);return e}for(s in e=[],r=0,o)e[r++]=o[s];return e}(o),c=s.length,d=0;d<c;d++)e.call(void 0,s[d],r&&r[d],o)}(Ee=Jt.prototype).setTimeout=function(o){this.P=o},Ee.nb=function(o){o=o.target;const e=this.M;e&&3==ui(o)?e.l():this.Pa(o)},Ee.Pa=function(o){try{if(o==this.g)e:{const ee=ui(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||we||this.g&&(this.h.h||this.g.ja()||Ia(this.g)))){this.J||4!=ee||7==e||Wn(),en(this);var r=this.g.da();this.ca=r;t:if(Be(this)){var s=Ia(this.g);o="";var c=s.length,d=4==ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),Yt(this);var p="";break t}this.h.i=new le.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,o+=this.h.i.decode(s[e],{stream:d&&e==c-1});s.length=0,this.h.g+=o,this.o=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function Mt(o,e,r,s,c,d,p){o.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.v,this.B,this.m,this.W,ee,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Me(w)){var $=w;break t}}$=null}if(!(r=$)){this.i=!1,this.s=3,En(12),qt(this),Yt(this);break e}gn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,r)}this.S?(Ne(this,ee,p),we&&this.i&&3==ee&&(vr(this.U,this.V,"tick",this.mb),this.V.start())):(gn(this.j,this.m,p,null),an(this,p)),4==ee&&qt(this),this.i&&!this.J&&(4==ee?Ca(this.l,this):(this.i=!1,Pt(this)))}else(function $s(o){const e={};o=(o.g&&2<=ui(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<o.length;s++){if(Me(o[s]))continue;var r=ie(o[s]);const c=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[c]||[];e[c]=d,d.push(r)}!function It(o,e){for(const r in o)e.call(void 0,o[r],r,o)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),qt(this),Yt(this)}}}catch{}},Ee.mb=function(){if(this.g){var o=ui(this.g),e=this.g.ja();this.o<e.length&&(en(this),Ne(this,o,e),this.i&&4!=o&&Pt(this))}},Ee.cancel=function(){this.J=!0,qt(this)},Ee.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(function ht(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Wn(),En(17)),qt(this),this.s=2,Yt(this)):Lt(this,this.Y-o)};var yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof E){this.h=o.h,x(this,o.j),this.s=o.s,this.g=o.g,ae(this,o.m),this.l=o.l;var e=o.i,r=new er;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),et(this,r),this.o=o.o}else o&&(e=String(o).match(yr))?(this.h=!1,x(this,e[1]||"",!0),this.s=Ii(e[2]||""),this.g=Ii(e[3]||"",!0),ae(this,e[4]),this.l=Ii(e[5]||"",!0),et(this,e[6]||"",!0),this.o=Ii(e[7]||"")):(this.h=!1,this.i=new er(null,this.h))}function ne(o){return new E(o)}function x(o,e,r){o.j=r?Ii(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function ae(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function et(o,e,r){e instanceof er?(o.i=e,function Ao(o,e){e&&!o.j&&(to(o),o.i=null,o.g.forEach(function(r,s){var c=s.toLowerCase();s!=c&&(us(this,s),Fo(this,c,r))},o)),o.j=e}(o.i,o.h)):(r||(e=Ei(e,fi)),o.i=new er(e,o.h))}function Vn(o,e,r){o.i.set(e,r)}function Wr(o){return Vn(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ii(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ei(o,e,r){return"string"==typeof o?(o=encodeURI(o).replace(e,Oi),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Oi(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}E.prototype.toString=function(){var o=[],e=this.j;e&&o.push(Ei(e,Ts,!0),":");var r=this.g;return(r||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(Ei(e,Ts,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&o.push("/"),o.push(Ei(r,"/"==r.charAt(0)?ea:Wi,!0))),(r=this.i.toString())&&o.push("?",r),(r=this.o)&&o.push("#",Ei(r,Go)),o.join("")};var Ts=/[#\/\?@]/g,Wi=/[#\?:]/g,ea=/[#\?]/g,fi=/[#\?@]/g,Go=/#/g;function er(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function to(o){o.g||(o.g=new Map,o.h=0,o.i&&function Br(o,e){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var s=o[r].indexOf("="),c=null;if(0<=s){var d=o[r].substring(0,s);c=o[r].substring(s+1)}else d=o[r];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(o.i,function(e,r){o.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function us(o,e){to(o),e=Gi(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function Ko(o,e){return to(o),e=Gi(o,e),o.g.has(e)}function Fo(o,e,r){us(o,e),0<r.length&&(o.i=null,o.g.set(Gi(o,e),Ye(r)),o.h+=r.length)}function Gi(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(Ee=er.prototype).add=function(o,e){to(this),this.i=null,o=Gi(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(e),this.h+=1,this},Ee.forEach=function(o,e){to(this),this.g.forEach(function(r,s){r.forEach(function(c){o.call(e,c,s,this)},this)},this)},Ee.ta=function(){to(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const c=o[s];for(let d=0;d<c.length;d++)r.push(e[s])}return r},Ee.Z=function(o){to(this);let e=[];if("string"==typeof o)Ko(this,o)&&(e=e.concat(this.g.get(Gi(this,o))));else{o=Array.from(this.g.values());for(let r=0;r<o.length;r++)e=e.concat(o[r])}return e},Ee.set=function(o,e){return to(this),this.i=null,Ko(this,o=Gi(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},Ee.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=d;""!==p[s]&&(c+="="+encodeURIComponent(String(p[s]))),o.push(c)}}return this.i=o.join("&")};var qo=class{constructor(o,e){this.g=o,this.map=e}};function cs(o){this.l=o||fo,o=le.PerformanceNavigationTiming?0<(o=le.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fo=10;function Ls(o){return!!o.h||!!o.g&&o.g.size>=o.j}function ds(o){return o.h?1:o.g?o.g.size:0}function po(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function hs(o,e){o.g?o.g.add(e):o.h=e}function wi(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Pi(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const r of o.g.values())e=e.concat(r.F);return e}return Ye(o.i)}cs.prototype.cancel=function(){if(this.i=Pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}};var ya=class{stringify(o){return le.JSON.stringify(o,void 0)}parse(o){return le.JSON.parse(o,void 0)}};function ws(){this.g=new ya}function Us(o,e,r){const s=r||"";try{_r(o,function(c,d){let p=c;Ve(c)&&(p=Sr(c)),e.push(s+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function Qa(o,e,r,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Xo(o){this.l=o.ec||null,this.j=o.ob||!1}function Vo(o,e){Gn.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}at(Xo,hi),Xo.prototype.g=function(){return new Vo(this.l,this.j)},Xo.prototype.i=function(o){return function(){return o}}({}),at(Vo,Gn);var ki=0;function go(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function li(o){o.readyState=4,o.l=null,o.j=null,o.A=null,bi(o)}function bi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(Ee=Vo.prototype).open=function(o,e){if(this.readyState!=ki)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,bi(this)},Ee.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,li(this)),this.readyState=ki},Ee.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;go(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?li(this):bi(this),3==this.readyState&&go(this)}},Ee.Za=function(o){this.g&&(this.response=this.responseText=o,li(this))},Ee.Ya=function(o){this.g&&(this.response=o,li(this))},Ee.ka=function(){this.g&&li(this)},Ee.setRequestHeader=function(o,e){this.v.append(o,e)},Ee.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var r=e.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=e.next();return o.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var Qo=le.JSON.parse;function Rr(o){Gn.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Or,this.L=this.M=!1}at(Rr,Gn);var Or="",fs=/^https?$/i,ta=["POST","PUT"];function Yo(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,ps(o),Si(o)}function ps(o){o.F||(o.F=!0,jn(o,"complete"),jn(o,"error"))}function To(o){if(o.h&&typeof We<"u"&&(!o.C[1]||4!=ui(o)||2!=o.da()))if(o.v&&4==ui(o))Hn(o.La,0,o);else if(jn(o,"readystatechange"),4==ui(o)){o.h=!1;try{const p=o.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var c=String(o.I).match(yr)[1]||null;!c&&le.self&&le.self.location&&(c=le.self.location.protocol.slice(0,-1)),s=!fs.test(c?c.toLowerCase():"")}r=s}if(r)jn(o,"complete"),jn(o,"success");else{o.m=6;try{var d=2<ui(o)?o.g.statusText:""}catch{d=""}o.j=d+" ["+o.da()+"]",ps(o)}}finally{Si(o)}}}function Si(o,e){if(o.g){Zo(o);const r=o.g,s=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||jn(o,"ready");try{r.onreadystatechange=s}catch{}}}function Zo(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(le.clearTimeout(o.A),o.A=null)}function ui(o){return o.g?o.g.readyState:0}function Ia(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case Or:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(o){let e="";return Dt(o,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function gs(o,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=ao(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):Vn(o,e,r))}function ms(o,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||e}function Ea(o){this.Ga=0,this.j=[],this.l=new Rt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ms("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ms("baseRetryDelayMs",5e3,o),this.hb=ms("retryDelaySeedMs",1e4,o),this.eb=ms("forwardChannelMaxRetries",2,o),this.xa=ms("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new cs(o&&o.concurrentRequestLimit),this.Ja=new ws,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bs(o){if(P(o),3==o.H){var e=o.W++,r=ne(o.I);if(Vn(r,"SID",o.K),Vn(r,"RID",e),Vn(r,"TYPE","terminate"),Ct(o,r),(e=new Jt(o,o.l,e)).L=2,e.A=Wr(ne(r)),r=!1,le.navigator&&le.navigator.sendBeacon)try{r=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&le.Image&&((new Image).src=e.A,r=!0),r||(e.g=Ya(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pt(e)}Eu(o)}function L(o){o.g&&(jr(o),o.g.cancel(),o.g=null)}function P(o){L(o),o.u&&(le.clearTimeout(o.u),o.u=null),bs(o),o.i.cancel(),o.m&&("number"==typeof o.m&&le.clearTimeout(o.m),o.m=null)}function se(o){if(!Ls(o.i)&&!o.m){o.m=!0;var e=o.Na;K||Ke(),Q||(K(),Q=!0),q.add(e,o),o.C=0}}function X(o,e){var r;r=e?e.m:o.W++;const s=ne(o.I);Vn(s,"SID",o.K),Vn(s,"RID",r),Vn(s,"AID",o.V),Ct(o,s),o.o&&o.s&&gs(s,o.o,o.s),r=new Jt(o,o.l,r,o.C+1),null===o.o&&(r.I=o.s),e&&(o.j=e.F.concat(o.j)),e=jt(o,r,1e3),r.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),hs(o.i,r),B(r,s,e)}function Ct(o,e){o.na&&Dt(o.na,function(r,s){Vn(e,s,r)}),o.h&&_r({},function(r,s){Vn(e,s,r)})}function jt(o,e,r){r=Math.min(o.j.length,r);var s=o.h?Re(o.h.Va,o.h,o):null;e:{var c=o.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=c[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let w=!0;for(let M=0;M<r;M++){let $=c[M].g;const ee=c[M].map;if($-=d,0>$)d=Math.max(0,c[M].g-100),w=!1;else try{Us(ee,p,"req"+$+"_")}catch{s&&s(ee)}}if(w){s=p.join("&");break e}}}return o=o.j.splice(0,r),e.F=o,s}function on(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;K||Ke(),Q||(K(),Q=!0),q.add(e,o),o.A=0}}function Jn(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=Nn(Re(o.Ma,o),dl(o,o.A)),o.A++,0))}function jr(o){null!=o.B&&(le.clearTimeout(o.B),o.B=null)}function Ri(o){o.g=new Jt(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=ne(o.wa);Vn(e,"RID","rpc"),Vn(e,"SID",o.K),Vn(e,"AID",o.V),Vn(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&Vn(e,"TO",o.qa),Vn(e,"TYPE","xmlhttp"),Ct(o,e),o.o&&o.s&&gs(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var r=o.g;o=o.pa,r.L=1,r.A=Wr(ne(e)),r.u=null,r.S=!0,Y(r,o)}function bs(o){null!=o.v&&(le.clearTimeout(o.v),o.v=null)}function Ca(o,e){var r=null;if(o.g==e){bs(o),jr(o),o.g=null;var s=2}else{if(!po(o.i,e))return;r=e.F,wi(o.i,e),s=1}if(0!=o.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var c=o.C;jn(s=Ot(),new Ur(s,r)),se(o)}else on(o);else if(3==(c=e.s)||0==c&&0<e.ca||!(1==s&&function V(o,e){return!(ds(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=Nn(Re(o.Na,o,e),dl(o,o.C)),o.C++,0)))}(o,e)||2==s&&Jn(o)))switch(r&&0<r.length&&(e=o.i,e.i=e.i.concat(r)),c){case 1:Jo(o,5);break;case 4:Jo(o,10);break;case 3:Jo(o,6);break;default:Jo(o,2)}}function dl(o,e){let r=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(r*=2),r*e}function Jo(o,e){if(o.l.info("Error code "+e),2==e){var r=null;o.h&&(r=null);var s=Re(o.pb,o);r||(r=new E("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||x(r,"https"),Wr(r)),function Ki(o,e){const r=new Rt;if(le.Image){const s=new Image;s.onload=$e(Qa,r,s,"TestLoadImage: loaded",!0,e),s.onerror=$e(Qa,r,s,"TestLoadImage: error",!1,e),s.onabort=$e(Qa,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=$e(Qa,r,s,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=o}else e(!1)}(r.toString(),s)}else En(2);o.H=0,o.h&&o.h.za(e),Eu(o),P(o)}function Eu(o){if(o.H=0,o.ma=[],o.h){const e=Pi(o.i);(0!=e.length||0!=o.j.length)&&(fe(o.ma,e),fe(o.ma,o.j),o.i.i.length=0,Ye(o.j),o.j.length=0),o.h.ya()}}function js(o,e,r){var s=r instanceof E?ne(r):new E(r);if(""!=s.g)e&&(s.g=e+"."+s.g),ae(s,s.m);else{var c=le.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new E(null);s&&x(d,s),e&&(d.g=e),c&&ae(d,c),r&&(d.l=r),s=d}return e=o.Da,(r=o.F)&&e&&Vn(s,r,e),Vn(s,"VER",o.ra),Ct(o,s),s}function Ya(o,e,r){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(o.Ha&&!o.va?new Xo({ob:r}):o.va)).Oa(o.J),e}function Uo(){}function Ss(){if(Xt&&!(10<=Number(An)))throw Error("Environmental error: no available transport.")}function ar(o,e){Gn.call(this),this.g=new Ea(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!Me(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Me(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new qi(this)}function pi(o){ge.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const r in e){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function ci(){rt.call(this),this.status=1}function qi(o){this.g=o}function no(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hs(o,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(c=0;16>c;++c)s[c]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=o.g[3],p=(e=o.g[0])+(d^(r=o.g[1])&((c=o.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^d&(r^c))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^c^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(c^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(c^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((c=d+((p=c+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,o.g[2]=o.g[2]+c&4294967295,o.g[3]=o.g[3]+d&4294967295}function Gr(o,e){this.h=e;for(var r=[],s=!0,c=o.length-1;0<=c;c--){var d=0|o[c];s&&d==e||(r[c]=d,s=!1)}this.g=r}(Ee=Rr.prototype).Oa=function(o){this.M=o},Ee.ha=function(o,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kt.g(),this.C=function Ie(o){return o.h||(o.h=o.i())}(this.u?this.u:kt),this.g.onreadystatechange=Re(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(d){return void Yo(this,d)}if(o=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)r.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),c=le.FormData&&o instanceof le.FormData,!(0<=He(ta,e))||s||c||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zo(this),0<this.B&&((this.L=function Lo(o){return Xt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Re(this.ua,this)):this.A=Hn(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(d){Yo(this,d)}},Ee.ua=function(){typeof We<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},Ee.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,jn(this,"complete"),jn(this,"abort"),Si(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),Rr.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?To(this):this.kb())},Ee.kb=function(){To(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),Qo(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=Ea.prototype).ra=8,Ee.H=1,Ee.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const c=new Jt(this,this.l,o);let d=this.s;if(this.U&&(d?(d=hn(d),Fn(d,this.U)):d=this.U),null!==this.o||this.O||(c.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=jt(this,c,e),Vn(r=ne(this.I),"RID",o),Vn(r,"CVER",22),this.F&&Vn(r,"X-HTTP-Session-Id",this.F),Ct(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(ao(d)))+"&"+e:this.o&&gs(r,this.o,d)),hs(this.i,c),this.bb&&Vn(r,"TYPE","init"),this.P?(Vn(r,"$req",e),Vn(r,"SID","null"),c.aa=!0,B(c,r,null)):B(c,r,e),this.H=2}}else 3==this.H&&(o?X(this,o):0==this.j.length||Ls(this.i)||X(this))},Ee.Ma=function(){if(this.u=null,Ri(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Nn(Re(this.jb,this),o)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),L(this),Ri(this))},Ee.ib=function(){null!=this.v&&(this.v=null,L(this),Jn(this),En(19))},Ee.pb=function(o){o?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=Uo.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Ss.prototype.g=function(o,e){return new ar(o,e)},at(ar,Gn),ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,r=this.h||void 0;En(0),o.Y=e,o.na=r||{},o.G=o.aa,o.I=js(o,null,o.Y),se(o)},ar.prototype.close=function(){Bs(this.g)},ar.prototype.u=function(o){var e=this.g;if("string"==typeof o){var r={};r.__data__=o,o=r}else this.v&&((r={}).__data__=Sr(o),o=r);e.j.push(new qo(e.fb++,o)),3==e.H&&se(e)},ar.prototype.N=function(){this.g.h=null,delete this.j,Bs(this.g),delete this.g,ar.$.N.call(this)},at(pi,ge),at(ci,rt),at(qi,Uo),qi.prototype.Ba=function(){jn(this.g,"a")},qi.prototype.Aa=function(o){jn(this.g,new pi(o))},qi.prototype.za=function(o){jn(this.g,new ci)},qi.prototype.ya=function(){jn(this.g,"b")},at(no,function $i(){this.blockSize=-1}),no.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},no.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var r=e-this.blockSize,s=this.m,c=this.h,d=0;d<e;){if(0==c)for(;d<=r;)Hs(this,o,d),d+=this.blockSize;if("string"==typeof o){for(;d<e;)if(s[c++]=o.charCodeAt(d++),c==this.blockSize){Hs(this,s),c=0;break}}else for(;d<e;)if(s[c++]=o[d++],c==this.blockSize){Hs(this,s),c=0;break}}this.h=c,this.i+=e},no.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var r=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&r,r/=256;for(this.j(o),o=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)o[r++]=this.g[e]>>>s&255;return o};var Kl={};function ql(o){return-128<=o&&128>o?function $t(o,e){var r=Kl;return Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]=e(o)}(o,function(e){return new Gr([0|e],0>e?-1:0)}):new Gr([0|o],0>o?-1:0)}function Xi(o){if(isNaN(o)||!isFinite(o))return na;if(0>o)return Fi(Xi(-o));for(var e=[],r=1,s=0;o>=r;s++)e[s]=o/r|0,r*=es;return new Gr(e,0)}var es=4294967296,na=ql(0),zs=ql(1),dc=ql(16777216);function wo(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function $o(o){return-1==o.h}function Fi(o){for(var e=o.g.length,r=[],s=0;s<e;s++)r[s]=~o.g[s];return new Gr(r,~o.h).add(zs)}function ra(o,e){return o.add(Fi(e))}function Da(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function bo(o,e){this.g=o,this.h=e}function Aa(o,e){if(wo(e))throw Error("division by zero");if(wo(o))return new bo(na,na);if($o(o))return e=Aa(Fi(o),e),new bo(Fi(e.g),Fi(e.h));if($o(e))return e=Aa(o,Fi(e)),new bo(Fi(e.g),e.h);if(30<o.g.length){if($o(o)||$o(e))throw Error("slowDivide_ only works with positive integers.");for(var r=zs,s=e;0>=s.X(o);)r=hl(r),s=hl(s);var c=Bo(r,1),d=Bo(s,1);for(s=Bo(s,2),r=Bo(r,2);!wo(s);){var p=d.add(s);0>=p.X(o)&&(c=c.add(r),d=p),s=Bo(s,1),r=Bo(r,1)}return e=ra(o,c.R(e)),new bo(c,e)}for(c=na;0<=o.X(e);){for(r=Math.max(1,Math.floor(o.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=Xi(r)).R(e);$o(p)||0<p.X(o);)p=(d=Xi(r-=s)).R(e);wo(d)&&(d=zs),c=c.add(d),o=ra(o,p)}return new bo(c,o)}function hl(o){for(var e=o.g.length+1,r=[],s=0;s<e;s++)r[s]=o.D(s)<<1|o.D(s-1)>>>31;return new Gr(r,o.h)}function Bo(o,e){var r=e>>5;e%=32;for(var s=o.g.length-r,c=[],d=0;d<s;d++)c[d]=0<e?o.D(d+r)>>>e|o.D(d+r+1)<<32-e:o.D(d+r);return new Gr(c,o.h)}(Ee=Gr.prototype).ea=function(){if($o(this))return-Fi(this).ea();for(var o=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);o+=(0<=s?s:es+s)*e,e*=es}return o},Ee.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(wo(this))return"0";if($o(this))return"-"+Fi(this).toString(o);for(var e=Xi(Math.pow(o,6)),r=this,s="";;){var c=Aa(r,e).g,d=((0<(r=ra(r,c.R(e))).g.length?r.g[0]:r.h)>>>0).toString(o);if(wo(r=c))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},Ee.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},Ee.X=function(o){return $o(o=ra(this,o))?-1:wo(o)?0:1},Ee.abs=function(){return $o(this)?Fi(this):this},Ee.add=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0,c=0;c<=e;c++){var d=s+(65535&this.D(c))+(65535&o.D(c)),p=(d>>>16)+(this.D(c)>>>16)+(o.D(c)>>>16);s=p>>>16,r[c]=(p&=65535)<<16|(d&=65535)}return new Gr(r,-2147483648&r[r.length-1]?-1:0)},Ee.R=function(o){if(wo(this)||wo(o))return na;if($o(this))return $o(o)?Fi(this).R(Fi(o)):Fi(Fi(this).R(o));if($o(o))return Fi(this.R(Fi(o)));if(0>this.X(dc)&&0>o.X(dc))return Xi(this.ea()*o.ea());for(var e=this.g.length+o.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<o.g.length;c++){var d=this.D(s)>>>16,p=65535&this.D(s),w=o.D(c)>>>16,M=65535&o.D(c);r[2*s+2*c]+=p*M,Da(r,2*s+2*c),r[2*s+2*c+1]+=d*M,Da(r,2*s+2*c+1),r[2*s+2*c+1]+=p*w,Da(r,2*s+2*c+1),r[2*s+2*c+2]+=d*w,Da(r,2*s+2*c+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Gr(r,0)},Ee.gb=function(o){return Aa(this,o).h},Ee.and=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&o.D(s);return new Gr(r,this.h&o.h)},Ee.or=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|o.D(s);return new Gr(r,this.h|o.h)},Ee.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^o.D(s);return new Gr(r,this.h^o.h)},Ss.prototype.createWebChannel=Ss.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,bn.COMPLETE="complete",Ce.EventType=H,H.OPEN="a",H.CLOSE="b",H.ERROR="c",H.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,Rr.prototype.listenOnce=Rr.prototype.P,Rr.prototype.getLastError=Rr.prototype.Sa,Rr.prototype.getLastErrorCode=Rr.prototype.Ia,Rr.prototype.getStatus=Rr.prototype.da,Rr.prototype.getResponseJson=Rr.prototype.Wa,Rr.prototype.getResponseText=Rr.prototype.ja,Rr.prototype.send=Rr.prototype.ha,Rr.prototype.setWithCredentials=Rr.prototype.Oa,no.prototype.digest=no.prototype.l,no.prototype.reset=no.prototype.reset,no.prototype.update=no.prototype.j,Gr.prototype.add=Gr.prototype.add,Gr.prototype.multiply=Gr.prototype.R,Gr.prototype.modulo=Gr.prototype.gb,Gr.prototype.compare=Gr.prototype.X,Gr.prototype.toNumber=Gr.prototype.ea,Gr.prototype.toString=Gr.prototype.toString,Gr.prototype.getBits=Gr.prototype.D,Gr.fromNumber=Xi,Gr.fromString=function Za(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return Fi(Za(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Xi(Math.pow(e,8)),s=na,c=0;c<o.length;c+=8){var d=Math.min(8,o.length-c),p=parseInt(o.substring(c,c+d),e);8>d?(d=Xi(Math.pow(e,d)),s=s.R(d).add(Xi(p))):s=(s=s.R(r)).add(Xi(p))}return s};var hc=re.createWebChannelTransport=function(){return new Ss},Ta=re.getStatEventTarget=function(){return Ot()},Ws=re.ErrorCode=ur,So=re.EventType=bn,wa=re.Event=De,ba=re.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ia=(re.FetchXmlHttpFactory=Xo,re.WebChannel=Ce),Du=re.XhrIo=Rr,Ro=re.Md5=no,ts=re.Integer=Gr;const fl="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let mo="10.9.0";const ns=new oe.Vy("@firebase/firestore");function vo(){return ns.logLevel}function C(o){ns.setLogLevel(o)}function S(o,...e){if(ns.logLevel<=oe.$b.DEBUG){const r=e.map(te);ns.debug(`Firestore (${mo}): ${o}`,...r)}}function ve(o,...e){if(ns.logLevel<=oe.$b.ERROR){const r=e.map(te);ns.error(`Firestore (${mo}): ${o}`,...r)}}function k(o,...e){if(ns.logLevel<=oe.$b.WARN){const r=e.map(te);ns.warn(`Firestore (${mo}): ${o}`,...r)}}function te(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function pe(o="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+o;throw ve(e),new Error(e)}function lt(o,e){o||pe()}function sn(o,e){o||pe()}function Ht(o,e){return o}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Kr{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Vi.UNAUTHENTICATED))}shutdown(){}}class xi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class rs{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let c=this.i;const d=$=>this.i!==c?(c=this.i,r($)):Promise.resolve();let p=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Kn,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const $=p;e.enqueueRetryable((0,l.A)(function*(){yield $.promise,yield d(s.currentUser)}))},M=$=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit($=>M($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?M($):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Kn)}},0),w()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt("string"==typeof s.accessToken),new Kr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Vi(e)}}class qr{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nn{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new qr(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,S("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const c=d=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(lt("string"==typeof r.token),this.R=r.token,new Bn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ci(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<o;s++)r[s]=Math.floor(256*Math.random());return r}class Qi{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=Ci(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return s}}function cr(o,e){return o<e?-1:o>e?1:0}function ti(o,e,r){return o.length===e.length&&o.every((s,c)=>r(s,e[c]))}function ro(o){return o+"\0"}class Xr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Xr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cr(this.nanoseconds,e.nanoseconds):cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new Xr(0,0))}static max(){return new Zt(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class is{constructor(e,r,s){void 0===r?r=0:r>e.length&&pe(),void 0===s?s=e.length-r:s>e.length-r&&pe(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===is.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let c=0;c<s;c++){const d=e.get(c),p=r.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vr extends is{construct(e,r,s){return new Vr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Nt(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new Vr(r)}static emptyPath(){return new Vr([])}}const Rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends is{construct(e,r,s){return new rr(e,r,s)}static isValidIdentifier(e){return Rs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const r=[];let s="",c=0;const d=()=>{if(0===s.length)throw new Nt(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;c<e.length;){const w=e[c];if("\\"===w){if(c+1===e.length)throw new Nt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[c+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Nt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,c+=2}else"`"===w?(p=!p,c++):"."!==w||p?(s+=w,c++):(d(),c++)}if(d(),p)throw new Nt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(r)}static emptyPath(){return new rr([])}}class Dn{constructor(e){this.path=e}static fromPath(e){return new Dn(Vr.fromString(e))}static fromName(e){return new Dn(Vr.fromString(e).popFirst(5))}static empty(){return new Dn(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Vr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dn(new Vr(e.slice()))}}class Ms{constructor(e,r,s,c){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=c}}function vs(o){return o.fields.find(e=>2===e.kind)}function Gs(o){return o.fields.filter(e=>2!==e.kind)}Ms.UNKNOWN_ID=-1;class Mo{constructor(e,r){this.fieldPath=e,this.kind=r}}class os{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new os(0,Yi.min())}}function Ir(o,e){const r=o.toTimestamp().seconds,s=o.toTimestamp().nanoseconds+1,c=Zt.fromTimestamp(1e9===s?new Xr(r+1,0):new Xr(r,s));return new Yi(c,Dn.empty(),e)}function Sa(o){return new Yi(o.readTime,o.key,-1)}class Yi{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Yi(Zt.min(),Dn.empty(),-1)}static max(){return new Yi(Zt.max(),Dn.empty(),-1)}}function ei(o,e){let r=o.readTime.compareTo(e.readTime);return 0!==r?r:(r=Dn.comparator(o.documentKey,e.documentKey),0!==r?r:cr(o.largestBatchId,e.largestBatchId))}const Ql="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function di(o){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,l.A)(function*(o){if(o.code!==ft.FAILED_PRECONDITION||o.message!==Ql)throw o;S("LocalStore","Unexpectedly lost primary lease")}),Ra.apply(this,arguments)}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pt((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pt?r:pt.resolve(r)}catch(r){return pt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pt.reject(r)}static resolve(e){return new pt((r,s)=>{r(e)})}static reject(e){return new pt((r,s)=>{s(e)})}static waitFor(e){return new pt((r,s)=>{let c=0,d=0,p=!1;e.forEach(w=>{++c,w.next(()=>{++d,p&&d===c&&r()},M=>s(M))}),p=!0,d===c&&r()})}static or(e){let r=pt.resolve(!1);for(const s of e)r=r.next(c=>c?pt.resolve(c):s());return r}static forEach(e,r){const s=[];return e.forEach((c,d)=>{s.push(r.call(this,c,d))}),this.waitFor(s)}static mapArray(e,r){return new pt((s,c)=>{const d=e.length,p=new Array(d);let w=0;for(let M=0;M<d;M++){const $=M;r(e[$]).next(ee=>{p[$]=ee,++w,w===d&&s(p)},ee=>c(ee))}})}static doWhile(e,r){return new pt((s,c)=>{const d=()=>{!0===e()?r().next(()=>{d()},c):s()};d()})}}class Zi{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _s(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=xa(s.target.error);this.V.reject(new _s(e,c))}}static open(e,r,s,c){try{return new Zi(r,e.transaction(c,s))}catch(d){throw new _s(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Pa(r)}}class lo{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===lo.S((0,he.ZQ)())&&ve("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return S("SimpleDb","Removing database:",e),Ps(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(lo.C())return!0;const e=(0,he.ZQ)(),r=lo.S(e),s=0<r&&r<10,c=lo.v(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,l.A)(function*(){return r.db||(S("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{c(new _s(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const w=p.target.error;c("VersionError"===w.name?new Nt(ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Nt(ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new _s(e,w))},d.onupgradeneeded=p=>{S("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{S("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.L&&(r.db.onversionchange=s=>r.L(s)),r.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,c){var d=this;return(0,l.A)(function*(){const p="readonly"===r;let w=0;for(;;){++w;try{d.db=yield d.O(e);const M=Zi.open(d.db,e,p?"readonly":"readwrite",s),$=c(M).next(ee=>(M.g(),ee)).catch(ee=>(M.abort(ee),pt.reject(ee))).toPromise();return $.catch(()=>{}),yield M.m,$}catch(M){const $=M,ee="FirebaseError"!==$.name&&w<3;if(S("SimpleDb","Transaction failed with error:",$.message,"Retrying:",ee),d.close(),!ee)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ma{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ps(this.k.delete())}}class _s extends Nt{constructor(e,r){super(ft.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Bi(o){return"IndexedDbTransactionError"===o.name}class Pa{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(S("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ps(s)}add(e){return S("SimpleDb","ADD",this.store.name,e,e),Ps(this.store.add(e))}get(e){return Ps(this.store.get(e)).next(r=>(void 0===r&&(r=null),S("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return S("SimpleDb","DELETE",this.store.name,e),Ps(this.store.delete(e))}count(){return S("SimpleDb","COUNT",this.store.name),Ps(this.store.count())}W(e,r){const s=this.options(e,r),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const d=c.getAll(s.range);return new pt((p,w)=>{d.onerror=M=>{w(M.target.error)},d.onsuccess=M=>{p(M.target.result)}})}{const d=this.cursor(s),p=[];return this.G(d,(w,M)=>{p.push(M)}).next(()=>p)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new pt((c,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{c(p.target.result)}})}H(e,r){S("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const c=this.cursor(s);return this.G(c,(d,p,w)=>w.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const c=this.cursor(s);return this.G(c,r)}Z(e){const r=this.cursor({});return new pt((s,c)=>{r.onerror=d=>{const p=xa(d.target.error);c(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(w=>{w?p.continue():s()}):s()}})}G(e,r){const s=[];return new pt((c,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const w=p.target.result;if(!w)return void c();const M=new Ma(w),$=r(w.primaryKey,w.value,M);if($ instanceof pt){const ee=$.catch(Te=>(M.done(),pt.reject(Te)));s.push(ee)}M.isDone?c():null===M.$?w.continue():w.continue(M.$)}}).next(()=>pt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ps(o){return new pt((e,r)=>{o.onsuccess=s=>{e(s.target.result)},o.onerror=s=>{const c=xa(s.target.error);r(c)}})}let fc=!1;function xa(o){const e=lo.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const s=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fc||(fc=!0,setTimeout(()=>{throw s},0)),s}}return o}class Yl{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;S("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.A)(function*(){r.task=null;try{S("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Bi(s)?S("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield di(s)}yield r.ee(6e4)}))}}class Au{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,l.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let c=r,d=!0;return pt.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return S("IndexBackfiller",`Processing collection: ${p}`),this.re(e,p,c).next(w=>{c-=w,s.add(p)});d=!1})).next(()=>r-c)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(c,d)).next(w=>(S("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(e,r,w))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((c,d)=>{const p=Sa(d);ei(p,s)>0&&(s=p)}),new Yi(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Po=(()=>{class o{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.se(c),this.oe=c=>s.writeSequenceNumber(c))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return o._e=-1,o})();function pl(o){return null==o}function Zl(o){return 0===o&&1/o==-1/0}function Vh(o){return"number"==typeof o&&Number.isInteger(o)&&!Zl(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function xo(o){let e="";for(let r=0;r<o.length;r++)e.length>0&&(e=_(e)),e=$m(o.get(r),e);return _(e)}function $m(o,e){let r=e;const s=o.length;for(let c=0;c<s;c++){const d=o.charAt(c);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function _(o){return o+"\x01\x01"}function A(o){const e=o.length;if(lt(e>=2),2===e)return lt("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Vr.emptyPath();const r=e-2,s=[];let c="";for(let d=0;d<e;){const p=o.indexOf("\x01",d);switch((p<0||p>r)&&pe(),o.charAt(p+1)){case"\x01":const w=o.substring(d,p);let M;0===c.length?M=w:(c+=w,M=c,c=""),s.push(M);break;case"\x10":c+=o.substring(d,p),c+="\0";break;case"\x11":c+=o.substring(d,p+1);break;default:pe()}d=p+2}return new Vr(s)}const R=["userId","batchId"];function D(o,e){return[o,xo(e)]}function N(o,e,r){return[o,xo(e),r]}const J={},me=["prefixPath","collectionGroup","readTime","documentId"],mt=["prefixPath","collectionGroup","documentId"],Qt=["collectionGroup","readTime","prefixPath","documentId"],At=["canonicalId","targetId"],Rn=["targetId","path"],Er=["path","targetId"],Di=["collectionId","parent"],Zr=["indexId","uid"],io=["uid","sequenceNumber"],xs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ja=["indexId","uid","orderedDocumentKey"],gl=["userId","collectionPath","documentId"],ml=["userId","collectionPath","largestBatchId"],sa=["userId","collectionGroup","largestBatchId"],Tu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Na=[...Tu,"documentOverlays"],pc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gc=pc,aa=[...gc,"indexConfiguration","indexState","indexEntries"];class Jl extends oa{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function Li(o,e){const r=Ht(o);return lo.M(r.ae,e)}function wu(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function el(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function vd(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class hr{constructor(e,r){this.comparator=e,this.root=r||Ni.EMPTY}insert(e,r){return new hr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}}class Ns{constructor(e,r,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,r,s,c,d){this.key=e,this.value=r,this.color=null!=s?s:Ni.RED,this.left=null!=c?c:Ni.EMPTY,this.right=null!=d?d:Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,c,d){return new Ni(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return Ni.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,r,s,c,d){return this}insert(e,r,s){return new Ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Lh(this.data.getIterator())}getIteratorFrom(e){return new Lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mr(this.comparator);return r.data=e,r}}class Lh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function la(o){return o.hasNext()?o.getNext():void 0}class ji{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new ji([])}unionWith(e){let r=new Mr(rr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new ji(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class jo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function wp(){return typeof atob<"u"}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new jo("Invalid base64 string: "+d):d}}(e);return new Hi(r)}static fromUint8Array(e){const r=function(c){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);return d}(e);return new Hi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(o){if(lt(!!o),"string"==typeof o){let e=0;const r=_d.exec(o);if(lt(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ai(o.seconds),nanos:Ai(o.nanos)}}function Ai(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Oa(o){return"string"==typeof o?Hi.fromBase64String(o):Hi.fromUint8Array(o)}function vl(o){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function tl(o){const e=o.mapValue.fields.__previous_value__;return vl(e)?tl(e):e}function _l(o){const e=_o(o.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class ka{constructor(e,r,s,c,d,p,w,M,$){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=w,this.longPollingOptions=M,this.useFetchStreams=$}}class qs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}const ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Os={nullValue:"NULL_VALUE"};function lr(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?vl(o)?4:Ed(o)?9007199254740991:10:pe()}function ys(o,e){if(o===e)return!0;const r=lr(o);if(r!==lr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return _l(o).isEqual(_l(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const p=_o(c.timestampValue),w=_o(d.timestampValue);return p.seconds===w.seconds&&p.nanos===w.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return d=e,Oa(o.bytesValue).isEqual(Oa(d.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(c,d){return Ai(c.geoPointValue.latitude)===Ai(d.geoPointValue.latitude)&&Ai(c.geoPointValue.longitude)===Ai(d.geoPointValue.longitude)}(o,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return Ai(c.integerValue)===Ai(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const p=Ai(c.doubleValue),w=Ai(d.doubleValue);return p===w?Zl(p)===Zl(w):isNaN(p)&&isNaN(w)}return!1}(o,e);case 9:return ti(o.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(c,d){const p=c.mapValue.fields||{},w=d.mapValue.fields||{};if(wu(p)!==wu(w))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===w[M]||!ys(p[M],w[M])))return!1;return!0}(o,e);default:return pe()}var d}function mc(o,e){return void 0!==(o.values||[]).find(r=>ys(r,e))}function Fa(o,e){if(o===e)return 0;const r=lr(o),s=lr(e);if(r!==s)return cr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return cr(o.booleanValue,e.booleanValue);case 2:return function(d,p){const w=Ai(d.integerValue||d.doubleValue),M=Ai(p.integerValue||p.doubleValue);return w<M?-1:w>M?1:w===M?0:isNaN(w)?isNaN(M)?0:-1:1}(o,e);case 3:return yd(o.timestampValue,e.timestampValue);case 4:return yd(_l(o),_l(e));case 5:return cr(o.stringValue,e.stringValue);case 6:return function(d,p){const w=Oa(d),M=Oa(p);return w.compareTo(M)}(o.bytesValue,e.bytesValue);case 7:return function(d,p){const w=d.split("/"),M=p.split("/");for(let $=0;$<w.length&&$<M.length;$++){const ee=cr(w[$],M[$]);if(0!==ee)return ee}return cr(w.length,M.length)}(o.referenceValue,e.referenceValue);case 8:return function(d,p){const w=cr(Ai(d.latitude),Ai(p.latitude));return 0!==w?w:cr(Ai(d.longitude),Ai(p.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(d,p){const w=d.values||[],M=p.values||[];for(let $=0;$<w.length&&$<M.length;++$){const ee=Fa(w[$],M[$]);if(ee)return ee}return cr(w.length,M.length)}(o.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===ua.mapValue&&p===ua.mapValue)return 0;if(d===ua.mapValue)return 1;if(p===ua.mapValue)return-1;const w=d.fields||{},M=Object.keys(w),$=p.fields||{},ee=Object.keys($);M.sort(),ee.sort();for(let Te=0;Te<M.length&&Te<ee.length;++Te){const Je=cr(M[Te],ee[Te]);if(0!==Je)return Je;const bt=Fa(w[M[Te]],$[ee[Te]]);if(0!==bt)return bt}return cr(M.length,ee.length)}(o.mapValue,e.mapValue);default:throw pe()}}function yd(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return cr(o,e);const r=_o(o),s=_o(e),c=cr(r.seconds,s.seconds);return 0!==c?c:cr(r.nanos,s.nanos)}function yl(o){return vc(o)}function vc(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const s=_o(r);return`time(${s.seconds},${s.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?Oa(o.bytesValue).toBase64():"referenceValue"in o?Dn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let s="[",c=!0;for(const d of r.values||[])c?c=!1:s+=",",s+=vc(d);return s+"]"}(o.arrayValue):"mapValue"in o?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const p of s)d?d=!1:c+=",",c+=`${p}:${vc(r.fields[p])}`;return c+"}"}(o.mapValue):pe()}function La(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Id(o){return!!o&&"integerValue"in o}function bu(o){return!!o&&"arrayValue"in o}function _c(o){return!!o&&"nullValue"in o}function Uh(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Ut(o){return!!o&&"mapValue"in o}function br(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return el(o.mapValue.fields,(r,s)=>e.mapValue.fields[r]=br(s)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=br(o.arrayValue.values[r]);return e}return Object.assign({},o)}function Ed(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function yc(o){return"nullValue"in o?Os:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?La(qs.empty(),Dn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:pe()}function ri(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?La(qs.empty(),Dn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?ua:pe()}function Su(o,e){const r=Fa(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function Il(o,e){const r=Fa(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Ut(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=br(r)}setAll(e){let r=rr.emptyPath(),s={},c=[];e.forEach((p,w)=>{if(!r.isImmediateParentOf(w)){const M=this.getFieldsMap(r);this.applyChanges(M,s,c),s={},c=[],r=w.popLast()}p?s[w.lastSegment()]=br(p):c.push(w.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,c)}delete(e){const r=this.field(e.popLast());Ut(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=r.mapValue.fields[e.get(s)];Ut(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,s){el(r,(c,d)=>e[c]=d);for(const c of s)delete e[c]}clone(){return new gi(br(this.value))}}function Ic(o){const e=[];return el(o.fields,(r,s)=>{const c=new rr([r]);if(Ut(s)){const d=Ic(s.mapValue).fields;if(0===d.length)e.push(c);else for(const p of d)e.push(c.child(p))}else e.push(c)}),new ji(e)}class mi{constructor(e,r,s,c,d,p,w){this.key=e,this.documentType=r,this.version=s,this.readTime=c,this.createTime=d,this.data=p,this.documentState=w}static newInvalidDocument(e){return new mi(e,0,Zt.min(),Zt.min(),Zt.min(),gi.empty(),0)}static newFoundDocument(e,r,s,c){return new mi(e,1,r,Zt.min(),s,c,0)}static newNoDocument(e,r){return new mi(e,2,r,Zt.min(),Zt.min(),gi.empty(),0)}static newUnknownDocument(e,r){return new mi(e,3,r,Zt.min(),Zt.min(),gi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ua{constructor(e,r){this.position=e,this.inclusive=r}}function $h(o,e,r){let s=0;for(let c=0;c<o.position.length;c++){const d=e[c],p=o.position[c];if(s=d.field.isKeyField()?Dn.comparator(Dn.fromName(p.referenceValue),r.key):Fa(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Cd(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!ys(o.position[r],e.position[r]))return!1;return!0}class Ji{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xs(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Dd{}class Ar extends Dd{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new bp(e,r,s):"array-contains"===r?new jh(e,s):"in"===r?new Sd(e,s):"not-in"===r?new Dc(e,s):"array-contains-any"===r?new Rd(e,s):new Ar(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Bh(e,s):new wd(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Fa(r,this.value)):null!==r&&lr(this.value)===lr(r)&&this.matchesComparison(Fa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends Dd{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new zr(e,r)}matches(e){return nl(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nl(o){return"and"===o.op}function Ec(o){return"or"===o.op}function Ad(o){return Td(o)&&nl(o)}function Td(o){for(const e of o.filters)if(e instanceof zr)return!1;return!0}function Ru(o){if(o instanceof Ar)return o.field.canonicalString()+o.op.toString()+yl(o.value);if(Ad(o))return o.filters.map(e=>Ru(e)).join(",");{const e=o.filters.map(r=>Ru(r)).join(",");return`${o.op}(${e})`}}function El(o,e){return o instanceof Ar?(s=o,(c=e)instanceof Ar&&s.op===c.op&&s.field.isEqual(c.field)&&ys(s.value,c.value)):o instanceof zr?function(s,c){return c instanceof zr&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((d,p,w)=>d&&El(p,c.filters[w]),!0)}(o,e):void pe();var s,c}function Cc(o,e){const r=o.filters.concat(e);return zr.create(r,o.op)}function Mu(o){return o instanceof Ar?`${(r=o).field.canonicalString()} ${r.op} ${yl(r.value)}`:o instanceof zr?function(r){return r.op.toString()+" {"+r.getFilters().map(Mu).join(" ,")+"}"}(o):"Filter";var r}class bp extends Ar{constructor(e,r,s){super(e,r,s),this.key=Dn.fromName(s.referenceValue)}matches(e){const r=Dn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Bh extends Ar{constructor(e,r){super(e,"in",r),this.keys=bd(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wd extends Ar{constructor(e,r){super(e,"not-in",r),this.keys=bd(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bd(o,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Dn.fromName(s.referenceValue))}class jh extends Ar{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bu(r)&&mc(r.arrayValue,this.value)}}class Sd extends Ar{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&mc(this.value.arrayValue,r)}}class Dc extends Ar{constructor(e,r){super(e,"not-in",r)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!mc(this.value.arrayValue,r)}}class Rd extends Ar{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bu(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>mc(this.value.arrayValue,s))}}class Sp{constructor(e,r=null,s=[],c=[],d=null,p=null,w=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=p,this.endAt=w,this.ce=null}}function uo(o,e=null,r=[],s=[],c=null,d=null,p=null){return new Sp(o,e,r,s,c,d,p)}function Is(o){const e=Ht(o);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ru(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),pl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>yl(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>yl(s)).join(",")),e.ce=r}return e.ce}function oi(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!Xs(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!El(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!Cd(o.startAt,e.startAt)&&Cd(o.endAt,e.endAt)}function Pu(o){return Dn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Ac(o,e){return o.filters.filter(r=>r instanceof Ar&&r.field.isEqual(e))}function Hh(o,e,r){let s=Os,c=!0;for(const d of Ac(o,e)){let p=Os,w=!0;switch(d.op){case"<":case"<=":p=yc(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,w=!1;break;case"!=":case"not-in":p=Os}Su({value:s,inclusive:c},{value:p,inclusive:w})<0&&(s=p,c=w)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];Su({value:s,inclusive:c},{value:p,inclusive:r.inclusive})<0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}function zh(o,e,r){let s=ua,c=!0;for(const d of Ac(o,e)){let p=ua,w=!0;switch(d.op){case">=":case">":p=ri(d.value),w=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,w=!1;break;case"!=":case"not-in":p=ua}Il({value:s,inclusive:c},{value:p,inclusive:w})>0&&(s=p,c=w)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];Il({value:s,inclusive:c},{value:p,inclusive:r.inclusive})>0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}class ca{constructor(e,r=null,s=[],c=[],d=null,p="F",w=null,M=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=p,this.startAt=w,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Md(o,e,r,s,c,d,p,w){return new ca(o,e,r,s,c,d,p,w)}function ks(o){return new ca(o)}function Es(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Pd(o){return null!==o.collectionGroup}function Qs(o){const e=Ht(o);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let w=new Mr(rr.comparator);return p.filters.forEach(M=>{M.getFlattenedFilters().forEach($=>{$.isInequality()&&(w=w.add($.field))})}),w})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Ji(d,s))}),r.has(rr.keyField().canonicalString())||e.le.push(new Ji(rr.keyField(),s))}return e.le}function co(o){const e=Ht(o);return e.he||(e.he=function eu(o,e){if("F"===o.limitType)return uo(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(c=>new Ji(c.field,"desc"===c.dir?"asc":"desc"));const r=o.endAt?new Ua(o.endAt.position,o.endAt.inclusive):null,s=o.startAt?new Ua(o.startAt.position,o.startAt.inclusive):null;return uo(o.path,o.collectionGroup,e,o.filters,o.limit,r,s)}}(e,Qs(o))),e.he}function tu(o,e){const r=o.filters.concat([e]);return new ca(o.path,o.collectionGroup,o.explicitOrderBy.slice(),r,o.limit,o.limitType,o.startAt,o.endAt)}function Cl(o,e,r){return new ca(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function nu(o,e){return oi(co(o),co(e))&&o.limitType===e.limitType}function Rp(o){return`${Is(co(o))}|lt:${o.limitType}`}function Cs(o){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>Mu(c)).join(", ")}]`),pl(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>yl(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>yl(c)).join(",")),`Target(${s})`}(co(o))}; limitType=${o.limitType})`}function da(o,e){return e.isFoundDocument()&&function(s,c){const d=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Dn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(o,e)&&function(s,c){for(const d of Qs(s))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(o,e)&&function(s,c){for(const d of s.filters)if(!d.matches(c))return!1;return!0}(o,e)&&(c=e,!((s=o).startAt&&!function(p,w,M){const $=$h(p,w,M);return p.inclusive?$<=0:$<0}(s.startAt,Qs(s),c)||s.endAt&&!function(p,w,M){const $=$h(p,w,M);return p.inclusive?$>=0:$>0}(s.endAt,Qs(s),c)));var s,c}function xu(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function Nu(o){return(e,r)=>{let s=!1;for(const c of Qs(o)){const d=Wh(c,e,r);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function Wh(o,e,r){const s=o.field.isKeyField()?Dn.comparator(e.key,r.key):function(d,p,w){const M=p.data.field(d),$=w.data.field(d);return null!==M&&null!==$?Fa(M,$):pe()}(o.field,e,r);switch(o.dir){case"asc":return s;case"desc":return-1*s;default:return pe()}}class $a{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(r,s)=>{for(const[c,d]of s)e(c,d)})}isEmpty(){return vd(this.inner)}size(){return this.innerSize}}const Mp=new hr(Dn.comparator);function Ds(){return Mp}const Pp=new hr(Dn.comparator);function Dl(...o){let e=Pp;for(const r of o)e=e.insert(r.key,r);return e}function Al(o){let e=Pp;return o.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function ha(){return Tl()}function Ou(){return Tl()}function Tl(){return new $a(o=>o.toString(),(o,e)=>o.isEqual(e))}const y=new hr(Dn.comparator),f=new Mr(Dn.comparator);function m(...o){let e=f;for(const r of o)e=e.add(r);return e}const T=new Mr(cr);function W(){return T}function ce(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}function ot(o){return{integerValue:""+o}}function xt(o,e){return Vh(e)?ot(e):ce(o,e)}class tn{constructor(){this._=void 0}}function zn(o,e,r){return o instanceof oo?function(c,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&vl(d)&&(d=tl(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):o instanceof Ho?ru(o,e):o instanceof Ba?ku(o,e):function(c,d){const p=kr(c,d),w=iu(p)+iu(c.Ie);return Id(p)&&Id(c.Ie)?ot(w):ce(c.serializer,w)}(o,e)}function tr(o,e,r){return o instanceof Ho?ru(o,e):o instanceof Ba?ku(o,e):r}function kr(o,e){return o instanceof wl?Id(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class oo extends tn{}class Ho extends tn{constructor(e){super(),this.elements=e}}function ru(o,e){const r=fa(e);for(const s of o.elements)r.some(c=>ys(c,s))||r.push(s);return{arrayValue:{values:r}}}class Ba extends tn{constructor(e){super(),this.elements=e}}function ku(o,e){let r=fa(e);for(const s of o.elements)r=r.filter(c=>!ys(c,s));return{arrayValue:{values:r}}}class wl extends tn{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function iu(o){return Ai(o.integerValue||o.doubleValue)}function fa(o){return bu(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class ou{constructor(e,r){this.field=e,this.transform=r}}class Tc{constructor(e,r){this.version=e,this.transformResults=r}}class si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ja(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Mi{}function Gh(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Vu(o.key,si.none()):new bl(o.key,o.data,si.none());{const r=o.data,s=gi.empty();let c=new Mr(rr.comparator);for(let d of e.fields)if(!c.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),c=c.add(d)}return new Sl(o.key,s,new ji(c.toArray()),si.none())}}function Bm(o,e,r){o instanceof bl?function(c,d,p){const w=c.value.clone(),M=Kh(c.fieldTransforms,d,p.transformResults);w.setAll(M),d.convertToFoundDocument(p.version,w).setHasCommittedMutations()}(o,e,r):o instanceof Sl?function(c,d,p){if(!ja(c.precondition,d))return void d.convertToUnknownDocument(p.version);const w=Kh(c.fieldTransforms,d,p.transformResults),M=d.data;M.setAll(Np(c)),M.setAll(w),d.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(o,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Fu(o,e,r,s){return o instanceof bl?function(d,p,w,M){if(!ja(d.precondition,p))return w;const $=d.value.clone(),ee=Nd(d.fieldTransforms,M,p);return $.setAll(ee),p.convertToFoundDocument(p.version,$).setHasLocalMutations(),null}(o,e,r,s):o instanceof Sl?function(d,p,w,M){if(!ja(d.precondition,p))return w;const $=Nd(d.fieldTransforms,M,p),ee=p.data;return ee.setAll(Np(d)),ee.setAll($),p.convertToFoundDocument(p.version,ee).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Te=>Te.field))}(o,e,r,s):(w=r,ja(o.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):w);var p,w}function cy(o,e){let r=null;for(const s of o.fieldTransforms){const c=e.data.field(s.field),d=kr(s.transform,c||null);null!=d&&(null===r&&(r=gi.empty()),r.set(s.field,d))}return r||null}function xp(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=o.fieldTransforms)&&void 0===c||s&&c&&ti(s,c,(d,p)=>function xd(o,e){return o.field.isEqual(e.field)&&(c=e.transform,(s=o.transform)instanceof Ho&&c instanceof Ho||s instanceof Ba&&c instanceof Ba?ti(s.elements,c.elements,ys):s instanceof wl&&c instanceof wl?ys(s.Ie,c.Ie):s instanceof oo&&c instanceof oo);var s,c}(d,p))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var s,c}class bl extends Mi{constructor(e,r,s,c=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Sl extends Mi{constructor(e,r,s,c,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Np(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=o.data.field(r);e.set(r,s)}}),e}function Kh(o,e,r){const s=new Map;lt(o.length===r.length);for(let c=0;c<r.length;c++){const d=o[c],p=d.transform,w=e.data.field(d.field);s.set(d.field,tr(p,w,r[c]))}return s}function Nd(o,e,r){const s=new Map;for(const c of o){const d=c.transform,p=r.data.field(c.field);s.set(c.field,zn(d,p,e))}return s}class Vu extends Mi{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Op extends Mi{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kp{constructor(e,r,s,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&Bm(d,e,s[c])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Fu(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Fu(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Ou();return this.mutations.forEach(c=>{const d=e.get(c.key),p=d.overlayedDocument;let w=this.applyToLocalView(p,d.mutatedFields);w=r.has(c.key)?null:w;const M=Gh(p,w);null!==M&&s.set(c.key,M),p.isValidDocument()||p.convertToNoDocument(Zt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),m())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,(r,s)=>xp(r,s))&&ti(this.baseMutations,e.baseMutations,(r,s)=>xp(r,s))}}class Fp{constructor(e,r,s,c){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(e,r,s){lt(e.mutations.length===s.length);let c=function(){return y}();const d=e.mutations;for(let p=0;p<d.length;p++)c=c.insert(d[p].key,s[p].version);return new Fp(e,r,s,c)}}class qh{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jm{constructor(e,r){this.count=e,this.unchangedNames=r}}var ho,ni;function hy(o){switch(o){default:return pe();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function Vp(o){if(void 0===o)return ve("GRPC error has no .code"),ft.UNKNOWN;switch(o){case ho.OK:return ft.OK;case ho.CANCELLED:return ft.CANCELLED;case ho.UNKNOWN:return ft.UNKNOWN;case ho.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case ho.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case ho.INTERNAL:return ft.INTERNAL;case ho.UNAVAILABLE:return ft.UNAVAILABLE;case ho.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case ho.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case ho.NOT_FOUND:return ft.NOT_FOUND;case ho.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case ho.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case ho.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case ho.ABORTED:return ft.ABORTED;case ho.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case ho.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case ho.DATA_LOSS:return ft.DATA_LOSS;default:return pe()}}(ni=ho||(ho={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";function Fs(){return new TextEncoder}const tE=new ts([4294967295,4294967295],0);function Lp(o){const e=Fs().encode(o),r=new Ro;return r.update(e),new Uint8Array(r.digest())}function fy(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new ts([r,s],0),new ts([c,d],0)]}class kd{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ys(`Invalid padding: ${r}`);if(s<0)throw new Ys(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ys(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ys(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=ts.fromNumber(this.Te)}de(e,r,s){let c=e.add(r.multiply(ts.fromNumber(s)));return 1===c.compare(tE)&&(c=new ts([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Lp(e),[s,c]=fy(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new kd(d,c,r);return s.forEach(w=>p.insert(w)),p}insert(e){if(0===this.Te)return;const r=Lp(e),[s,c]=fy(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ys extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wc{constructor(e,r,s,c,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const c=new Map;return c.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new wc(Zt.min(),c,new hr(cr),Ds(),m())}}class rl{constructor(e,r,s,c,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new rl(s,r,m(),m(),m())}}class Xh{constructor(e,r,s,c){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=c}}class Hm{constructor(e,r){this.targetId=e,this.fe=r}}class Up{constructor(e,r,s=Hi.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=c}}class py{constructor(){this.ge=0,this.pe=my(),this.ye=Hi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=m(),r=m(),s=m();return this.pe.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:pe()}}),new rl(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=my()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,lt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class nE{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ds(),this.Qe=gy(),this.Ke=new hr(cr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,c)=>{this.je(c)&&r(c)})}Je(e){const r=e.targetId,s=e.fe.count,c=this.Ye(r);if(c){const d=c.target;if(Pu(d))if(0===s){const p=new Dn(d.path);this.We(r,p,mi.newNoDocument(p,Zt.min()))}else lt(1===s);else{const p=this.Ze(r);if(p!==s){const w=this.Xe(e),M=w?this.et(w,e,p):1;0!==M&&(this.He(r),this.Ke=this.Ke.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=r;let p,w;try{p=Oa(s).toUint8Array()}catch(M){if(M instanceof jo)return k("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{w=new kd(p,c,d)}catch(M){return k(M instanceof Ys?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===w.Te?null:w}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Be.getRemoteKeysForTarget(r);let c=0;return s.forEach(d=>{const p=this.Be.nt(),w=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(w)||(this.We(r,d,null),c++)}),c}it(e){const r=new Map;this.ke.forEach((d,p)=>{const w=this.Ye(p);if(w){if(d.current&&Pu(w.target)){const M=new Dn(w.target.path);null!==this.qe.get(M)||this.st(p,M)||this.We(p,M,mi.newNoDocument(M,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=m();this.Qe.forEach((d,p)=>{let w=!0;p.forEachWhile(M=>{const $=this.Ye(M);return!$||"TargetPurposeLimboResolution"===$.purpose||(w=!1,!1)}),w&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const c=new wc(e,r,this.Ke,this.qe,s);return this.qe=Ds(),this.Qe=gy(),this.Ke=new hr(cr),c}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const c=this.ze(e);this.st(e,r)?c.Me(r,1):c.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new py,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Mr(cr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||S("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Be._t(e)}He(e){this.ke.set(e,new py),this.Be.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Be.getRemoteKeysForTarget(e).has(r)}}function gy(){return new hr(Dn.comparator)}function my(){return new hr(Dn.comparator)}const rE={asc:"ASCENDING",desc:"DESCENDING"},vy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bc={and:"AND",or:"OR"};class Fd{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Qh(o,e){return o.useProto3Json||pl(e)?e:{value:e}}function Sc(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yh(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function il(o,e){return Sc(o,e.toTimestamp())}function so(o){return lt(!!o),Zt.fromTimestamp(function(r){const s=_o(r);return new Xr(s.seconds,s.nanos)}(o))}function Vd(o,e){return Lu(o,e).canonicalString()}function Lu(o,e){const r=(c=o,new Vr(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function zm(o){const e=Vr.fromString(o);return lt($u(e)),e}function Rc(o,e){return Vd(o.databaseId,e.path)}function Ha(o,e){const r=zm(e);if(r.get(1)!==o.databaseId.projectId)throw new Nt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new Nt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new Dn(Wm(r))}function Ld(o,e){return Vd(o.databaseId,e)}function Ud(o){const e=zm(o);return 4===e.length?Vr.emptyPath():Wm(e)}function $d(o){return new Vr(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Wm(o){return lt(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Rl(o,e,r){return{name:Rc(o,e),fields:r.value.mapValue.fields}}function $p(o,e,r){const s=Ha(o,e.name),c=so(e.updateTime),d=e.createTime?so(e.createTime):Zt.min(),p=new gi({mapValue:{fields:e.fields}}),w=mi.newFoundDocument(s,c,d,p);return r&&w.setHasCommittedMutations(),r?w.setHasCommittedMutations():w}function Uu(o,e){let r;if(e instanceof bl)r={update:Rl(o,e.key,e.value)};else if(e instanceof Vu)r={delete:Rc(o,e.key)};else if(e instanceof Sl)r={update:Rl(o,e.key,e.data),updateMask:Jh(e.fieldMask)};else{if(!(e instanceof Op))return pe();r={verify:Rc(o,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const w=p.transform;if(w instanceof oo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Ho)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Ba)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof wl)return{fieldPath:p.field.canonicalString(),increment:w.Ie};throw pe()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:il(o,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:pe()),r;var d}function Km(o,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?si.updateTime(so(d.updateTime)):void 0!==d.exists?si.exists(d.exists):si.none():si.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,w){let M=null;"setToServerValue"in w?(lt("REQUEST_TIME"===w.setToServerValue),M=new oo):"appendMissingElements"in w?M=new Ho(w.appendMissingElements.values||[]):"removeAllFromArray"in w?M=new Ba(w.removeAllFromArray.values||[]):"increment"in w?M=new wl(p,w.increment):pe();const $=rr.fromServerFormat(w.fieldPath);return new ou($,M)}(o,c)):[];var d;if(e.update){const c=Ha(o,e.update.name),d=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ji((e.updateMask.fieldPaths||[]).map(ee=>rr.fromServerFormat(ee)));return new Sl(c,d,p,r,s)}return new bl(c,d,r,s)}if(e.delete){const c=Ha(o,e.delete);return new Vu(c,r)}if(e.verify){const c=Ha(o,e.verify);return new Op(c,r)}return pe()}function qm(o,e){return{documents:[Ld(o,e.path)]}}function Bp(o,e){const r={structuredQuery:{}},s=e.path;let c;null!==e.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ld(o,c);const d=function($){if(0!==$.length)return Bd(zr.create($,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const p=function($){if(0!==$.length)return $.map(ee=>{return{field:ol((Je=ee).field),direction:Zh(Je.dir)};var Je})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const w=Qh(o,e.limit);return null!==w&&(r.structuredQuery.limit=w),e.startAt&&(r.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(r.structuredQuery.endAt=function($){return{before:!$.inclusive,values:$.position}}(e.endAt)),{ut:r,parent:c};var $}function Xm(o){let e=Ud(o.parent);const r=o.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){lt(1===s);const ee=r.from[0];ee.allDescendants?c=ee.collectionId:e=e.child(ee.collectionId)}let d=[];r.where&&(d=function(Te){const Je=yy(Te);return Je instanceof zr&&Ad(Je)?Je.getFilters():[Je]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(Je=>{return new Ji(za((vn=Je).field),function(In){switch(In){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vn.direction));var vn}));let w=null;r.limit&&(w=function(Te){let Je;return Je="object"==typeof Te?Te.value:Te,pl(Je)?null:Je}(r.limit));let M=null;var Te;r.startAt&&(M=new Ua((Te=r.startAt).values||[],!!Te.before));let $=null;return r.endAt&&($=function(Te){return new Ua(Te.values||[],!Te.before)}(r.endAt)),Md(e,c,p,d,w,"F",M,$)}function yy(o){return void 0!==o.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=za(r.unaryFilter.field);return Ar.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=za(r.unaryFilter.field);return Ar.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=za(r.unaryFilter.field);return Ar.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=za(r.unaryFilter.field);return Ar.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(o):void 0!==o.fieldFilter?Ar.create(za((r=o).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==o.compositeFilter?function(r){return zr.create(r.compositeFilter.filters.map(s=>yy(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(o):pe();var r}function Zh(o){return rE[o]}function Iy(o){return vy[o]}function jp(o){return bc[o]}function ol(o){return{fieldPath:o.canonicalString()}}function za(o){return rr.fromServerFormat(o.fieldPath)}function Bd(o){return o instanceof Ar?function(r){if("=="===r.op){if(Uh(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NAN"}};if(_c(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Uh(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NOT_NAN"}};if(_c(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(r.field),op:Iy(r.op),value:r.value}}}(o):o instanceof zr?function(r){const s=r.getFilters().map(c=>Bd(c));return 1===s.length?s[0]:{compositeFilter:{op:jp(r.op),filters:s}}}(o):pe()}function Jh(o){const e=[];return o.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function $u(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class Zs{constructor(e,r,s,c,d=Zt.min(),p=Zt.min(),w=Hi.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=w,this.expectedCount=M}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bu{constructor(e){this.ct=e}}function jd(o,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:su(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Rc(d=o.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Sc(d,p.version.toTimestamp()),createTime:Sc(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Mc(e.version)};else{if(!e.isUnknownDocument())return pe();s.unknownDocument={path:r.path.toArray(),version:Mc(e.version)}}var d,p;return s}function su(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function Mc(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(o){const e=new Xr(o.seconds,o.nanoseconds);return Zt.fromTimestamp(e)}function Wa(o,e){const r=(e.baseMutations||[]).map(d=>Km(o.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>Km(o.ct,d)),c=Xr.fromMillis(e.localWriteTimeMs);return new kp(e.batchId,c,r,s)}function Hd(o){const e=Ml(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?Ml(o.lastLimboFreeSnapshotVersion):Zt.min();let s;return s=void 0!==o.query.documents?(lt(1===(d=o.query).documents.length),co(ks(Ud(d.documents[0])))):function(d){return co(Xm(d))}(o.query),new Zs(s,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,r,Hi.fromBase64String(o.resumeToken));var d}function zp(o,e){const r=Mc(e.snapshotVersion),s=Mc(e.lastLimboFreeSnapshotVersion);let c;c=Pu(e.target)?qm(o.ct,e.target):Bp(o.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Is(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Wp(o){const e=Xm({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Cl(e,e.limit,"L"):e}function Gp(o,e){return new qh(e.largestBatchId,Km(o.ct,e.overlayMutation))}function ef(o,e){const r=e.path.lastSegment();return[o,xo(e.path.popLast()),r]}function Kp(o,e,r,s){return{indexId:o,uid:e,sequenceNumber:r,readTime:Mc(s.readTime),documentKey:xo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ey{getBundleMetadata(e,r){return Qm(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Ml(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Qm(e).put({bundleId:(c=r).id,createTime:Mc(so(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return ju(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Wp(d.bundledQuery),readTime:Ml(d.readTime)};var d})}saveNamedQuery(e,r){return ju(e).put({name:(c=r).name,readTime:Mc(so(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Qm(o){return Li(o,"bundles")}function ju(o){return Li(o,"namedQueries")}class zd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new zd(e,r.uid||"")}getOverlay(e,r){return Hu(e).get(ef(this.userId,r)).next(s=>s?Gp(this.serializer,s):null)}getOverlays(e,r){const s=ha();return pt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){const c=[];return s.forEach((d,p)=>{const w=new qh(r,p);c.push(this.ht(e,w))}),pt.waitFor(c)}removeOverlaysForBatchId(e,r,s){const c=new Set;r.forEach(p=>c.add(xo(p.getCollectionPath())));const d=[];return c.forEach(p=>{const w=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Hu(e).H("collectionPathOverlayIndex",w))}),pt.waitFor(d)}getOverlaysForCollection(e,r,s){const c=ha(),d=xo(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Hu(e).W("collectionPathOverlayIndex",p).next(w=>{for(const M of w){const $=Gp(this.serializer,M);c.set($.getKey(),$)}return c})}getOverlaysForCollectionGroup(e,r,s,c){const d=ha();let p;const w=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Hu(e).Y({index:"collectionGroupOverlayIndex",range:w},(M,$,ee)=>{const Te=Gp(this.serializer,$);d.size()<c||Te.largestBatchId===p?(d.set(Te.getKey(),Te),p=Te.largestBatchId):ee.done()}).next(()=>d)}ht(e,r){return Hu(e).put(function(c,d,p){const[w,M,$]=ef(d,p.mutation.key);return{userId:d,collectionPath:M,documentId:$,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Uu(c.ct,p.mutation)}}(this.serializer,this.userId,r))}}function Hu(o){return Li(o,"documentOverlays")}class au{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ai(e.integerValue));else if("doubleValue"in e){const s=Ai(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Zl(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Oa(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Ed(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):pe()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const c of Object.keys(s))this.Rt(c,r),this.It(s[c],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const c of s)this.It(c,r)}gt(e,r){this.Et(r,37),Dn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function sE(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function Cy(o){const e=64-function(s){let c=0;for(let d=0;d<8;++d){const p=sE(255&s[d]);if(c+=p,8!==p)break}return c}(o);return Math.ceil(e/8)}au.bt=new au;class Wd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Lt(e){const r=this.Bt(e),s=Cy(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(e){const r=this.Bt(e),s=Cy(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=!!(128&r[0]);r[0]^=s?255:128;for(let c=1;c<r.length;++c)r[c]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Dy{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class tf{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class zu{constructor(){this.Gt=new Wd,this.zt=new Dy(this.Gt),this.jt=new tf(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Wu{constructor(e,r,s,c){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=c}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,s)}}function Pl(o,e){let r=o.indexId-e.indexId;return 0!==r?r:(r=nf(o.arrayValue,e.arrayValue),0!==r?r:(r=nf(o.directionalValue,e.directionalValue),0!==r?r:Dn.comparator(o.documentKey,e.documentKey)))}function nf(o,e){for(let r=0;r<o.length&&r<e.length;++r){const s=o[r]-e[r];if(0!==s)return s}return o.length-e.length}class Gd{constructor(e){this.Yt=new Mr((r,s)=>rr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(lt(e.collectionGroup===this.collectionId),this.en)return!1;const r=vs(e);if(void 0!==r&&!this.nn(r))return!1;const s=Gs(e);let c=new Set,d=0,p=0;for(;d<s.length&&this.nn(s[d]);++d)c=c.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const w=this.Yt.getIterator().getNext();if(!c.has(w.field.canonicalString())){const M=s[d];if(!this.rn(w,M)||!this.sn(this.Zt[p++],M))return!1}++d}for(;d<s.length;++d)if(p>=this.Zt.length||!this.sn(this.Zt[p++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new Mr(rr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Mo(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Mo(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Mo(s.field,"asc"===s.dir?0:1)));return new Ms(Ms.UNKNOWN_ID,this.collectionId,r,os.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Kd(o){var e,r;if(lt(o instanceof Ar||o instanceof zr),o instanceof Ar){if(o instanceof Sd){const c=(null===(r=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Ar.create(o.field,"==",d)))||[];return zr.create(c,"or")}return o}const s=o.filters.map(c=>Kd(c));return zr.create(s,o.op)}function Ym(o){if(0===o.getFilters().length)return[];const e=Xd(Kd(o));return lt(qd(e)),rf(e)||sf(e)?[e]:e.getFilters()}function rf(o){return o instanceof Ar}function sf(o){return o instanceof zr&&Ad(o)}function qd(o){return rf(o)||sf(o)||function(r){if(r instanceof zr&&Ec(r)){for(const s of r.getFilters())if(!rf(s)&&!sf(s))return!1;return!0}return!1}(o)}function Xd(o){if(lt(o instanceof Ar||o instanceof zr),o instanceof Ar)return o;if(1===o.filters.length)return Xd(o.filters[0]);const e=o.filters.map(s=>Xd(s));let r=zr.create(e,o.op);return r=af(r),qd(r)?r:(lt(r instanceof zr),lt(nl(r)),lt(r.filters.length>1),r.filters.reduce((s,c)=>lu(s,c)))}function lu(o,e){let r;return lt(o instanceof Ar||o instanceof zr),lt(e instanceof Ar||e instanceof zr),r=o instanceof Ar?e instanceof Ar?zr.create([o,e],"and"):Zm(o,e):e instanceof Ar?Zm(e,o):function(c,d){if(lt(c.filters.length>0&&d.filters.length>0),nl(c)&&nl(d))return Cc(c,d.getFilters());const p=Ec(c)?c:d,w=Ec(c)?d:c,M=p.filters.map($=>lu($,w));return zr.create(M,"or")}(o,e),af(r)}function Zm(o,e){if(nl(e))return Cc(e,o.getFilters());{const r=e.filters.map(s=>lu(o,s));return zr.create(r,"or")}}function af(o){if(lt(o instanceof Ar||o instanceof zr),o instanceof Ar)return o;const e=o.getFilters();if(1===e.length)return af(e[0]);if(Td(o))return o;const r=e.map(c=>af(c)),s=[];return r.forEach(c=>{c instanceof Ar?s.push(c):c instanceof zr&&(c.op===o.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:zr.create(s,o.op)}class aE{constructor(){this._n=new Pc}addToCollectionParentIndex(e,r){return this._n.add(r),pt.resolve()}getCollectionParents(e,r){return pt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return pt.resolve()}deleteFieldIndex(e,r){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,r){return pt.resolve()}getDocumentsMatchingTarget(e,r){return pt.resolve(null)}getIndexType(e,r){return pt.resolve(0)}getFieldIndexes(e,r){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,r){return pt.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,r){return pt.resolve(Yi.min())}updateCollectionGroup(e,r,s){return pt.resolve()}updateIndexEntries(e,r){return pt.resolve()}}class Pc{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r]||new Mr(Vr.comparator),d=!c.has(s);return this.index[r]=c.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Mr(Vr.comparator)).toArray()}}const xc=new Uint8Array(0);class Jm{constructor(e,r){this.databaseId=r,this.an=new Pc,this.un=new $a(s=>Is(s),(s,c)=>oi(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:xo(c)};return qp(e).put(d)}return pt.resolve()}getCollectionParents(e,r){const s=[],c=IDBKeyRange.bound([r,""],[ro(r),""],!1,!0);return qp(e).W(c).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(A(p.parent))}return s})}addFieldIndex(e,r){const s=Nc(e),c={indexId:(w=r).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var w;delete c.indexId;const d=s.add(c);if(r.indexState){const p=Oc(e);return d.next(w=>{p.put(Kp(w,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Nc(e),c=Oc(e),d=Gu(e);return s.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Nc(e),s=Gu(e),c=Oc(e);return r.H().next(()=>s.H()).next(()=>c.H())}createTargetIndexes(e,r){return pt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(c=>{if(0===c||1===c){const d=new Gd(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=Gu(e);let c=!0;const d=new Map;return pt.forEach(this.cn(r),p=>this.ln(e,p).next(w=>{c&&(c=!!w),d.set(p,w)})).next(()=>{if(c){let p=m();const w=[];return pt.forEach(d,(M,$)=>{var fr;S("IndexedDbIndexManager",`Using index ${fr=M,`id=${fr.indexId}|cg=${fr.collectionGroup}|f=${fr.fields.map(Fr=>`${Fr.fieldPath}:${Fr.kind}`).join(",")}`} to execute ${Is(r)}`);const ee=function(fr,Fr){const Ti=vs(Fr);if(void 0===Ti)return null;for(const yi of Ac(fr,Ti.fieldPath))switch(yi.op){case"array-contains-any":return yi.value.arrayValue.values||[];case"array-contains":return[yi.value]}return null}($,M),Te=function(fr,Fr){const Ti=new Map;for(const yi of Gs(Fr))for(const Io of Ac(fr,yi.fieldPath))switch(Io.op){case"==":case"in":Ti.set(yi.fieldPath.canonicalString(),Io.value);break;case"not-in":case"!=":return Ti.set(yi.fieldPath.canonicalString(),Io.value),Array.from(Ti.values())}return null}($,M),Je=function(fr,Fr){const Ti=[];let yi=!0;for(const Io of Gs(Fr)){const va=0===Io.kind?Hh(fr,Io.fieldPath,fr.startAt):zh(fr,Io.fieldPath,fr.startAt);Ti.push(va.value),yi&&(yi=va.inclusive)}return new Ua(Ti,yi)}($,M),bt=function(fr,Fr){const Ti=[];let yi=!0;for(const Io of Gs(Fr)){const va=0===Io.kind?zh(fr,Io.fieldPath,fr.endAt):Hh(fr,Io.fieldPath,fr.endAt);Ti.push(va.value),yi&&(yi=va.inclusive)}return new Ua(Ti,yi)}($,M),vn=this.hn(M,$,Je),xn=this.hn(M,$,bt),In=this.Pn(M,$,Te),ir=this.In(M.indexId,ee,vn,Je.inclusive,xn,bt.inclusive,In);return pt.forEach(ir,xr=>s.j(xr,r.limit).next(fr=>{fr.forEach(Fr=>{const Ti=Dn.fromSegments(Fr.documentKey);p.has(Ti)||(p=p.add(Ti),w.push(Ti))})}))}).next(()=>w)}return pt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Ym(zr.create(e.filters,"and")).map(s=>uo(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,c,d,p,w){const M=(null!=r?r.length:1)*Math.max(s.length,d.length),$=M/(null!=r?r.length:1),ee=[];for(let Te=0;Te<M;++Te){const Je=r?this.Tn(r[Te/$]):xc,bt=this.En(e,Je,s[Te%$],c),vn=this.dn(e,Je,d[Te%$],p),xn=w.map(In=>this.En(e,Je,In,!0));ee.push(...this.createRange(bt,vn,xn))}return ee}En(e,r,s,c){const d=new Wu(e,Dn.empty(),r,s);return c?d:d.Jt()}dn(e,r,s,c){const d=new Wu(e,Dn.empty(),r,s);return c?d.Jt():d}ln(e,r){const s=new Gd(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let p=null;for(const w of d)s.tn(w)&&(!p||w.fields.length>p.fields.length)&&(p=w);return p})}getIndexType(e,r){let s=2;const c=this.cn(r);return pt.forEach(c,d=>this.ln(e,d).next(p=>{p?0!==s&&p.fields.length<function(M){let $=new Mr(rr.comparator),ee=!1;for(const Te of M.filters)for(const Je of Te.getFlattenedFilters())Je.field.isKeyField()||("array-contains"===Je.op||"array-contains-any"===Je.op?ee=!0:$=$.add(Je.field));for(const Te of M.orderBy)Te.field.isKeyField()||($=$.add(Te.field));return $.size+(ee?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&c.length>1&&2===s?1:s)}An(e,r){const s=new zu;for(const c of Gs(e)){const d=r.data.field(c.fieldPath);if(null==d)return null;const p=s.Ht(c.kind);au.bt.Pt(d,p)}return s.Wt()}Tn(e){const r=new zu;return au.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new zu;return au.bt.Pt(La(this.databaseId,r),s.Ht(function(d){const p=Gs(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let c=[];c.push(new zu);let d=0;for(const p of Gs(e)){const w=s[d++];for(const M of c)if(this.Vn(r,p.fieldPath)&&bu(w))c=this.mn(c,p,w);else{const $=M.Ht(p.kind);au.bt.Pt(w,$)}}return this.fn(c)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const c=[...e],d=[];for(const p of s.arrayValue.values||[])for(const w of c){const M=new zu;M.seed(w.Wt()),au.bt.Pt(p,M.Ht(r.kind)),d.push(M)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Ar&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Nc(e),c=Oc(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return pt.forEach(d,w=>c.get([w.indexId,this.uid]).next(M=>{p.push(function(ee,Te){const Je=Te?new os(Te.sequenceNumber,new Yi(Ml(Te.readTime),new Dn(A(Te.documentKey)),Te.largestBatchId)):os.empty(),bt=ee.fields.map(([vn,xn])=>new Mo(rr.fromServerFormat(vn),xn));return new Ms(ee.indexId,ee.collectionGroup,bt,Je)}(w,M))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,c)=>{const d=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:cr(s.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const c=Nc(e),d=Oc(e);return this.gn(e).next(p=>c.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(w=>pt.forEach(w,M=>d.put(Kp(M.indexId,this.uid,p,s)))))}updateIndexEntries(e,r){const s=new Map;return pt.forEach(r,(c,d)=>{const p=s.get(c.collectionGroup);return(p?pt.resolve(p):this.getFieldIndexes(e,c.collectionGroup)).next(w=>(s.set(c.collectionGroup,w),pt.forEach(w,M=>this.pn(e,c,M).next($=>{const ee=this.yn(d,M);return $.isEqual(ee)?pt.resolve():this.wn(e,d,M,$,ee)}))))})}Sn(e,r,s,c){return Gu(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,c){return Gu(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const c=Gu(e);let d=new Mr(Pl);return c.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(p,w)=>{d=d.add(new Wu(s.indexId,r,w.arrayValue,w.directionalValue))}).next(()=>d)}yn(e,r){let s=new Mr(Pl);const c=this.An(r,e);if(null==c)return s;const d=vs(r);if(null!=d){const p=e.data.field(d.fieldPath);if(bu(p))for(const w of p.arrayValue.values||[])s=s.add(new Wu(r.indexId,e.key,this.Tn(w),c))}else s=s.add(new Wu(r.indexId,e.key,xc,c));return s}wn(e,r,s,c,d){S("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(M,$,ee,Te,Je){const bt=M.getIterator(),vn=$.getIterator();let xn=la(bt),In=la(vn);for(;xn||In;){let ir=!1,xr=!1;if(xn&&In){const fr=ee(xn,In);fr<0?xr=!0:fr>0&&(ir=!0)}else null!=xn?xr=!0:ir=!0;ir?(Te(In),In=la(vn)):xr?(Je(xn),xn=la(bt)):(xn=la(bt),In=la(vn))}}(c,d,Pl,w=>{p.push(this.Sn(e,r,s,w))},w=>{p.push(this.bn(e,r,s,w))}),pt.waitFor(p)}gn(e){let r=1;return Oc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,d)=>{d.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,w)=>Pl(p,w)).filter((p,w,M)=>!w||0!==Pl(p,M[w-1]));const c=[];c.push(e);for(const p of s){const w=Pl(p,e),M=Pl(p,r);if(0===w)c[0]=e.Jt();else if(w>0&&M<0)c.push(p),c.push(p.Jt());else if(M>0)break}c.push(r);const d=[];for(let p=0;p<c.length;p+=2){if(this.Dn(c[p],c[p+1]))return[];d.push(IDBKeyRange.bound([c[p].indexId,this.uid,c[p].arrayValue,c[p].directionalValue,xc,[]],[c[p+1].indexId,this.uid,c[p+1].arrayValue,c[p+1].directionalValue,xc,[]]))}return d}Dn(e,r){return Pl(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(ev)}getMinOffset(e,r){return pt.mapArray(this.cn(r),s=>this.ln(e,s).next(c=>c||pe())).next(ev)}}function qp(o){return Li(o,"collectionParents")}function Gu(o){return Li(o,"indexEntries")}function Nc(o){return Li(o,"indexConfiguration")}function Oc(o){return Li(o,"indexState")}function ev(o){lt(0!==o.length);let e=o[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<o.length;s++){const c=o[s].indexState.offset;ei(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new Yi(e.readTime,e.documentKey,r)}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ss{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nv(o,e,r){const s=o.store("mutations"),c=o.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let w=0;const M=s.Y({range:p},(ee,Te,Je)=>(w++,Je.delete()));d.push(M.next(()=>{lt(1===w)}));const $=[];for(const ee of r.mutations){const Te=N(e,ee.key.path,r.batchId);d.push(c.delete(Te)),$.push(ee.key)}return pt.waitFor(d).next(()=>$)}function Ga(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw pe();e=o.noDocument}return JSON.stringify(e).length}ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);class uu{constructor(e,r,s,c){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=c,this.Cn={}}static lt(e,r,s,c){lt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new uu(d,r,s,c)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).Y({index:"userMutationsIndex",range:s},(c,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,c){const d=Qd(e),p=Ku(e);return p.add({}).next(w=>{lt("number"==typeof w);const M=new kp(w,r,s,c),$=function(bt,vn,xn){const In=xn.baseMutations.map(xr=>Uu(bt.ct,xr)),ir=xn.mutations.map(xr=>Uu(bt.ct,xr));return{userId:vn,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:In,mutations:ir}}(this.serializer,this.userId,M),ee=[];let Te=new Mr((Je,bt)=>cr(Je.canonicalString(),bt.canonicalString()));for(const Je of c){const bt=N(this.userId,Je.key.path,w);Te=Te.add(Je.key.path.popLast()),ee.push(p.put($)),ee.push(d.put(bt,J))}return Te.forEach(Je=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Je))}),e.addOnCommittedListener(()=>{this.Cn[w]=M.keys()}),pt.waitFor(ee).next(()=>M)})}lookupMutationBatch(e,r){return Ku(e).get(r).next(s=>s?(lt(s.userId===this.userId),Wa(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?pt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const c=s.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ku(e).Y({index:"userMutationsIndex",range:c},(p,w,M)=>{w.userId===this.userId&&(lt(w.batchId>=s),d=Wa(this.serializer,w)),M.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ku(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(c,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).W("userMutationsIndex",r).next(s=>s.map(c=>Wa(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=D(this.userId,r.path),c=IDBKeyRange.lowerBound(s),d=[];return Qd(e).Y({range:c},(p,w,M)=>{const[$,ee,Te]=p,Je=A(ee);if($===this.userId&&r.path.isEqual(Je))return Ku(e).get(Te).next(bt=>{if(!bt)throw pe();lt(bt.userId===this.userId),d.push(Wa(this.serializer,bt))});M.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Mr(cr);const c=[];return r.forEach(d=>{const p=D(this.userId,d.path),w=IDBKeyRange.lowerBound(p),M=Qd(e).Y({range:w},($,ee,Te)=>{const[Je,bt,vn]=$,xn=A(bt);Je===this.userId&&d.path.isEqual(xn)?s=s.add(vn):Te.done()});c.push(M)}),pt.waitFor(c).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1,d=D(this.userId,s),p=IDBKeyRange.lowerBound(d);let w=new Mr(cr);return Qd(e).Y({range:p},(M,$,ee)=>{const[Te,Je,bt]=M,vn=A(Je);Te===this.userId&&s.isPrefixOf(vn)?vn.length===c&&(w=w.add(bt)):ee.done()}).next(()=>this.Fn(e,w))}Fn(e,r){const s=[],c=[];return r.forEach(d=>{c.push(Ku(e).get(d).next(p=>{if(null===p)throw pe();lt(p.userId===this.userId),s.push(Wa(this.serializer,p))}))}),pt.waitFor(c).next(()=>s)}removeMutationBatch(e,r){return nv(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),pt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return pt.resolve();const s=IDBKeyRange.lowerBound(function(p){return[p]}(this.userId)),c=[];return Qd(e).Y({range:s},(d,p,w)=>{if(d[0]===this.userId){const M=A(d[1]);c.push(M)}else w.done()}).next(()=>{lt(0===c.length)})})}containsKey(e,r){return rv(e,this.userId,r)}xn(e){return Ay(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rv(o,e,r){const s=D(e,r.path),c=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Qd(o).Y({range:d,J:!0},(w,M,$)=>{const[ee,Te,Je]=w;ee===e&&Te===c&&(p=!0),$.done()}).next(()=>p)}function Ku(o){return Li(o,"mutations")}function Qd(o){return Li(o,"documentMutations")}function Ay(o){return Li(o,"mutationQueues")}class kc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new kc(0)}static Ln(){return new kc(-1)}}class lE{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new kc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Zt.fromTimestamp(new Xr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(e,c)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>qu(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(lt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let c=0;const d=[];return qu(e).Y((p,w)=>{const M=Hd(w);M.sequenceNumber<=r&&null===s.get(M.targetId)&&(c++,d.push(this.removeTargetData(e,M)))}).next(()=>pt.waitFor(d)).next(()=>c)}forEachTarget(e,r){return qu(e).Y((s,c)=>{const d=Hd(c);r(d)})}Bn(e){return iv(e).get("targetGlobalKey").next(r=>(lt(null!==r),r))}kn(e,r){return iv(e).put("targetGlobalKey",r)}qn(e,r){return qu(e).put(zp(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Is(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return qu(e).Y({range:c,index:"queryTargetsIndex"},(p,w,M)=>{const $=Hd(w);oi(r,$.target)&&(d=$,M.done())}).next(()=>d)}addMatchingKeys(e,r,s){const c=[],d=cu(e);return r.forEach(p=>{const w=xo(p.path);c.push(d.put({targetId:s,path:w})),c.push(this.referenceDelegate.addReference(e,s,p))}),pt.waitFor(c)}removeMatchingKeys(e,r,s){const c=cu(e);return pt.forEach(r,d=>{const p=xo(d.path);return pt.waitFor([c.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=cu(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=cu(e);let d=m();return c.Y({range:s,J:!0},(p,w,M)=>{const $=A(p[1]),ee=new Dn($);d=d.add(ee)}).next(()=>d)}containsKey(e,r){const s=xo(r.path),c=IDBKeyRange.bound([s],[ro(s)],!1,!0);let d=0;return cu(e).Y({index:"documentTargetsIndex",J:!0,range:c},([p,w],M,$)=>{0!==p&&(d++,$.done())}).next(()=>d>0)}_t(e,r){return qu(e).get(r).next(s=>s?Hd(s):null)}}function qu(o){return Li(o,"targets")}function iv(o){return Li(o,"targetGlobal")}function cu(o){return Li(o,"targetDocuments")}function ov([o,e],[r,s]){const c=cr(o,r);return 0===c?cr(e,s):c}class Ty{constructor(e){this.Kn=e,this.buffer=new Mr(ov),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();ov(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class lf{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;S("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Bi(s)?S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield di(s)}yield r.zn(3e5)}))}}class xl{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return pt.resolve(Po._e);const s=new Ty(r);return this.jn.forEachTarget(e,c=>s.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(e,c=>s.Wn(c))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(tv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,c,d,p,w,M,$;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Te=>(Te>this.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Te}`),c=this.params.maximumSequenceNumbersToCollect):c=Te,p=Date.now(),this.nthSequenceNumber(e,c))).next(Te=>(s=Te,w=Date.now(),this.removeTargets(e,s,r))).next(Te=>(d=Te,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(Te=>($=Date.now(),vo()<=oe.$b.DEBUG&&S("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ee}ms\n\tDetermined least recently used ${c} in `+(w-p)+`ms\n\tRemoved ${d} targets in `+(M-w)+`ms\n\tRemoved ${Te} documents in `+($-M)+`ms\nTotal Duration: ${$-ee}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:Te})))}}class sv{constructor(e,r){this.db=e,this.garbageCollector=function Fc(o,e){return new xl(o,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(c=>s+c))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,c)=>r(c))}addReference(e,r,s){return Yd(e,s)}removeReference(e,r,s){return Yd(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Yd(e,r)}er(e,r){return function(c,d){let p=!1;return Ay(c).Z(w=>rv(c,w,d).next(M=>(M&&(p=!0),pt.resolve(!M)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Xn(e,(p,w)=>{if(w<=r){const M=this.er(e,p).next($=>{if(!$)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Zt.min()),cu(e).delete([0,xo(p.path)])))});c.push(M)}}).next(()=>pt.waitFor(c)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Yd(e,r)}Xn(e,r){const s=cu(e);let c,d=Po._e;return s.Y({index:"documentTargetsIndex"},([p,w],{path:M,sequenceNumber:$})=>{0===p?(d!==Po._e&&r(new Dn(A(c)),d),d=$,c=M):d=Po._e}).next(()=>{d!==Po._e&&r(new Dn(A(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yd(o,e){return cu(o).put((c=o.currentSequenceNumber,{targetId:0,path:xo(e.path),sequenceNumber:c}));var c}class Xp{constructor(){this.changes=new $a(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?pt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Nl(e).put(s)}removeEntry(e,r,s){return Nl(e).delete(function(d,p){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],su(p),w[w.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=mi.newInvalidDocument(r);return Nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(cf(r))},(c,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:mi.newInvalidDocument(r)};return Nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(cf(r))},(c,d)=>{s={document:this.nr(r,d),size:Ga(d)}}).next(()=>s)}getEntries(e,r){let s=Ds();return this.ir(e,r,(c,d)=>{const p=this.nr(c,d);s=s.insert(c,p)}).next(()=>s)}sr(e,r){let s=Ds(),c=new hr(Dn.comparator);return this.ir(e,r,(d,p)=>{const w=this.nr(d,p);s=s.insert(d,w),c=c.insert(d,Ga(p))}).next(()=>({documents:s,_r:c}))}ir(e,r,s){if(r.isEmpty())return pt.resolve();let c=new Mr(Qp);r.forEach(M=>c=c.add(M));const d=IDBKeyRange.bound(cf(c.first()),cf(c.last())),p=c.getIterator();let w=p.getNext();return Nl(e).Y({index:"documentKeyIndex",range:d},(M,$,ee)=>{const Te=Dn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;w&&Qp(w,Te)<0;)s(w,null),w=p.getNext();w&&w.isEqual(Te)&&(s(w,$),w=p.hasNext()?p.getNext():null),w?ee.U(cf(w)):ee.done()}).next(()=>{for(;w;)s(w,null),w=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,c,d){const p=r.path,w=[p.popLast().toArray(),p.lastSegment(),su(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nl(e).W(IDBKeyRange.bound(w,M,!0)).next($=>{null==d||d.incrementDocumentReadCount($.length);let ee=Ds();for(const Te of $){const Je=this.nr(Dn.fromSegments(Te.prefixPath.concat(Te.collectionGroup,Te.documentId)),Te);Je.isFoundDocument()&&(da(r,Je)||c.has(Je.key))&&(ee=ee.insert(Je.key,Je))}return ee})}getAllFromCollectionGroup(e,r,s,c){let d=Ds();const p=by(r,s),w=by(r,Yi.max());return Nl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,w,!0)},(M,$,ee)=>{const Te=this.nr(Dn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(Te.key,Te),d.size===c&&ee.done()}).next(()=>d)}newChangeBuffer(e){return new cE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return uf(e).get("remoteDocumentGlobalKey").next(r=>(lt(!!r),r))}tr(e,r){return uf(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Hp(o,e){let r;if(e.document)r=$p(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Dn.fromSegments(e.noDocument.path),c=Ml(e.noDocument.readTime);r=mi.newNoDocument(s,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const s=Dn.fromSegments(e.unknownDocument.path),c=Ml(e.unknownDocument.version);r=mi.newUnknownDocument(s,c)}}return e.readTime&&r.setReadTime(function(c){const d=new Xr(c[0],c[1]);return Zt.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Zt.min()))return s}return mi.newInvalidDocument(e)}}function wy(o){return new uE(o)}class cE extends Xp{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new $a(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const r=[];let s=0,c=new Mr((d,p)=>cr(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const w=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,w.readTime)),p.isValidDocument()){const M=jd(this.ar.serializer,p);c=c.add(d.path.popLast());const $=Ga(M);s+=$-w.size,r.push(this.ar.addEntry(e,d,M))}else if(s-=w.size,this.trackRemovals){const M=jd(this.ar.serializer,p.convertToNoDocument(Zt.min()));r.push(this.ar.addEntry(e,d,M))}}),c.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),pt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:c})=>(c.forEach((d,p)=>{this.ur.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function uf(o){return Li(o,"remoteDocumentGlobal")}function Nl(o){return Li(o,"remoteDocumentsV14")}function cf(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function by(o,e){const r=e.documentKey.path.toArray();return[o,su(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Qp(o,e){const r=o.path.toArray(),s=e.path.toArray();let c=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(c=cr(r[d],s[d]),c)return c;return c=cr(r.length,s.length),c||(c=cr(r[r.length-2],s[s.length-2]),c||cr(r[r.length-1],s[s.length-1]))}class Sy{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class av{constructor(e,r,s,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==s&&Fu(s.mutation,c,ji.empty(),Xr.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,m()).next(()=>s))}getLocalViewOfDocuments(e,r,s=m()){const c=ha();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,s).next(d=>{let p=Dl();return d.forEach((w,M)=>{p=p.insert(w,M.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=ha();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,m()))}populateOverlays(e,r,s){const c=[];return s.forEach(d=>{r.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((p,w)=>{r.set(p,w)})})}computeViews(e,r,s,c){let d=Ds();const p=Tl(),w=Tl();return r.forEach((M,$)=>{const ee=s.get($.key);c.has($.key)&&(void 0===ee||ee.mutation instanceof Sl)?d=d.insert($.key,$):void 0!==ee?(p.set($.key,ee.mutation.getFieldMask()),Fu(ee.mutation,$,ee.mutation.getFieldMask(),Xr.now())):p.set($.key,ji.empty())}),this.recalculateAndSaveOverlays(e,d).next(M=>(M.forEach(($,ee)=>p.set($,ee)),r.forEach(($,ee)=>{var Te;return w.set($,new Sy(ee,null!==(Te=p.get($))&&void 0!==Te?Te:null))}),w))}recalculateAndSaveOverlays(e,r){const s=Tl();let c=new hr((p,w)=>p-w),d=m();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const w of p)w.keys().forEach(M=>{const $=r.get(M);if(null===$)return;let ee=s.get(M)||ji.empty();ee=w.applyToLocalView($,ee),s.set(M,ee);const Te=(c.get(w.batchId)||m()).add(M);c=c.insert(w.batchId,Te)})}).next(()=>{const p=[],w=c.getReverseIterator();for(;w.hasNext();){const M=w.getNext(),$=M.key,ee=M.value,Te=Ou();ee.forEach(Je=>{if(!d.has(Je)){const bt=Gh(r.get(Je),s.get(Je));null!==bt&&Te.set(Je,bt),d=d.add(Je)}}),p.push(this.documentOverlayCache.saveOverlays(e,$,Te))}return pt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,c){return Dn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Pd(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,c):this.getDocumentsMatchingCollectionQuery(e,r,s,c);var p}getNextDocuments(e,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,c).next(d=>{const p=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,c-d.size):pt.resolve(ha());let w=-1,M=d;return p.next($=>pt.forEach($,(ee,Te)=>(w<Te.largestBatchId&&(w=Te.largestBatchId),d.get(ee)?pt.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Je=>{M=M.insert(ee,Je)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,M,$,m())).next(ee=>({batchId:w,changes:Al(ee)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Dn(r)).next(s=>{let c=Dl();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,s,c){const d=r.collectionGroup;let p=Dl();return this.indexManager.getCollectionParents(e,d).next(w=>pt.forEach(w,M=>{const $=(Te=r,Je=M.child(d),new ca(Je,null,Te.explicitOrderBy.slice(),Te.filters.slice(),Te.limit,Te.limitType,Te.startAt,Te.endAt));var Te,Je;return this.getDocumentsMatchingCollectionQuery(e,$,s,c).next(ee=>{ee.forEach((Te,Je)=>{p=p.insert(Te,Je)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,c))).next(p=>{d.forEach((M,$)=>{const ee=$.getKey();null===p.get(ee)&&(p=p.insert(ee,mi.newInvalidDocument(ee)))});let w=Dl();return p.forEach((M,$)=>{const ee=d.get(M);void 0!==ee&&Fu(ee.mutation,$,ji.empty(),Xr.now()),da(r,$)&&(w=w.insert(M,$))}),w})}}class Ry{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return pt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:so(c.createTime)}),pt.resolve();var c}getNamedQuery(e,r){return pt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:Wp(c.bundledQuery),readTime:so(c.readTime)}),pt.resolve();var c}}class My{constructor(){this.overlays=new hr(Dn.comparator),this.hr=new Map}getOverlay(e,r){return pt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=ha();return pt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((c,d)=>{this.ht(e,r,d)}),pt.resolve()}removeOverlaysForBatchId(e,r,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),pt.resolve()}getOverlaysForCollection(e,r,s){const c=ha(),d=r.length+1,p=new Dn(r.child("")),w=this.overlays.getIteratorFrom(p);for(;w.hasNext();){const M=w.getNext().value,$=M.getKey();if(!r.isPrefixOf($.path))break;$.path.length===d&&M.largestBatchId>s&&c.set(M.getKey(),M)}return pt.resolve(c)}getOverlaysForCollectionGroup(e,r,s,c){let d=new hr(($,ee)=>$-ee);const p=this.overlays.getIterator();for(;p.hasNext();){const $=p.getNext().value;if($.getKey().getCollectionGroup()===r&&$.largestBatchId>s){let ee=d.get($.largestBatchId);null===ee&&(ee=ha(),d=d.insert($.largestBatchId,ee)),ee.set($.getKey(),$)}}const w=ha(),M=d.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach(($,ee)=>w.set($,ee)),!(w.size()>=c)););return pt.resolve(w)}ht(e,r,s){const c=this.overlays.get(s.key);if(null!==c){const p=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new qh(r,s));let d=this.hr.get(r);void 0===d&&(d=m(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class Yp{constructor(){this.Pr=new Mr(yo.Ir),this.Tr=new Mr(yo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new yo(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new yo(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Dn(new Vr([])),s=new yo(r,e),c=new yo(r,e+1),d=[];return this.Tr.forEachInRange([s,c],p=>{this.Ar(p),d.push(p.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Dn(new Vr([])),s=new yo(r,e),c=new yo(r,e+1);let d=m();return this.Tr.forEachInRange([s,c],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new yo(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class yo{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Dn.comparator(e.key,r.key)||cr(e.pr,r.pr)}static Er(e,r){return cr(e.pr,r.pr)||Dn.comparator(e.key,r.key)}}class lv{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Mr(yo.Ir)}checkEmpty(e){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,c){const d=this.yr;this.yr++;const p=new kp(d,r,s,c);this.mutationQueue.push(p);for(const w of c)this.wr=this.wr.add(new yo(w.key,d)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return pt.resolve(p)}lookupMutationBatch(e,r){return pt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),d=c<0?0:c;return pt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new yo(r,0),c=new yo(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,c],p=>{const w=this.Sr(p.pr);d.push(w)}),pt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Mr(cr);return r.forEach(c=>{const d=new yo(c,0),p=new yo(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,p],w=>{s=s.add(w.pr)})}),pt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1;let d=s;Dn.isDocumentKey(d)||(d=d.child(""));const p=new yo(new Dn(d),0);let w=new Mr(cr);return this.wr.forEachWhile(M=>{const $=M.key.path;return!!s.isPrefixOf($)&&($.length===c&&(w=w.add(M.pr)),!0)},p),pt.resolve(this.Dr(w))}Dr(e){const r=[];return e.forEach(s=>{const c=this.Sr(s);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){lt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return pt.forEach(r.mutations,c=>{const d=new yo(c.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new yo(r,0),c=this.wr.firstAfterOrEqual(s);return pt.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return pt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Py{constructor(e){this.vr=e,this.docs=new hr(Dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,c=this.docs.get(s),d=c?c.size:0,p=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return pt.resolve(s?s.document.mutableCopy():mi.newInvalidDocument(r))}getEntries(e,r){let s=Ds();return r.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.mutableCopy():mi.newInvalidDocument(c))}),pt.resolve(s)}getDocumentsMatchingQuery(e,r,s,c){let d=Ds();const p=r.path,w=new Dn(p.child("")),M=this.docs.getIteratorFrom(w);for(;M.hasNext();){const{key:$,value:{document:ee}}=M.getNext();if(!p.isPrefixOf($.path))break;$.path.length>p.length+1||ei(Sa(ee),s)<=0||(c.has(ee.key)||da(r,ee))&&(d=d.insert(ee.key,ee.mutableCopy()))}return pt.resolve(d)}getAllFromCollectionGroup(e,r,s,c){pe()}Fr(e,r){return pt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new xy(this)}getSize(e){return pt.resolve(this.size)}}class xy extends Xp{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(s)}),pt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class uv{constructor(e){this.persistence=e,this.Mr=new $a(r=>Is(r),oi),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Yp,this.targetCount=0,this.Lr=kc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,c)=>r(c)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),pt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new kc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,pt.resolve()}updateTargetData(e,r){return this.qn(r),pt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,r,s){let c=0;const d=[];return this.Mr.forEach((p,w)=>{w.sequenceNumber<=r&&null===s.get(w.targetId)&&(this.Mr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,w.targetId)),c++)}),pt.waitFor(d).next(()=>c)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return pt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),pt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(p=>{d.push(c.markPotentiallyOrphaned(e,p))}),pt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),pt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return pt.resolve(s)}containsKey(e,r){return pt.resolve(this.Nr.containsKey(r))}}class Vc{constructor(e,r){this.Br={},this.overlays={},this.kr=new Po(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uv(this),this.indexManager=new aE,this.remoteDocumentCache=new Py(s=>this.referenceDelegate.Kr(s)),this.serializer=new Bu(r),this.$r=new Ry(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new My,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new lv(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){S("MemoryPersistence","Starting transaction:",e);const c=new Ny(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(d=>this.referenceDelegate.Wr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Gr(e,r){return pt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Ny extends oa{constructor(e){super(),this.currentSequenceNumber=e}}class Lc{constructor(e){this.persistence=e,this.zr=new Yp,this.jr=null}static Hr(e){return new Lc(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),pt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),pt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),pt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Jr,s=>{const c=Dn.fromPath(s);return this.Yr(e,c).next(d=>{d||r.removeEntry(c,Zt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return pt.or([()=>pt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Uc{constructor(e){this.serializer=e}N(e,r,s,c){const d=new Zi("createOrUpgrade",r);var M;s<1&&c>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R,{unique:!0}),M.createObjectStore("documentMutations"),cv(e),function(M){M.createObjectStore("remoteDocuments")}(e));let p=pt.resolve();return s<3&&c>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),cv(e)),p=p.next(()=>function(M){const $=M.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",ee)}(d))),s<4&&c>=4&&(0!==s&&(p=p.next(()=>function(M,$){return $.store("mutations").W().next(ee=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R,{unique:!0});const Te=$.store("mutations"),Je=ee.map(bt=>Te.put(bt));return pt.waitFor(Je)})}(e,d))),p=p.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(p=p.next(()=>this.Xr(d))),s<6&&c>=6&&(p=p.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&c>=7&&(p=p.next(()=>this.ti(d))),s<8&&c>=8&&(p=p.next(()=>this.ni(e,d))),s<9&&c>=9&&(p=p.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(p=p.next(()=>this.ri(d))),s<11&&c>=11&&(p=p.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(p=p.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:gl});$.createIndex("collectionPathOverlayIndex",ml,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",sa,{unique:!1})}(e)})),s<13&&c>=13&&(p=p.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:me});$.createIndex("documentKeyIndex",mt),$.createIndex("collectionGroupIndex",Qt)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(p=p.next(()=>this.si(e,d))),s<15&&c>=15&&(p=p.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Zr}).createIndex("sequenceNumberIndex",io,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:xs}).createIndex("documentKeyIndex",Ja,{unique:!1})}(e))),p}ei(e){let r=0;return e.store("remoteDocuments").Y((s,c)=>{r+=Ga(c)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(c=>pt.forEach(c,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(w=>pt.forEach(w,M=>{lt(M.userId===d.userId);const $=Wa(this.serializer,M);return nv(e,d.userId,$).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return s.Y((p,w)=>{const M=new Vr(p),$=[0,xo(M)];d.push(r.get($).next(ee=>ee?pt.resolve():r.put({targetId:0,path:xo(M),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>pt.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Di});const s=r.store("collectionParents"),c=new Pc,d=p=>{if(c.add(p)){const w=p.lastSegment(),M=p.popLast();return s.put({collectionId:w,parent:xo(M)})}};return r.store("remoteDocuments").Y({J:!0},(p,w)=>{const M=new Vr(p);return d(M.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,w,M],$)=>{const ee=A(w);return d(ee.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,c)=>{const d=Hd(c),p=zp(this.serializer,d);return r.put(p)})}ii(e,r){const s=r.store("remoteDocuments"),c=[];return s.Y((d,p)=>{const w=r.store("remoteDocumentsV14"),M=(Te=p,Te.document?new Dn(Vr.fromString(Te.document.name).popFirst(5)):Te.noDocument?Dn.fromSegments(Te.noDocument.path):Te.unknownDocument?Dn.fromSegments(Te.unknownDocument.path):pe()).path.toArray(),$={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var Te;c.push(w.put($))}).next(()=>pt.waitFor(c))}si(e,r){const s=r.store("mutations"),c=wy(this.serializer),d=new Vc(Lc.Hr,this.serializer.ct);return s.W().next(p=>{const w=new Map;return p.forEach(M=>{var $;let ee=null!==($=w.get(M.userId))&&void 0!==$?$:m();Wa(this.serializer,M).keys().forEach(Te=>ee=ee.add(Te)),w.set(M.userId,ee)}),pt.forEach(w,(M,$)=>{const ee=new Vi($),Te=zd.lt(this.serializer,ee),Je=d.getIndexManager(ee),bt=uu.lt(ee,this.serializer,Je,d.referenceDelegate);return new av(c,bt,Te,Je).recalculateAndSaveOverlaysForDocumentKeys(new Jl(r,Po._e),M).next()})})}}function cv(o){o.createObjectStore("targetDocuments",{keyPath:Rn}).createIndex("documentTargetsIndex",Er,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",At,{unique:!0}),o.createObjectStore("targetGlobal")}const Zp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hf{constructor(e,r,s,c,d,p,w,M,$,ee,Te=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=p,this.document=w,this._i=$,this.ai=ee,this.ui=Te,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Je=>Promise.resolve(),!hf.D())throw new Nt(ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sv(this,c),this.Ti=r+"main",this.serializer=new Bu(M),this.Ei=new lo(this.Ti,this.ui,new Uc(this.serializer)),this.Qr=new lE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wy(this.serializer),this.$r=new Ey,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&ve("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(ft.FAILED_PRECONDITION,Zp);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Po(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.A)(function*(c){if(r.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var r=(0,l.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Bi(e))return S("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return $c(e).get("owner").next(r=>pt.resolve(this.Si(r)))}bi(e){return ff(e).delete(this.clientId)}Di(){var e=this;return(0,l.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Li(s,"clientMetadata");return c.W().next(d=>{const p=e.vi(d,18e5),w=d.filter(M=>-1===p.indexOf(M));return pt.forEach(w,M=>c.delete(M.clientId)).next(()=>w)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?pt.resolve(!0):$c(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Nt(ft.FAILED_PRECONDITION,Zp);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).W().next(s=>void 0===this.vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&S("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Jl(r,Po._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ff(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return uu.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jm(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return zd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){S("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",d=15===(M=this.ui)?aa:14===M?gc:13===M?pc:12===M?Na:11===M?Tu:void pe();var M;let p;return this.Ei.runTransaction(e,c,d,w=>(p=new Jl(w,this.kr?this.kr.next():Po._e),"readwrite-primary"===r?this.gi(p).next(M=>!!M||this.pi(p)).next(M=>{if(!M)throw ve(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Nt(ft.FAILED_PRECONDITION,Ql);return s(p)}).next(M=>this.wi(p).next(()=>M)):this.ki(p).next(()=>s(p)))).then(w=>(p.raiseOnCommittedEvent(),w))}ki(e){return $c(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Nt(ft.FAILED_PRECONDITION,Zp)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $c(e).put("owner",r)}static D(){return lo.D()}yi(e){const r=$c(e);return r.get("owner").next(s=>this.Si(s)?(S("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):pt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(ve(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return S("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ve("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ve("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $c(o){return Li(o,"owner")}function ff(o){return Li(o,"clientMetadata")}function Jp(o,e){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+e+"/"+r+"/"}class eg{constructor(e,r,s,c){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=c}static Ki(e,r){let s=m(),c=m();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new eg(e,r.fromCache,s,c)}}class Oy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tg{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,he.nr)()?8:lo.v((0,he.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,c){const d={result:null};return this.ji(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.Hi(e,r,c,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new Oy;return this.Ji(e,r,p).next(w=>{if(d.result=w,this.Ui)return this.Yi(e,r,p,w.size)})}).next(()=>d.result)}Yi(e,r,s,c){return s.documentReadCount<this.Wi?(vo()<=oe.$b.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",Cs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),pt.resolve()):(vo()<=oe.$b.DEBUG&&S("QueryEngine","Query:",Cs(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(vo()<=oe.$b.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",Cs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(r))):pt.resolve())}ji(e,r){if(Es(r))return pt.resolve(null);let s=co(r);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Cl(r,null,"F"),s=co(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=m(...d);return this.zi.getDocuments(e,p).next(w=>this.indexManager.getMinOffset(e,s).next(M=>{const $=this.Zi(r,w);return this.Xi(r,$,p,M.readTime)?this.ji(e,Cl(r,null,"F")):this.es(e,$,r,M)}))})))}Hi(e,r,s,c){return Es(r)||c.isEqual(Zt.min())?pt.resolve(null):this.zi.getDocuments(e,s).next(d=>{const p=this.Zi(r,d);return this.Xi(r,p,s,c)?pt.resolve(null):(vo()<=oe.$b.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Cs(r)),this.es(e,p,r,Ir(c,-1)).next(w=>w))})}Zi(e,r){let s=new Mr(Nu(e));return r.forEach((c,d)=>{da(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,c){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ji(e,r,s){return vo()<=oe.$b.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",Cs(r)),this.zi.getDocumentsMatchingQuery(e,r,Yi.min(),s)}es(e,r,s,c){return this.zi.getDocumentsMatchingQuery(e,s,c).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class dE{constructor(e,r,s,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new hr(cr),this.rs=new $a(d=>Is(d),oi),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new av(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function ky(o,e,r,s){return new dE(o,e,r,s)}function Bc(o,e){return ng.apply(this,arguments)}function ng(){return ng=(0,l.A)(function*(o,e){const r=Ht(o);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(d=>(c=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],w=[];let M=m();for(const $ of c){p.push($.batchId);for(const ee of $.mutations)M=M.add(ee.key)}for(const $ of d){w.push($.batchId);for(const ee of $.mutations)M=M.add(ee.key)}return r.localDocuments.getDocuments(s,M).next($=>({us:$,removedBatchIds:p,addedBatchIds:w}))})})}),ng.apply(this,arguments)}function dv(o){const e=Ht(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function fv(o,e,r){let s=m(),c=m();return r.forEach(d=>s=s.add(d)),e.getEntries(o,s).next(d=>{let p=Ds();return r.forEach((w,M)=>{const $=d.get(w);M.isFoundDocument()!==$.isFoundDocument()&&(c=c.add(w)),M.isNoDocument()&&M.version.isEqual(Zt.min())?(e.removeEntry(w,M.readTime),p=p.insert(w,M)):!$.isValidDocument()||M.version.compareTo($.version)>0||0===M.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(M),p=p.insert(w,M)):S("LocalStore","Ignoring outdated watch update for ",w,". Current version:",$.version," Watch version:",M.version)}),{cs:p,ls:c}})}function Vy(o,e){const r=Ht(o);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jc(o,e){const r=Ht(o);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Qr.getTargetData(s,e).next(d=>d?(c=d,pt.resolve(c)):r.Qr.allocateTargetId(s).next(p=>(c=new Zs(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Hc(o,e,r){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,l.A)(function*(o,e,r){const s=Ht(o),c=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,c)))}catch(p){if(!Bi(p))throw p;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ns=s.ns.remove(e),s.rs.delete(c.target)}),Zd.apply(this,arguments)}function pf(o,e,r){const s=Ht(o);let c=Zt.min(),d=m();return s.persistence.runTransaction("Execute query","readwrite",p=>function(M,$,ee){const Te=Ht(M),Je=Te.rs.get(ee);return void 0!==Je?pt.resolve(Te.ns.get(Je)):Te.Qr.getTargetData($,ee)}(s,p,co(e)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(p,w.targetId).next(M=>{d=M})}).next(()=>s.ts.getDocumentsMatchingQuery(p,e,r?c:Zt.min(),r?d:m())).next(w=>(rg(s,xu(e),w),{documents:w,hs:d})))}function pv(o,e){const r=Ht(o),s=Ht(r.Qr),c=r.ns.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function gv(o,e){const r=Ht(o),s=r.ss.get(e)||Zt.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,e,Ir(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(rg(r,e,c),c))}function rg(o,e,r){let s=o.ss.get(e)||Zt.min();r.forEach((c,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),o.ss.set(e,s)}function ig(){return ig=(0,l.A)(function*(o,e,r,s){const c=Ht(o);let d=m(),p=Ds();for(const $ of r){const ee=e.Ps($.metadata.name);$.document&&(d=d.add(ee));const Te=e.Is($);Te.setReadTime(e.Ts($.metadata.readTime)),p=p.insert(ee,Te)}const w=c.os.newChangeBuffer({trackRemovals:!0}),M=yield jc(c,(ee=s,co(ks(Vr.fromString(`__bundle__/docs/${ee}`)))));var ee;return c.persistence.runTransaction("Apply bundle documents","readwrite",$=>fv($,w,p).next(ee=>(w.apply($),ee)).next(ee=>c.Qr.removeMatchingKeysForTargetId($,M.targetId).next(()=>c.Qr.addMatchingKeys($,d,M.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments($,ee.cs,ee.ls)).next(()=>ee.cs)))}),ig.apply(this,arguments)}function Vs(o,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,l.A)(function*(o,e,r=m()){const s=yield jc(o,co(Wp(e.bundledQuery))),c=Ht(o);return c.persistence.runTransaction("Save named query","readwrite",d=>{const p=so(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return c.$r.saveNamedQuery(d,e);const w=s.withResumeToken(Hi.EMPTY_BYTE_STRING,p);return c.ns=c.ns.insert(w.targetId,w),c.Qr.updateTargetData(d,w).next(()=>c.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>c.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>c.$r.saveNamedQuery(d,e))})}),Jd.apply(this,arguments)}function og(o,e){return`firestore_clients_${o}_${e}`}function gf(o,e,r){let s=`firestore_mutations_${o}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function No(o,e){return`firestore_targets_${o}_${e}`}class du{constructor(e,r,s,c){this.user=e,this.batchId=r,this.state=s,this.error=c}static Es(e,r,s){const c=JSON.parse(s);let d,p="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code,p&&(d=new Nt(c.error.code,c.error.message))),p?new du(e,r,c.state,d):(ve("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new Nt(s.error.code,s.error.message))),d?new zc(e,s.state,c):(ve("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,d=W();for(let p=0;c&&p<s.activeTargetIds.length;++p)c=Vh(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return c?new eh(e,d):(ve("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class sg{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new sg(r.clientId,r.onlineState):(ve("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mf{constructor(){this.activeTargetIds=W()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ag{constructor(e,r,s,c,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new hr(cr),this.started=!1,this.ys=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=og(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new mf),this.bs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.A)(function*(){const r=yield e.syncEngine.Bi();for(const c of r){if(c===e.Vs)continue;const d=e.getItem(og(e.persistenceKey,c));if(d){const p=eh.Es(c,d);p&&(e.ps=e.ps.insert(p.clientId,p))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const c=e.xs(s);c&&e.Os(c)}for(const c of e.ys)e.gs(c);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(No(this.persistenceKey,e));if(s){const c=zc.Es(e,s);c&&(r=c.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(No(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(c=>{this.Bs(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return S("SharedClientState","READ",e,r),r}setItem(e,r){S("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(S("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void ve("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const c=r.$s(s.key);return r.Us(c,null)}{const c=r.Ws(s.key,s.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const c=r.Gs(s.key,s.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const c=r.js(s.key,s.newValue);if(c)return r.Hs(c)}}else if(s.key===r.vs){if(null!==s.newValue){const c=r.xs(s.newValue);if(c)return r.Os(c)}}else if(s.key===r.Ss){const c=function(p){let w=Po._e;if(null!=p)try{const M=JSON.parse(p);lt("number"==typeof M),w=M}catch(M){ve("SharedClientState","Failed to read sequence number from WebStorage",M)}return w}(s.newValue);c!==Po._e&&r.sequenceNumberHandler(c)}else if(s.key===r.Fs){const c=r.Js(s.newValue);yield Promise.all(c.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const c=new du(this.currentUser,e,r,s),d=gf(this.persistenceKey,this.currentUser,e);this.setItem(d,c.ds())}Bs(e){const r=gf(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const c=No(this.persistenceKey,e),d=new zc(e,r,s);this.setItem(c,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return eh.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),c=Number(s[1]);return du.Es(new Vi(void 0!==s[2]?s[2]:null),c,r)}js(e,r){const s=this.Cs.exec(e),c=Number(s[1]);return zc.Es(c,r)}xs(e){return sg.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);S("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),c=this.Ns(this.ps),d=this.Ns(s),p=[],w=[];return d.forEach(M=>{c.has(M)||p.push(M)}),c.forEach(M=>{d.has(M)||w.push(M)}),this.syncEngine.eo(p,w).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=W();return e.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class lg{constructor(){this.no=new mf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mf,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uy{io(e){}shutdown(){}}class ug{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vf=null;function cg(){return null===vf?vf=268435456+Math.round(2147483648*Math.random()):vf++,"0x"+vf.toString(16)}const $y={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class By{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Oo="WebChannelConnection";class hE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${c}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get wo(){return!1}So(r,s,c,d,p){const w=cg(),M=this.bo(r,s.toUriEncodedString());S("RestConnection",`Sending RPC '${r}' ${w}:`,M,c);const $={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do($,d,p),this.Co(r,M,$,c).then(ee=>(S("RestConnection",`Received RPC '${r}' ${w}: `,ee),ee),ee=>{throw k("RestConnection",`RPC '${r}' ${w} failed with error: `,ee,"url: ",M,"request:",c),ee})}vo(r,s,c,d,p,w){return this.So(r,s,c,d,p)}Do(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+mo,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),c&&c.headers.forEach((d,p)=>r[p]=d)}bo(r,s){return`${this.fo}/v1/${s}:${$y[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,c){const d=cg();return new Promise((p,w)=>{const M=new Du;M.setWithCredentials(!0),M.listenOnce(So.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Ws.NO_ERROR:const ee=M.getResponseJson();S(Oo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ee)),p(ee);break;case Ws.TIMEOUT:S(Oo,`RPC '${e}' ${d} timed out`),w(new Nt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Ws.HTTP_ERROR:const Te=M.getStatus();if(S(Oo,`RPC '${e}' ${d} failed with status:`,Te,"response text:",M.getResponseText()),Te>0){let Je=M.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const bt=null==Je?void 0:Je.error;if(bt&&bt.status&&bt.message){const vn=function(In){const ir=In.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(ir)>=0?ir:ft.UNKNOWN}(bt.status);w(new Nt(vn,bt.message))}else w(new Nt(ft.UNKNOWN,"Server responded with status "+M.getStatus()))}else w(new Nt(ft.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{S(Oo,`RPC '${e}' ${d} completed.`)}});const $=JSON.stringify(c);S(Oo,`RPC '${e}' ${d} sending request:`,c),M.send(r,"POST",$,s,15)})}Fo(e,r,s){const c=cg(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=hc(),w=Ta(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(M.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,r,s),M.encodeInitMessageHeaders=!0;const ee=d.join("");S(Oo,`Creating RPC '${e}' stream ${c}: ${ee}`,M);const Te=p.createWebChannel(ee,M);let Je=!1,bt=!1;const vn=new By({lo:In=>{bt?S(Oo,`Not sending because RPC '${e}' stream ${c} is closed:`,In):(Je||(S(Oo,`Opening RPC '${e}' stream ${c} transport.`),Te.open(),Je=!0),S(Oo,`RPC '${e}' stream ${c} sending:`,In),Te.send(In))},ho:()=>Te.close()}),xn=(In,ir,xr)=>{In.listen(ir,fr=>{try{xr(fr)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return xn(Te,ia.EventType.OPEN,()=>{bt||S(Oo,`RPC '${e}' stream ${c} transport opened.`)}),xn(Te,ia.EventType.CLOSE,()=>{bt||(bt=!0,S(Oo,`RPC '${e}' stream ${c} transport closed`),vn.Vo())}),xn(Te,ia.EventType.ERROR,In=>{bt||(bt=!0,k(Oo,`RPC '${e}' stream ${c} transport errored:`,In),vn.Vo(new Nt(ft.UNAVAILABLE,"The operation could not be completed")))}),xn(Te,ia.EventType.MESSAGE,In=>{var ir;if(!bt){const xr=In.data[0];lt(!!xr);const Fr=xr.error||(null===(ir=xr[0])||void 0===ir?void 0:ir.error);if(Fr){S(Oo,`RPC '${e}' stream ${c} received error:`,Fr);const Ti=Fr.status;let yi=function(j0){const Rh=ho[j0];if(void 0!==Rh)return Vp(Rh)}(Ti),Io=Fr.message;void 0===yi&&(yi=ft.INTERNAL,Io="Unknown error status: "+Ti+" with message "+Fr.message),bt=!0,vn.Vo(new Nt(yi,Io)),Te.close()}else S(Oo,`RPC '${e}' stream ${c} received:`,xr),vn.mo(xr)}}),xn(w,wa.STAT_EVENT,In=>{In.stat===ba.PROXY?S(Oo,`RPC '${e}' stream ${c} detected buffering proxy`):In.stat===ba.NOPROXY&&S(Oo,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{vn.Ro()},0),vn}}function jy(){return typeof window<"u"?window:null}function Wc(){return typeof document<"u"?document:null}function _f(o){return new Fd(o,!0)}class mv{constructor(e,r,s=1e3,c=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=c,this.Oo=d,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Bo),c=Math.max(0,r-s);c>0&&S("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Hy{constructor(e,r,s,c,d,p,w,M){this.oi=e,this.$o=s,this.Uo=c,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=w,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mv(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,l.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,l.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,l.A)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===ft.RESOURCE_EXHAUSTED?(ve(r.toString()),ve("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===ft.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Wo===r&&this.o_(s,c)},s=>{e(()=>{const c=new Nt(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(c)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(c=>{s(()=>this.__(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Yo(){var e=this;this.state=5,this.jo.qo((0,l.A)(function*(){e.state=0,e.start()}))}__(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fE extends Hy{constructor(e,r,s,c,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function Gm(o,e){let r;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:pe(),c=e.targetChange.targetIds||[],d=function($,ee){return $.useProto3Json?(lt(void 0===ee||"string"==typeof ee),Hi.fromBase64String(ee||"")):(lt(void 0===ee||ee instanceof Uint8Array),Hi.fromUint8Array(ee||new Uint8Array))}(o,e.targetChange.resumeToken),p=e.targetChange.cause,w=p&&function($){const ee=void 0===$.code?ft.UNKNOWN:Vp($.code);return new Nt(ee,$.message||"")}(p);r=new Up(s,c,d,w||null)}else if("documentChange"in e){const s=e.documentChange,c=Ha(o,s.document.name),d=so(s.document.updateTime),p=s.document.createTime?so(s.document.createTime):Zt.min(),w=new gi({mapValue:{fields:s.document.fields}}),M=mi.newFoundDocument(c,d,p,w);r=new Xh(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,c=Ha(o,s.document),d=s.readTime?so(s.readTime):Zt.min(),p=mi.newNoDocument(c,d);r=new Xh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,c=Ha(o,s.document);r=new Xh([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return pe();{const s=e.filter,{count:c=0,unchangedNames:d}=s,p=new jm(c,d);r=new Hm(s.targetId,p)}}var $;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Zt.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Zt.min():p.readTime?so(p.readTime):Zt.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=$d(this.serializer),r.addTarget=function(d,p){let w;const M=p.target;if(w=Pu(M)?{documents:qm(d,M)}:{query:Bp(d,M).ut},w.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){w.resumeToken=Yh(d,p.resumeToken);const $=Qh(d,p.expectedCount);null!==$&&(w.expectedCount=$)}else if(p.snapshotVersion.compareTo(Zt.min())>0){w.readTime=Sc(d,p.snapshotVersion.toTimestamp());const $=Qh(d,p.expectedCount);null!==$&&(w.expectedCount=$)}return w}(this.serializer,e);const s=function oE(o,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=$d(this.serializer),r.removeTarget=e,this.t_(r)}}class pE extends Hy{constructor(e,r,s,c,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function iE(o,e){return o&&o.length>0?(lt(void 0!==e),o.map(r=>function(c,d){let p=so(c.updateTime?c.updateTime:d);return p.isEqual(Zt.min())&&(p=so(d)),new Tc(p,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=so(e.commitTime);return this.listener.T_(s,r)}return lt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=$d(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Uu(this.serializer,s))};this.t_(r)}}class zy extends class{}{constructor(e,r,s,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.A_=!1}R_(){if(this.A_)throw new Nt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.So(e,Lu(r,s),c,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Nt(ft.UNKNOWN,d.toString())})}vo(e,r,s,c,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,w])=>this.connection.vo(e,Lu(r,s),c,p,w,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Nt(ft.UNKNOWN,p.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class dg{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ve(r),this.g_=!1):S("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class vv{constructor(e,r,s,c,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(w=>{s.enqueueAndForget((0,l.A)(function*(){var M;Xu(p)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,l.A)(function*(ee){const Te=Ht(ee);Te.v_.add(4),yield qc(Te),Te.x_.set("Unknown"),Te.v_.delete(4),yield Kc(Te)}),function $(ee){return M.apply(this,arguments)})(p))}))}),this.x_=new dg(s,c)}}function Kc(o){return hg.apply(this,arguments)}function hg(){return hg=(0,l.A)(function*(o){if(Xu(o))for(const e of o.F_)yield e(!0)}),hg.apply(this,arguments)}function qc(o){return If.apply(this,arguments)}function If(){return If=(0,l.A)(function*(o){for(const e of o.F_)yield e(!1)}),If.apply(this,arguments)}function Ol(o,e){const r=Ht(o);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),pg(r)?_v(r):Yu(r).Jo()&&sl(r,e))}function ko(o,e){const r=Ht(o),s=Yu(r);r.C_.delete(e),s.Jo()&&fg(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Xu(r)&&r.x_.set("Unknown"))}function sl(o,e){if(o.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Yu(o).c_(e)}function fg(o,e){o.O_.Oe(e),Yu(o).l_(e)}function _v(o){o.O_=new nE({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>o.C_.get(e)||null,nt:()=>o.datastore.serializer.databaseId}),Yu(o).start(),o.x_.p_()}function pg(o){return Xu(o)&&!Yu(o).Ho()&&o.C_.size>0}function Xu(o){return 0===Ht(o).v_.size}function Wy(o){o.O_=void 0}function yv(o){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,l.A)(function*(o){o.C_.forEach((e,r)=>{sl(o,e)})}),Ef.apply(this,arguments)}function gE(o,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,l.A)(function*(o,e){Wy(o),pg(o)?(o.x_.S_(e),_v(o)):o.x_.set("Unknown")}),Xc.apply(this,arguments)}function gg(o,e,r){return th.apply(this,arguments)}function th(){return th=(0,l.A)(function*(o,e,r){if(o.x_.set("Online"),e instanceof Up&&2===e.state&&e.cause)try{yield(s=(0,l.A)(function*(d,p){const w=p.cause;for(const M of p.targetIds)d.C_.has(M)&&(yield d.remoteSyncer.rejectListen(M,w),d.C_.delete(M),d.O_.removeTarget(M))}),function c(d,p){return s.apply(this,arguments)})(o,e)}catch(s){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Cf(o,s)}else if(e instanceof Xh?o.O_.$e(e):e instanceof Hm?o.O_.Je(e):o.O_.Ge(e),!r.isEqual(Zt.min()))try{const s=yield dv(o.localStore);r.compareTo(s)>=0&&(yield function(d,p){const w=d.O_.it(p);return w.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const ee=d.C_.get($);ee&&d.C_.set($,ee.withResumeToken(M.resumeToken,p))}}),w.targetMismatches.forEach((M,$)=>{const ee=d.C_.get(M);if(!ee)return;d.C_.set(M,ee.withResumeToken(Hi.EMPTY_BYTE_STRING,ee.snapshotVersion)),fg(d,M);const Te=new Zs(ee.target,M,$,ee.sequenceNumber);sl(d,Te)}),d.remoteSyncer.applyRemoteEvent(w)}(o,r))}catch(s){S("RemoteStore","Failed to raise snapshot:",s),yield Cf(o,s)}var s}),th.apply(this,arguments)}function Cf(o,e,r){return hu.apply(this,arguments)}function hu(){return hu=(0,l.A)(function*(o,e,r){if(!Bi(e))throw e;o.v_.add(1),yield qc(o),o.x_.set("Offline"),r||(r=()=>dv(o.localStore)),o.asyncQueue.enqueueRetryable((0,l.A)(function*(){S("RemoteStore","Retrying IndexedDB access"),yield r(),o.v_.delete(1),yield Kc(o)}))}),hu.apply(this,arguments)}function Df(o,e){return e().catch(r=>Cf(o,r,e))}function Qu(o){return nh.apply(this,arguments)}function nh(){return nh=(0,l.A)(function*(o){const e=Ht(o),r=Fl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Af(e);)try{const c=yield Vy(e.localStore,s);if(null===c){0===e.D_.length&&r.Xo();break}s=c.batchId,Gy(e,c)}catch(c){yield Cf(e,c)}Iv(e)&&mg(e)}),nh.apply(this,arguments)}function Af(o){return Xu(o)&&o.D_.length<10}function Gy(o,e){o.D_.push(e);const r=Fl(o);r.Jo()&&r.P_&&r.I_(e.mutations)}function Iv(o){return Xu(o)&&!Fl(o).Ho()&&o.D_.length>0}function mg(o){Fl(o).start()}function Ky(o){return vg.apply(this,arguments)}function vg(){return vg=(0,l.A)(function*(o){Fl(o).d_()}),vg.apply(this,arguments)}function qy(o){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,l.A)(function*(o){const e=Fl(o);for(const r of o.D_)e.I_(r.mutations)}),Tf.apply(this,arguments)}function rh(o,e,r){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,l.A)(function*(o,e,r){const s=o.D_.shift(),c=Fp.from(s,e,r);yield Df(o,()=>o.remoteSyncer.applySuccessfulWrite(c)),yield Qu(o)}),Qc.apply(this,arguments)}function _g(o,e){return yg.apply(this,arguments)}function yg(){return yg=(0,l.A)(function*(o,e){var r;e&&Fl(o).P_&&(yield(r=(0,l.A)(function*(c,d){if(hy(w=d.code)&&w!==ft.ABORTED){const p=c.D_.shift();Fl(c).Zo(),yield Df(c,()=>c.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield Qu(c)}var w}),function s(c,d){return r.apply(this,arguments)})(o,e)),Iv(o)&&mg(o)}),yg.apply(this,arguments)}function Ev(o,e){return ih.apply(this,arguments)}function ih(){return ih=(0,l.A)(function*(o,e){const r=Ht(o);r.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const s=Xu(r);r.v_.add(3),yield qc(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield Kc(r)}),ih.apply(this,arguments)}function wf(o,e){return kl.apply(this,arguments)}function kl(){return kl=(0,l.A)(function*(o,e){const r=Ht(o);e?(r.v_.delete(2),yield Kc(r)):e||(r.v_.add(2),yield qc(r),r.x_.set("Unknown"))}),kl.apply(this,arguments)}function Yu(o){return o.N_||(o.N_=function(r,s,c){const d=Ht(r);return d.R_(),new fE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:yv.bind(null,o),To:gE.bind(null,o),u_:gg.bind(null,o)}),o.F_.push(function(){var e=(0,l.A)(function*(r){r?(o.N_.Zo(),pg(o)?_v(o):o.x_.set("Unknown")):(yield o.N_.stop(),Wy(o))});return function(r){return e.apply(this,arguments)}}())),o.N_}function Fl(o){return o.L_||(o.L_=function(r,s,c){const d=Ht(r);return d.R_(),new pE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:Ky.bind(null,o),To:_g.bind(null,o),E_:qy.bind(null,o),T_:rh.bind(null,o)}),o.F_.push(function(){var e=(0,l.A)(function*(r){r?(o.L_.Zo(),yield Qu(o)):(yield o.L_.stop(),o.D_.length>0&&(S("RemoteStore",`Stopping write stream with ${o.D_.length} pending writes`),o.D_=[]))});return function(r){return e.apply(this,arguments)}}())),o.L_}class Ig{constructor(e,r,s,c,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,c,d){const p=Date.now()+s,w=new Ig(e,r,p,c,d);return w.start(s),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oh(o,e){if(ve("AsyncQueue",`${e}: ${o}`),Bi(o))return new Nt(ft.UNAVAILABLE,`${e}: ${o}`);throw o}class Vl{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Dn.comparator(r.key,s.key):(r,s)=>Dn.comparator(r.key,s.key),this.keyedMap=Dl(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Vl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Vl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Cv{constructor(){this.B_=new hr(Dn.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):pe():this.B_=this.B_.insert(r,e)}k_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Zu{constructor(e,r,s,c,d,p,w,M,$){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=w,this.excludesMetadataChanges=M,this.hasCachedResults=$}static fromInitialDocuments(e,r,s,c,d){const p=[];return r.forEach(w=>{p.push({type:0,doc:w})}),new Zu(e,r,Vl.emptySet(r),p,s,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class Dv{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Av{constructor(){this.queries=new $a(e=>Rp(e),nu),this.onlineState="Unknown",this.W_=new Set}}function sh(o,e){return bf.apply(this,arguments)}function bf(){return bf=(0,l.A)(function*(o,e){const r=Ht(o);let s=3;const c=e.query;let d=r.queries.get(c);d?!d.K_()&&e.U_()&&(s=2):(d=new Dv,s=e.U_()?0:1);try{switch(s){case 0:d.q_=yield r.onListen(c,!0);break;case 1:d.q_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(p){const w=oh(p,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(w)}r.queries.set(c,d),d.Q_.push(e),e.G_(r.onlineState),d.q_&&e.z_(d.q_)&&ec(r)}),bf.apply(this,arguments)}function Yc(o,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,l.A)(function*(o,e){const r=Ht(o),s=e.query;let c=3;const d=r.queries.get(s);if(d){const p=d.Q_.indexOf(e);p>=0&&(d.Q_.splice(p,1),0===d.Q_.length?c=e.U_()?0:1:!d.K_()&&e.U_()&&(c=2))}switch(c){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}),Ju.apply(this,arguments)}function Tv(o,e){const r=Ht(o);let s=!1;for(const c of e){const p=r.queries.get(c.query);if(p){for(const w of p.Q_)w.z_(c)&&(s=!0);p.q_=c}}s&&ec(r)}function Eg(o,e,r){const s=Ht(o),c=s.queries.get(e);if(c)for(const d of c.Q_)d.onError(r);s.queries.delete(e)}function ec(o){o.W_.forEach(e=>{e.next()})}var Sf,Rf;(Rf=Sf||(Sf={})).j_="default",Rf.Cache="cache";class Zc{constructor(e,r,s){this.query=e,this.H_=r,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=s||{}}z_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Zu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),r=!0):this.X_(e,this.onlineState)&&(this.ea(e),r=!0),this.Y_=e,r}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let r=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),r=!0),r}X_(e,r){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Sf.Cache}}class Xy{constructor(e,r){this.na=e,this.byteLength=r}ra(){return"metadata"in this.na}}class Cg{constructor(e){this.serializer=e}Ps(e){return Ha(this.serializer,e)}Is(e){return e.metadata.exists?$p(this.serializer,e.document,!1):mi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return so(e)}}class Qy{constructor(e,r,s){this.ia=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wv(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++r;const s=Vr.fromString(e.na.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}oa(e){const r=new Map,s=new Cg(this.serializer);for(const c of e)if(c.metadata.queries){const d=s.Ps(c.metadata.name);for(const p of c.metadata.queries){const w=(r.get(p)||m()).add(d);r.set(p,w)}}return r}complete(){var e=this;return(0,l.A)(function*(){const r=yield function Ly(o,e,r,s){return ig.apply(this,arguments)}(e.localStore,new Cg(e.serializer),e.documents,e.ia.id),s=e.oa(e.documents);for(const c of e.queries)yield Vs(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:r}})()}}function wv(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class bv{constructor(e){this.key=e}}class Dg{constructor(e){this.key=e}}class Ag{constructor(e,r){this.query=e,this.ua=r,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=m(),this.mutatedKeys=m(),this.ha=Nu(e),this.Pa=new Vl(this.ha)}get Ia(){return this.ua}Ta(e,r){const s=r?r.Ea:new Cv,c=r?r.Pa:this.Pa;let d=r?r.mutatedKeys:this.mutatedKeys,p=c,w=!1;const M="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,$="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ee,Te)=>{const Je=c.get(ee),bt=da(this.query,Te)?Te:null,vn=!!Je&&this.mutatedKeys.has(Je.key),xn=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let In=!1;Je&&bt?Je.data.isEqual(bt.data)?vn!==xn&&(s.track({type:3,doc:bt}),In=!0):this.da(Je,bt)||(s.track({type:2,doc:bt}),In=!0,(M&&this.ha(bt,M)>0||$&&this.ha(bt,$)<0)&&(w=!0)):!Je&&bt?(s.track({type:0,doc:bt}),In=!0):Je&&!bt&&(s.track({type:1,doc:Je}),In=!0,(M||$)&&(w=!0)),In&&(bt?(p=p.add(bt),d=xn?d.add(ee):d.delete(ee)):(p=p.delete(ee),d=d.delete(ee)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ee="F"===this.query.limitType?p.last():p.first();p=p.delete(ee.key),d=d.delete(ee.key),s.track({type:1,doc:ee})}return{Pa:p,Ea:s,Xi:w,mutatedKeys:d}}da(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,c){const d=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const p=e.Ea.k_();p.sort((ee,Te)=>function(bt,vn){const xn=In=>{switch(In){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return xn(bt)-xn(vn)}(ee.type,Te.type)||this.ha(ee.doc,Te.doc)),this.Aa(s),c=null!=c&&c;const w=r&&!c?this.Ra():[],M=0===this.la.size&&this.current&&!c?1:0,$=M!==this.ca;return this.ca=M,0!==p.length||$?{snapshot:new Zu(this.query,e.Pa,d,p,e.mutatedKeys,0===M,$,!1,!!s&&s.resumeToken.approximateByteSize()>0),Va:w}:{Va:w}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Cv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(r=>this.ua=this.ua.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ua=this.ua.delete(r)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=m(),this.Pa.forEach(s=>{this.ma(s.key)&&(this.la=this.la.add(s.key))});const r=[];return e.forEach(s=>{this.la.has(s)||r.push(new Dg(s))}),this.la.forEach(s=>{e.has(s)||r.push(new bv(s))}),r}fa(e){this.ua=e.hs,this.la=m();const r=this.Ta(e.documents);return this.applyChanges(r,!0)}ga(){return Zu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Pr{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Sv{constructor(e){this.key=e,this.pa=!1}}class Rv{constructor(e,r,s,c,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.ya={},this.wa=new $a(w=>Rp(w),nu),this.Sa=new Map,this.ba=new Set,this.Da=new hr(Dn.comparator),this.Ca=new Map,this.va=new Yp,this.Fa={},this.Ma=new Map,this.xa=kc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function Jc(o,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,l.A)(function*(o,e,r=!0){const s=fh(o);let c;const d=s.wa.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.ga()):c=yield ah(s,e,r,!0),c}),Mf.apply(this,arguments)}function Mv(o,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,l.A)(function*(o,e){const r=fh(o);yield ah(r,e,!0,!1)}),Tg.apply(this,arguments)}function ah(o,e,r,s){return fu.apply(this,arguments)}function fu(){return fu=(0,l.A)(function*(o,e,r,s){const c=yield jc(o.localStore,co(e)),d=c.targetId,p=r?o.sharedClientState.addLocalQueryTarget(d):"not-current";let w;return s&&(w=yield lh(o,e,d,"current"===p,c.resumeToken)),o.isPrimaryClient&&r&&Ol(o.remoteStore,c),w}),fu.apply(this,arguments)}function lh(o,e,r,s,c){return tc.apply(this,arguments)}function tc(){return tc=(0,l.A)(function*(o,e,r,s,c){o.Na=(Te,Je,bt)=>{return(vn=(0,l.A)(function*(In,ir,xr,fr){let Fr=ir.view.Ta(xr);Fr.Xi&&(Fr=yield pf(In.localStore,ir.query,!1).then(({documents:va})=>ir.view.Ta(va,Fr)));const Ti=fr&&fr.targetChanges.get(ir.targetId),yi=fr&&null!=fr.targetMismatches.get(ir.targetId),Io=ir.view.applyChanges(Fr,In.isPrimaryClient,Ti,yi);return Lv(In,ir.targetId,Io.Va),Io.snapshot}),function xn(In,ir,xr,fr){return vn.apply(this,arguments)})(o,Te,Je,bt);var vn};const d=yield pf(o.localStore,e,!0),p=new Ag(e,d.hs),w=p.Ta(d.documents),M=rl.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==o.onlineState,c),$=p.applyChanges(w,o.isPrimaryClient,M);Lv(o,r,$.Va);const ee=new Pr(e,r,p);return o.wa.set(e,ee),o.Sa.has(r)?o.Sa.get(r).push(e):o.Sa.set(r,[e]),$.snapshot}),tc.apply(this,arguments)}function Pv(o,e,r){return uh.apply(this,arguments)}function uh(){return uh=(0,l.A)(function*(o,e,r){const s=Ht(o),c=s.wa.get(e),d=s.Sa.get(c.targetId);if(d.length>1)return s.Sa.set(c.targetId,d.filter(p=>!nu(p,e))),void s.wa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Hc(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),r&&ko(s.remoteStore,c.targetId),ed(s,c.targetId)}).catch(di))):(ed(s,c.targetId),yield Hc(s.localStore,c.targetId,!0))}),uh.apply(this,arguments)}function wg(o,e){return ch.apply(this,arguments)}function ch(){return ch=(0,l.A)(function*(o,e){const r=Ht(o),s=r.wa.get(e),c=r.Sa.get(s.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),ko(r.remoteStore,s.targetId))}),ch.apply(this,arguments)}function dh(){return dh=(0,l.A)(function*(o,e,r){const s=kf(o);try{const c=yield function(p,w){const M=Ht(p),$=Xr.now(),ee=w.reduce((bt,vn)=>bt.add(vn.key),m());let Te,Je;return M.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let vn=Ds(),xn=m();return M.os.getEntries(bt,ee).next(In=>{vn=In,vn.forEach((ir,xr)=>{xr.isValidDocument()||(xn=xn.add(ir))})}).next(()=>M.localDocuments.getOverlayedDocuments(bt,vn)).next(In=>{Te=In;const ir=[];for(const xr of w){const fr=cy(xr,Te.get(xr.key).overlayedDocument);null!=fr&&ir.push(new Sl(xr.key,fr,Ic(fr.value.mapValue),si.exists(!0)))}return M.mutationQueue.addMutationBatch(bt,$,ir,w)}).next(In=>{Je=In;const ir=In.applyToLocalDocumentSet(Te,xn);return M.documentOverlayCache.saveOverlays(bt,In.batchId,ir)})}).then(()=>({batchId:Je.batchId,changes:Al(Te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,w,M){let $=p.Fa[p.currentUser.toKey()];$||($=new hr(cr)),$=$.insert(w,M),p.Fa[p.currentUser.toKey()]=$}(s,c.batchId,r),yield Ll(s,c.changes),yield Qu(s.remoteStore)}catch(c){const d=oh(c,"Failed to persist write");r.reject(d)}}),dh.apply(this,arguments)}function Nv(o,e){return bg.apply(this,arguments)}function bg(){return bg=(0,l.A)(function*(o,e){const r=Ht(o);try{const s=yield function hv(o,e){const r=Ht(o),s=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const w=[];e.targetChanges.forEach((ee,Te)=>{const Je=c.get(Te);if(!Je)return;w.push(r.Qr.removeMatchingKeys(d,ee.removedDocuments,Te).next(()=>r.Qr.addMatchingKeys(d,ee.addedDocuments,Te)));let bt=Je.withSequenceNumber(d.currentSequenceNumber);var xn,In,ir;null!==e.targetMismatches.get(Te)?bt=bt.withResumeToken(Hi.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):ee.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(ee.resumeToken,s)),c=c.insert(Te,bt),In=bt,ir=ee,(0===(xn=Je).resumeToken.approximateByteSize()||In.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||ir.addedDocuments.size+ir.modifiedDocuments.size+ir.removedDocuments.size>0)&&w.push(r.Qr.updateTargetData(d,bt))});let M=Ds(),$=m();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(d,ee))}),w.push(fv(d,p,e.documentUpdates).next(ee=>{M=ee.cs,$=ee.ls})),!s.isEqual(Zt.min())){const ee=r.Qr.getLastRemoteSnapshotVersion(d).next(Te=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));w.push(ee)}return pt.waitFor(w).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,M,$)).next(()=>M)}).then(d=>(r.ns=c,d))}(r.localStore,e);e.targetChanges.forEach((c,d)=>{const p=r.Ca.get(d);p&&(lt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.pa=!0:c.modifiedDocuments.size>0?lt(p.pa):c.removedDocuments.size>0&&(lt(p.pa),p.pa=!1))}),yield Ll(r,s,e)}catch(s){yield di(s)}}),bg.apply(this,arguments)}function Ov(o,e,r){const s=Ht(o);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.wa.forEach((d,p)=>{const w=p.view.G_(e);w.snapshot&&c.push(w.snapshot)}),function(p,w){const M=Ht(p);M.onlineState=w;let $=!1;M.queries.forEach((ee,Te)=>{for(const Je of Te.Q_)Je.G_(w)&&($=!0)}),$&&ec(M)}(s.eventManager,e),c.length&&s.ya.u_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function kv(o,e,r){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,l.A)(function*(o,e,r){const s=Ht(o);s.sharedClientState.updateQueryState(e,"rejected",r);const c=s.Ca.get(e),d=c&&c.key;if(d){let p=new hr(Dn.comparator);p=p.insert(d,mi.newNoDocument(d,Zt.min()));const w=m().add(d),M=new wc(Zt.min(),new Map,new hr(cr),p,w);yield Nv(s,M),s.Da=s.Da.remove(d),s.Ca.delete(e),xf(s)}else yield Hc(s.localStore,e,!1).then(()=>ed(s,e,r)).catch(di)}),Sg.apply(this,arguments)}function Yy(o,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,l.A)(function*(o,e){const r=Ht(o),s=e.batch.batchId;try{const c=yield function Fy(o,e){const r=Ht(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(w,M,$,ee){const Te=$.batch,Je=Te.keys();let bt=pt.resolve();return Je.forEach(vn=>{bt=bt.next(()=>ee.getEntry(M,vn)).next(xn=>{const In=$.docVersions.get(vn);lt(null!==In),xn.version.compareTo(In)<0&&(Te.applyToRemoteDocument(xn,$),xn.isValidDocument()&&(xn.setReadTime($.commitVersion),ee.addEntry(xn)))})}),bt.next(()=>w.mutationQueue.removeMutationBatch(M,Te))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let M=m();for(let $=0;$<w.mutationResults.length;++$)w.mutationResults[$].transformResults.length>0&&(M=M.add(w.batch.mutations[$].key));return M}(e))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,e);as(r,s,null),Pg(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ll(r,c)}catch(c){yield di(c)}}),Rg.apply(this,arguments)}function Zy(o,e,r){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,l.A)(function*(o,e,r){const s=Ht(o);try{const c=yield function(p,w){const M=Ht(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ee;return M.mutationQueue.lookupMutationBatch($,w).next(Te=>(lt(null!==Te),ee=Te.keys(),M.mutationQueue.removeMutationBatch($,Te))).next(()=>M.mutationQueue.performConsistencyCheck($)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId($,ee,w)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ee)).next(()=>M.localDocuments.getDocuments($,ee))})}(s.localStore,e);as(s,e,r),Pg(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ll(s,c)}catch(c){yield di(c)}}),Pf.apply(this,arguments)}function Mg(){return Mg=(0,l.A)(function*(o,e){const r=Ht(o);Xu(r.remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const w=Ht(p);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>w.mutationQueue.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===s)return void e.resolve();const c=r.Ma.get(s)||[];c.push(e),r.Ma.set(s,c)}catch(s){const c=oh(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Mg.apply(this,arguments)}function Pg(o,e){(o.Ma.get(e)||[]).forEach(r=>{r.resolve()}),o.Ma.delete(e)}function as(o,e,r){const s=Ht(o);let c=s.Fa[s.currentUser.toKey()];if(c){const d=c.get(e);d&&(r?d.reject(r):d.resolve(),c=c.remove(e)),s.Fa[s.currentUser.toKey()]=c}}function ed(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const s of o.Sa.get(e))o.wa.delete(s),r&&o.ya.La(s,r);o.Sa.delete(e),o.isPrimaryClient&&o.va.Vr(e).forEach(s=>{o.va.containsKey(s)||Vv(o,s)})}function Vv(o,e){o.ba.delete(e.path.canonicalString());const r=o.Da.get(e);null!==r&&(ko(o.remoteStore,r),o.Da=o.Da.remove(e),o.Ca.delete(r),xf(o))}function Lv(o,e,r){for(const s of r)s instanceof bv?(o.va.addReference(s.key,e),xg(o,s)):s instanceof Dg?(S("SyncEngine","Document no longer in limbo: "+s.key),o.va.removeReference(s.key,e),o.va.containsKey(s.key)||Vv(o,s.key)):pe()}function xg(o,e){const r=e.key,s=r.path.canonicalString();o.Da.get(r)||o.ba.has(s)||(S("SyncEngine","New document in limbo: "+r),o.ba.add(s),xf(o))}function xf(o){for(;o.ba.size>0&&o.Da.size<o.maxConcurrentLimboResolutions;){const e=o.ba.values().next().value;o.ba.delete(e);const r=new Dn(Vr.fromString(e)),s=o.xa.next();o.Ca.set(s,new Sv(r)),o.Da=o.Da.insert(r,s),Ol(o.remoteStore,new Zs(co(ks(r.path)),s,"TargetPurposeLimboResolution",Po._e))}}function Ll(o,e,r){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,l.A)(function*(o,e,r){const s=Ht(o),c=[],d=[],p=[];var w;s.wa.isEmpty()||(s.wa.forEach((w,M)=>{p.push(s.Na(M,e,r).then($=>{if(($||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,null!=$&&$.fromCache?"not-current":"current"),$){c.push($);const ee=eg.Ki(M.targetId,$);d.push(ee)}}))}),yield Promise.all(p),s.ya.u_(c),yield(w=(0,l.A)(function*($,ee){const Te=Ht($);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>pt.forEach(ee,bt=>pt.forEach(bt.qi,vn=>Te.persistence.referenceDelegate.addReference(Je,bt.targetId,vn)).next(()=>pt.forEach(bt.Qi,vn=>Te.persistence.referenceDelegate.removeReference(Je,bt.targetId,vn)))))}catch(Je){if(!Bi(Je))throw Je;S("LocalStore","Failed to update sequence numbers: "+Je)}for(const Je of ee){const bt=Je.targetId;if(!Je.fromCache){const vn=Te.ns.get(bt),In=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);Te.ns=Te.ns.insert(bt,In)}}}),function M($,ee){return w.apply(this,arguments)})(s.localStore,d))}),Ng.apply(this,arguments)}function Jy(o,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,l.A)(function*(o,e){const r=Ht(o);if(!r.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const s=yield Bc(r.localStore,e);r.currentUser=e,(d=r).Ma.forEach(w=>{w.forEach(M=>{M.reject(new Nt(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ma.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ll(r,s.us)}var d}),Nf.apply(this,arguments)}function e0(o,e){const r=Ht(o),s=r.Ca.get(e);if(s&&s.pa)return m().add(s.key);{let c=m();const d=r.Sa.get(e);if(!d)return c;for(const p of d){const w=r.wa.get(p);c=c.unionWith(w.view.Ia)}return c}}function t0(o,e){return hh.apply(this,arguments)}function hh(){return hh=(0,l.A)(function*(o,e){const r=Ht(o),s=yield pf(r.localStore,e.query,!0),c=e.view.fa(s);return r.isPrimaryClient&&Lv(r,e.targetId,c.Va),c}),hh.apply(this,arguments)}function n0(o,e){return Og.apply(this,arguments)}function Og(){return Og=(0,l.A)(function*(o,e){const r=Ht(o);return gv(r.localStore,e).then(s=>Ll(r,s))}),Og.apply(this,arguments)}function r0(o,e,r,s){return kg.apply(this,arguments)}function kg(){return kg=(0,l.A)(function*(o,e,r,s){const c=Ht(o),d=yield function(w,M){const $=Ht(w),ee=Ht($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",Te=>ee.vn(Te,M).next(Je=>Je?$.localDocuments.getDocuments(Te,Je):pt.resolve(null)))}(c.localStore,e);var M;null!==d?("pending"===r?yield Qu(c.remoteStore):"acknowledged"===r||"rejected"===r?(as(c,e,s||null),Pg(c,e),M=e,Ht(Ht(c.localStore).mutationQueue).Mn(M)):pe(),yield Ll(c,d)):S("SyncEngine","Cannot apply mutation batch with id: "+e)}),kg.apply(this,arguments)}function pa(){return pa=(0,l.A)(function*(o,e){const r=Ht(o);if(fh(r),kf(r),!0===e&&!0!==r.Oa){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Of(r,s.toArray());r.Oa=!0,yield wf(r.remoteStore,!0);for(const d of c)Ol(r.remoteStore,d)}else if(!1===e&&!1!==r.Oa){const s=[];let c=Promise.resolve();r.Sa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):c=c.then(()=>(ed(r,p),Hc(r.localStore,p,!0))),ko(r.remoteStore,p)}),yield c,yield Of(r,s),function(p){const w=Ht(p);w.Ca.forEach((M,$)=>{ko(w.remoteStore,$)}),w.va.mr(),w.Ca=new Map,w.Da=new hr(Dn.comparator)}(r),r.Oa=!1,yield wf(r.remoteStore,!1)}}),pa.apply(this,arguments)}function Of(o,e,r){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,l.A)(function*(o,e,r){const s=Ht(o),c=[],d=[];for(const p of e){let w;const M=s.Sa.get(p);if(M&&0!==M.length){w=yield jc(s.localStore,co(M[0]));for(const $ of M){const ee=s.wa.get($),Te=yield t0(s,ee);Te.snapshot&&d.push(Te.snapshot)}}else{const $=yield pv(s.localStore,p);w=yield jc(s.localStore,$),yield lh(s,Uv($),p,!1,w.resumeToken)}c.push(w)}return s.ya.u_(d),c}),Fg.apply(this,arguments)}function Uv(o){return Md(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function $v(o){return r=Ht(o).localStore,Ht(Ht(r).persistence).Bi();var r}function Bv(o,e,r,s){return td.apply(this,arguments)}function td(){return td=(0,l.A)(function*(o,e,r,s){const c=Ht(o);if(c.Oa)return void S("SyncEngine","Ignoring unexpected query state notification.");const d=c.Sa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield gv(c.localStore,xu(d[0])),w=wc.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Hi.EMPTY_BYTE_STRING);yield Ll(c,p,w);break}case"rejected":yield Hc(c.localStore,e,!0),ed(c,e,s);break;default:pe()}}),td.apply(this,arguments)}function Vg(o,e,r){return jv.apply(this,arguments)}function jv(){return jv=(0,l.A)(function*(o,e,r){const s=fh(o);if(s.Oa){for(const c of e){if(s.Sa.has(c)&&s.sharedClientState.isActiveQueryTarget(c)){S("SyncEngine","Adding an already active target "+c);continue}const d=yield pv(s.localStore,c),p=yield jc(s.localStore,d);yield lh(s,Uv(d),p.targetId,!1,p.resumeToken),Ol(s.remoteStore,p)}for(const c of r)s.Sa.has(c)&&(yield Hc(s.localStore,c,!1).then(()=>{ko(s.remoteStore,c),ed(s,c)}).catch(di))}}),jv.apply(this,arguments)}function fh(o){const e=Ht(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kv.bind(null,e),e.ya.u_=Tv.bind(null,e.eventManager),e.ya.La=Eg.bind(null,e.eventManager),e}function kf(o){const e=Ht(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zy.bind(null,e),e}class Ul{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.A)(function*(){r.serializer=_f(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return ky(this.persistence,new tg,e.initialUser,this.serializer)}createPersistence(e){return new Vc(Lc.Hr,this.serializer)}createSharedClientState(e){return new lg}terminate(){var e=this;return(0,l.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ka extends Ul{constructor(e,r,s){super(),this.ka=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e),yield s.ka.initialize(s,e),yield kf(s.ka.syncEngine),yield Qu(s.ka.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ky(this.persistence,new tg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new lf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Au(r,this.persistence);return new Yl(e.asyncQueue,s)}createPersistence(e){const r=Jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new hf(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,jy(),Wc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lg}}class zv extends Ka{constructor(e,r){super(e,r,!1),this.ka=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.A)(function*(){yield r().call(s,e);const c=s.ka.syncEngine;s.sharedClientState instanceof ag&&(s.sharedClientState.syncEngine={Zs:r0.bind(null,c),Xs:Bv.bind(null,c),eo:Vg.bind(null,c),Bi:$v.bind(null,c),Ys:n0.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,l.A)(function*(p){yield function o0(o,e){return pa.apply(this,arguments)}(s.ka.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=jy();if(!ag.D(r))throw new Nt(ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ag(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class nd{initialize(e,r){var s=this;return(0,l.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>Ov(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Jy.bind(null,s.syncEngine),yield wf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Av}createDatastore(e){const r=_f(e.databaseInfo.databaseId),s=new hE(e.databaseInfo);return new zy(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,c=this.datastore,d=e.asyncQueue,p=r=>Ov(this.syncEngine,r,0),w=ug.D()?new ug:new Uy,new vv(s,c,d,p,w);var s,c,d,p,w}createSyncEngine(e,r){return function(c,d,p,w,M,$,ee){const Te=new Rv(c,d,p,w,M,$);return ee&&(Te.Oa=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.A)(function*(){var r,s;yield(s=(0,l.A)(function*(d){const p=Ht(d);S("RemoteStore","RemoteStore shutting down."),p.v_.add(5),yield qc(p),p.M_.shutdown(),p.x_.set("Unknown")}),function c(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Ff(o,e=10240){let r=0;return{read:()=>(0,l.A)(function*(){if(r<o.byteLength){const s={value:o.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ve("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class ph{constructor(e,r){this.Ka=e,this.serializer=r,this.metadata=new Kn,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(s=>{s&&s.ra()?this.metadata.resolve(s.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.na)}`))},s=>this.metadata.reject(s))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,l.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,l.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,l.A)(function*(){const r=yield e.Wa();if(null===r)return null;const s=e.$a.decode(r),c=Number(s);isNaN(c)&&e.Ga(`length string (${s}) is not valid number`);const d=yield e.za(c);return new Xy(JSON.parse(d),r.length+c)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,l.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const r=e.ja();r<0&&e.Ga("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}za(e){var r=this;return(0,l.A)(function*(){for(;r.buffer.length<e;)(yield r.Ha())&&r.Ga("Reached the end of bundle when more is expected.");const s=r.$a.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,l.A)(function*(){const r=yield e.Ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Wv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Nt(ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(c=(0,l.A)(function*(p,w){const M=Ht(p),$={documents:w.map(bt=>Rc(M.serializer,bt))},ee=yield M.vo("BatchGetDocuments",M.serializer.databaseId,Vr.emptyPath(),$,w.length),Te=new Map;ee.forEach(bt=>{const vn=function _y(o,e){return"found"in e?function(s,c){lt(!!c.found);const d=Ha(s,c.found.name),p=so(c.found.updateTime),w=c.found.createTime?so(c.found.createTime):Zt.min(),M=new gi({mapValue:{fields:c.found.fields}});return mi.newFoundDocument(d,p,w,M)}(o,e):"missing"in e?function(s,c){lt(!!c.missing),lt(!!c.readTime);const d=Ha(s,c.missing),p=so(c.readTime);return mi.newNoDocument(d,p)}(o,e):pe()}(M.serializer,bt);Te.set(vn.key.toString(),vn)});const Je=[];return w.forEach(bt=>{const vn=Te.get(bt.toString());lt(!!vn),Je.push(vn)}),Je}),function d(p,w){return c.apply(this,arguments)})(r.datastore,e);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const d=Dn.fromPath(c);e.mutations.push(new Op(d,e.precondition(d)))}),yield(s=(0,l.A)(function*(d,p){const w=Ht(d),M={writes:p.map($=>Uu(w.serializer,$))};yield w.So("Commit",w.serializer.databaseId,Vr.emptyPath(),M)}),function c(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw pe();r=Zt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Nt(ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Zt.min())?si.exists(!1):si.updateTime(r):si.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Zt.min()))throw new Nt(ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(r)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rd{constructor(e,r,s,c,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=c,this.deferred=d,this.Ja=s.maxAttempts,this.jo=new mv(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,l.A)(function*(){const r=new Wv(e.datastore),s=e.Xa(r);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(d=>{e.eu(d)}))}).catch(c=>{e.eu(c)})}))}Xa(e){try{const r=this.updateFunction(e);return!pl(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!hy(r)}return!1}}class gh{constructor(e,r,s,c){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=Vi.UNAUTHENTICATED,this.clientId=Qi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,l.A)(function*(w){S("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(S("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=oh(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function id(o,e){return nc.apply(this,arguments)}function nc(){return nc=(0,l.A)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;yield e.initialize(r);let s=r.initialUser;o.setCredentialChangeListener(function(){var c=(0,l.A)(function*(d){s.isEqual(d)||(yield Bc(e.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),nc.apply(this,arguments)}function Lf(o,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,l.A)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const r=yield Ug(o);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,o.configuration),o.setCredentialChangeListener(s=>Ev(e.remoteStore,s)),o.setAppCheckTokenChangeListener((s,c)=>Ev(e.remoteStore,c)),o._onlineComponents=e}),Uf.apply(this,arguments)}function Gv(o){return"FirebaseError"===o.name?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function Ug(o){return $g.apply(this,arguments)}function $g(){return $g=(0,l.A)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield id(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Gv(r))throw r;k("Error using user provided cache. Falling back to memory cache: "+r),yield id(o,new Ul)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield id(o,new Ul);return o._offlineComponents}),$g.apply(this,arguments)}function $f(o){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,l.A)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lf(o,o._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield Lf(o,new nd))),o._onlineComponents}),Bg.apply(this,arguments)}function Kv(o){return Ug(o).then(e=>e.persistence)}function rc(o){return Ug(o).then(e=>e.localStore)}function jg(o){return $f(o).then(e=>e.remoteStore)}function Bf(o){return $f(o).then(e=>e.syncEngine)}function $l(o){return zg.apply(this,arguments)}function zg(){return zg=(0,l.A)(function*(o){const e=yield $f(o),r=e.eventManager;return r.onListen=Jc.bind(null,e.syncEngine),r.onUnlisten=Pv.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Mv.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wg.bind(null,e.syncEngine),r}),zg.apply(this,arguments)}function Wg(o,e,r={}){const s=new Kn;return o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(d,p,w,M,$){const ee=new Vf({next:Je=>{p.enqueueAndForget(()=>Yc(d,Te));const bt=Je.docs.has(w);!bt&&Je.fromCache?$.reject(new Nt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&Je.fromCache&&M&&"server"===M.source?$.reject(new Nt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Je)},error:Je=>$.reject(Je)}),Te=new Zc(ks(w.path),ee,{includeMetadataChanges:!0,ta:!0});return sh(d,Te)}(yield $l(o),o.asyncQueue,e,r,s)})),s.promise}function qv(o,e,r={}){const s=new Kn;return o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function(d,p,w,M,$){const ee=new Vf({next:Je=>{p.enqueueAndForget(()=>Yc(d,Te)),Je.fromCache&&"server"===M.source?$.reject(new Nt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Je)},error:Je=>$.reject(Je)}),Te=new Zc(w,ee,{includeMetadataChanges:!0,ta:!0});return sh(d,Te)}(yield $l(o),o.asyncQueue,e,r,s)})),s.promise}function Yv(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const Zv=new Map;function Kg(o,e,r){if(!r)throw new Nt(ft.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function yh(o,e,r,s){if(!0===e&&!0===s)throw new Nt(ft.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function jf(o){if(!Dn.isDocumentKey(o))throw new Nt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Jv(o){if(Dn.isDocumentKey(o))throw new Nt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function qg(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(s=o).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof o?"a function":pe()}function Jr(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Nt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qg(o);throw new Nt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}function e_(o,e){if(e<=0)throw new Nt(ft.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class t_{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yv(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Nt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,r,s,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Yr;switch(s.type){case"firstParty":return new nn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Nt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Zv.get(r);s&&(S("ComponentProvider","Removing Datastore"),Zv.delete(r),s.terminate())}(this),Promise.resolve()}}function n_(o,e,r,s={}){var c;const d=(o=Jr(o,Hf))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&k("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let w,M;if("string"==typeof s.mockUserToken)w=s.mockUserToken,M=Vi.MOCK_USER;else{w=(0,he.Fy)(s.mockUserToken,null===(c=o._app)||void 0===c?void 0:c.options.projectId);const $=s.mockUserToken.sub||s.mockUserToken.user_id;if(!$)throw new Nt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Vi($)}o._authCredentials=new xi(new Kr(w,M))}}class ls{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class eo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eo(this.firestore,e,this._key)}}class al extends ls{constructor(e,r,s){super(e,r,ks(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eo(this.firestore,null,new Dn(e))}withConverter(e){return new al(this.firestore,e,this._path)}}function u0(o,e,...r){if(o=(0,he.Ku)(o),Kg("collection","path",e),o instanceof Hf){const s=Vr.fromString(e,...r);return Jv(s),new al(o,null,s)}{if(!(o instanceof eo||o instanceof al))throw new Nt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Vr.fromString(e,...r));return Jv(s),new al(o.firestore,null,s)}}function Xg(o,e){if(o=Jr(o,Hf),Kg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(ft.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(o,null,(s=e,new ca(Vr.emptyPath(),s)));var s}function od(o,e,...r){if(o=(0,he.Ku)(o),1===arguments.length&&(e=Qi.newId()),Kg("doc","path",e),o instanceof Hf){const s=Vr.fromString(e,...r);return jf(s),new eo(o,null,new Dn(s))}{if(!(o instanceof eo||o instanceof al))throw new Nt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Vr.fromString(e,...r));return jf(s),new eo(o.firestore,o instanceof al?o.converter:null,new Dn(s))}}function Qg(o,e){return o=(0,he.Ku)(o),e=(0,he.Ku)(e),(o instanceof eo||o instanceof al)&&(e instanceof eo||e instanceof al)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function sd(o,e){return o=(0,he.Ku)(o),e=(0,he.Ku)(e),o instanceof ls&&e instanceof ls&&o.firestore===e.firestore&&nu(o._query,e._query)&&o.converter===e.converter}class r_{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new mv(this,"async_queue_retry"),this.cu=()=>{const r=Wc();r&&S("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=Wc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const r=Wc();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const r=new Kn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,l.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(r){if(!Bi(r))throw r;S("AsyncQueue","Operation failed with retryable error: "+r)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const r=this.nu.then(()=>(this._u=!0,e().catch(s=>{throw this.ou=s,this._u=!1,ve("INTERNAL UNHANDLED ERROR: ",function(p){let w=p.message||"";return p.stack&&(w=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),w}(s)),s}).then(s=>(this._u=!1,s))));return this.nu=r,r}enqueueAfterDelay(e,r,s){this.lu(),this.uu.indexOf(e)>-1&&(r=0);const c=Ig.createAndSchedule(this,e,r,s,d=>this.Iu(d));return this.su.push(c),c}lu(){this.ou&&pe()}verifyOperationInProgress(){}Tu(){var e=this;return(0,l.A)(function*(){let r;do{r=e.nu,yield r}while(r!==e.nu)})()}Eu(e){for(const r of this.su)if(r.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.su)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const r=this.su.indexOf(e);this.su.splice(r,1)}}function ic(o){return function(r,s){if("object"!=typeof r||null===r)return!1;const c=r;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(o)}class i_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const c0=-1;class vi extends Hf{constructor(e,r,s,c){super(e,r,s,c),this.type="firestore",this._queue=new r_,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||o_(this),this._firestoreClient.terminate()}}function h0(o,e){const r="object"==typeof o?o:(0,b.getApp)(),s="string"==typeof o?o:e||"(default)",c=(0,b._getProvider)(r,"firestore").getImmediate({identifier:s});if(!c._initialized){const d=(0,he.yU)("firestore");d&&n_(c,...d)}return c}function zi(o){return o._firestoreClient||o_(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function o_(o){var e,r,s;const c=o._freezeSettings(),d=(M=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new ka(o._databaseId,M,o._persistenceKey,(ee=c).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,Yv(ee.experimentalLongPollingOptions),ee.useFetchStreams));var M,ee;o._firestoreClient=new gh(o._authCredentials,o._appCheckCredentials,o._queue,d),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function zf(o,e){Ih(o=Jr(o,vi));const r=zi(o);if(r._uninitializedComponentsProvider)throw new Nt(ft.FAILED_PRECONDITION,"SDK cache is already specified.");k("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),c=new nd;return s_(r,c,new Ka(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function f0(o){Ih(o=Jr(o,vi));const e=zi(o);if(e._uninitializedComponentsProvider)throw new Nt(ft.FAILED_PRECONDITION,"SDK cache is already specified.");k("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=o._freezeSettings(),s=new nd;return s_(e,s,new zv(s,r.cacheSizeBytes))}function s_(o,e,r){const s=new Kn;return o.asyncQueue.enqueue((0,l.A)(function*(){try{yield id(o,r),yield Lf(o,e),s.resolve()}catch(c){const d=c;if(!Gv(d))throw d;k("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function p0(o){if(o._initialized&&!o._terminated)throw new Nt(ft.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kn;return o._queue.enqueueAndForgetEvenWhileRestricted((0,l.A)(function*(){try{yield(r=(0,l.A)(function*(c){if(!lo.D())return Promise.resolve();const d=c+"main";yield lo.delete(d)}),function s(c){return r.apply(this,arguments)})(Jp(o._databaseId,o._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function g0(o){return function(r){const s=new Kn;return r.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function Fv(o,e){return Mg.apply(this,arguments)}(yield Bf(r),s)})),s.promise}(zi(o=Jr(o,vi)))}function m0(o){return function mE(o){return o.asyncQueue.enqueue((0,l.A)(function*(){const e=yield Kv(o),r=yield jg(o);return e.setNetworkEnabled(!0),function(c){const d=Ht(c);return d.v_.delete(0),Kc(d)}(r)}))}(zi(o=Jr(o,vi)))}function Yg(o){return function s0(o){return o.asyncQueue.enqueue((0,l.A)(function*(){const e=yield Kv(o),r=yield jg(o);return e.setNetworkEnabled(!1),(s=(0,l.A)(function*(d){const p=Ht(d);p.v_.add(0),yield qc(p),p.x_.set("Offline")}),function c(d){return s.apply(this,arguments)})(r);var s}))}(zi(o=Jr(o,vi)))}function v0(o,e){const r=zi(o=Jr(o,vi)),s=new i_;return function Gg(o,e,r,s){const c=function(p,w){let M;return M="string"==typeof p?Fs().encode(p):p,ee=function(ee,Te){if(ee instanceof Uint8Array)return Ff(ee,void 0);if(ee instanceof ArrayBuffer)return Ff(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new ph(ee,w);var ee}(r,_f(e));o.asyncQueue.enqueueAndForget((0,l.A)(function*(){!function Hv(o,e,r){const s=Ht(o);var c;(c=(0,l.A)(function*(p,w,M){try{const $=yield w.getMetadata();if(yield function(vn,xn){const In=Ht(vn),ir=so(xn.createTime);return In.persistence.runTransaction("hasNewerBundle","readonly",xr=>In.$r.getBundleMetadata(xr,xn.id)).then(xr=>!!xr&&xr.createTime.compareTo(ir)>=0)}(p.localStore,$))return yield w.close(),M._completeWith({taskState:"Success",documentsLoaded:(vn=$).totalDocuments,bytesLoaded:vn.totalBytes,totalDocuments:vn.totalDocuments,totalBytes:vn.totalBytes}),Promise.resolve(new Set);M._updateProgress(wv($));const ee=new Qy($,p.localStore,w.serializer);let Te=yield w.Ba();for(;Te;){const bt=yield ee.sa(Te);bt&&M._updateProgress(bt),Te=yield w.Ba()}const Je=yield ee.complete();return yield Ll(p,Je.aa,void 0),yield function(vn,xn){const In=Ht(vn);return In.persistence.runTransaction("Save bundle","readwrite",ir=>In.$r.saveBundleMetadata(ir,xn))}(p.localStore,$),M._completeWith(Je.progress),Promise.resolve(Je._a)}catch($){return k("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var vn}),function d(p,w,M){return c.apply(this,arguments)})(s,e,r).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Bf(o),c,s)}))}(r,o._databaseId,e,s),s}function Gf(o,e){return function Qv(o,e){return o.asyncQueue.enqueue((0,l.A)(function*(){return function(s,c){const d=Ht(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.$r.getNamedQuery(p,c))}(yield rc(o),e)}))}(zi(o=Jr(o,vi)),e).then(r=>r?new ls(o,null,r.query):null)}function Ih(o){if(o._initialized||o._terminated)throw new Nt(ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Hi.fromBase64String(e))}catch(r){throw new Nt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new pu(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ll{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Nt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class qf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Nt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Nt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cr(this._lat,e._lat)||cr(this._long,e._long)}}const y0=/^__.*__$/;class a_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Sl(e,this.data,this.fieldMask,r,this.fieldTransforms):new bl(e,this.data,r,this.fieldTransforms)}}class l_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Sl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function u_(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Bl{constructor(e,r,s,c,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Ru(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Bl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.mu({path:s,gu:!1});return c.pu(e),c}yu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.mu({path:s,gu:!1});return c.Ru(),c}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Ui(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(u_(this.Vu)&&y0.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Zg{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||_f(e)}Cu(e,r,s,c=!1){return new Bl({Vu:e,methodName:r,Du:s,path:rr.emptyPath(),gu:!1,bu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oc(o){const e=o._freezeSettings(),r=_f(o._databaseId);return new Zg(o._databaseId,!!e.ignoreUndefinedProperties,r)}function Eh(o,e,r,s,c,d={}){const p=o.Cu(d.merge||d.mergeFields?2:0,e,r,c);ga("Data must be an object, but it was:",p,s);const w=I0(s,p);let M,$;if(d.merge)M=new ji(p.fieldMask),$=p.fieldTransforms;else if(d.mergeFields){const ee=[];for(const Te of d.mergeFields){const Je=ld(e,Te,r);if(!p.contains(Je))throw new Nt(ft.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);h_(ee,Je)||ee.push(Je)}M=new ji(ee),$=p.fieldTransforms.filter(Te=>M.covers(Te.field))}else M=null,$=p.fieldTransforms;return new a_(new gi(w),M,$)}class Ch extends gu{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function Jg(o,e,r){return new Bl({Vu:3,Du:e.settings.Du,methodName:o._methodName,gu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class c_ extends gu{_toFieldTransform(e){return new ou(e.path,new oo)}isEqual(e){return e instanceof c_}}class em extends gu{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=Jg(this,e,!0),s=this.vu.map(d=>jl(d,r)),c=new Ho(s);return new ou(e.path,c)}isEqual(e){return e instanceof em&&(0,he.bD)(this.vu,e.vu)}}class ad extends gu{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=Jg(this,e,!0),s=this.vu.map(d=>jl(d,r)),c=new Ba(s);return new ou(e.path,c)}isEqual(e){return e instanceof ad&&(0,he.bD)(this.vu,e.vu)}}class Xf extends gu{constructor(e,r){super(e),this.Fu=r}_toFieldTransform(e){const r=new wl(e.serializer,xt(e.serializer,this.Fu));return new ou(e.path,r)}isEqual(e){return e instanceof Xf&&this.Fu===e.Fu}}function tm(o,e,r,s){const c=o.Cu(1,e,r);ga("Data must be an object, but it was:",c,s);const d=[],p=gi.empty();el(s,(M,$)=>{const ee=im(e,M,r);$=(0,he.Ku)($);const Te=c.yu(ee);if($ instanceof Ch)d.push(ee);else{const Je=jl($,Te);null!=Je&&(d.push(ee),p.set(ee,Je))}});const w=new ji(d);return new l_(p,w,c.fieldTransforms)}function nm(o,e,r,s,c,d){const p=o.Cu(1,e,r),w=[ld(e,s,r)],M=[c];if(d.length%2!=0)throw new Nt(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<d.length;Je+=2)w.push(ld(e,d[Je])),M.push(d[Je+1]);const $=[],ee=gi.empty();for(let Je=w.length-1;Je>=0;--Je)if(!h_($,w[Je])){const bt=w[Je];let vn=M[Je];vn=(0,he.Ku)(vn);const xn=p.yu(bt);if(vn instanceof Ch)$.push(bt);else{const In=jl(vn,xn);null!=In&&($.push(bt),ee.set(bt,In))}}const Te=new ji($);return new l_(ee,Te,p.fieldTransforms)}function d_(o,e,r,s=!1){return jl(r,o.Cu(s?4:3,e))}function jl(o,e){if(rm(o=(0,he.Ku)(o)))return ga("Unsupported field value:",e,o),I0(o,e);if(o instanceof gu)return function(s,c){if(!u_(c.Vu))throw c.Su(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Su(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(s,c){const d=[];let p=0;for(const w of s){let M=jl(w,c.wu(p));null==M&&(M={nullValue:"NULL_VALUE"}),d.push(M),p++}return{arrayValue:{values:d}}}(o,e)}return function(s,c){if(null===(s=(0,he.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return xt(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Xr.fromDate(s);return{timestampValue:Sc(c.serializer,d)}}if(s instanceof Xr){const d=new Xr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sc(c.serializer,d)}}if(s instanceof qf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pu)return{bytesValue:Yh(c.serializer,s._byteString)};if(s instanceof eo){const d=c.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw c.Su(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Vd(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.Su(`Unsupported field value: ${qg(s)}`)}(o,e)}function I0(o,e){const r={};return vd(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(o,(s,c)=>{const d=jl(c,e.fu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function rm(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Xr||o instanceof qf||o instanceof pu||o instanceof eo||o instanceof gu)}function ga(o,e,r){if(!rm(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=qg(r);throw e.Su("an object"===s?o+" a custom object":o+" "+s)}var c}function ld(o,e,r){if((e=(0,he.Ku)(e))instanceof ll)return e._internalPath;if("string"==typeof e)return im(o,e);throw Ui("Field path arguments must be of type string or ",o,!1,void 0,r)}const E0=new RegExp("[~\\*/\\[\\]]");function im(o,e,r){if(e.search(E0)>=0)throw Ui(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new ll(...e.split("."))._internalPath}catch{throw Ui(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function Ui(o,e,r,s,c){const d=s&&!s.isEmpty(),p=void 0!==c;let w=`Function ${e}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let M="";return(d||p)&&(M+=" (found",d&&(M+=` in field ${s}`),p&&(M+=` in document ${c}`),M+=")"),new Nt(ft.INVALID_ARGUMENT,w+o+M)}function h_(o,e){return o.some(r=>r.isEqual(e))}class sc{constructor(e,r,s,c,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new C0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class C0 extends sc{data(){return super.data()}}function Qf(o,e){return"string"==typeof e?im(o,e):e instanceof ll?e._internalPath:e._delegate._internalPath}function Yf(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Nt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zf{}class ud extends Zf{}function f_(o,e,...r){let s=[];e instanceof Zf&&s.push(e),s=s.concat(r),function(d){const p=d.filter(M=>M instanceof ma).length,w=d.filter(M=>M instanceof Dh).length;if(p>1||p>0&&w>0)throw new Nt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)o=c._apply(o);return o}class Dh extends ud{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Dh(e,r,s)}_apply(e){const r=this._parse(e);return Hl(e._query,r),new ls(e.firestore,e.converter,tu(e._query,r))}_parse(e){const r=oc(e.firestore);return function(d,p,w,M,$,ee,Te){let Je;if($.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new Nt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){sm(Te,ee);const bt=[];for(const vn of Te)bt.push(ep(M,d,vn));Je={arrayValue:{values:bt}}}else Je=ep(M,d,Te)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||sm(Te,ee),Je=d_(w,"where",Te,"in"===ee||"not-in"===ee);return Ar.create($,ee,Je)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function D0(o,e,r){const s=e,c=Qf("where",o);return Dh._create(c,s,r)}class ma extends Zf{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ma(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:zr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,d){let p=c;const w=d.getFlattenedFilters();for(const M of w)Hl(p,M),p=tu(p,M)}(e._query,r),new ls(e.firestore,e.converter,tu(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class om extends ud{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new om(e,r)}_apply(e){const r=function(c,d,p){if(null!==c.startAt)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ji(d,p)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(c,d){const p=c.explicitOrderBy.concat([d]);return new ca(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}function g_(o,e="asc"){const r=e,s=Qf("orderBy",o);return om._create(s,r)}class Ah extends ud{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Ah(e,r,s)}_apply(e){return new ls(e.firestore,e.converter,Cl(e._query,this._limit,this._limitType))}}function m_(o){return e_("limit",o),Ah._create("limit",o,"F")}function Th(o){return e_("limitToLast",o),Ah._create("limitToLast",o,"L")}class cd extends ud{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new cd(e,r,s)}_apply(e){const r=v_(e,this.type,this._docOrFields,this._inclusive);return new ls(e.firestore,e.converter,(d=r,new ca((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)));var c,d}}function mu(...o){return cd._create("startAt",o,!0)}function Jf(...o){return cd._create("startAfter",o,!1)}class wh extends ud{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new wh(e,r,s)}_apply(e){const r=v_(e,this.type,this._docOrFields,this._inclusive);return new ls(e.firestore,e.converter,(d=r,new ca((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,d)));var c,d}}function bh(...o){return wh._create("endBefore",o,!1)}function T0(...o){return wh._create("endAt",o,!0)}function v_(o,e,r,s){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof sc)return function(d,p,w,M,$){if(!M)throw new Nt(ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ee=[];for(const Te of Qs(d))if(Te.field.isKeyField())ee.push(La(p,M.key));else{const Je=M.data.field(Te.field);if(vl(Je))throw new Nt(ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Je){const bt=Te.field.canonicalString();throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}ee.push(Je)}return new Ua(ee,$)}(o._query,o.firestore._databaseId,e,r[0]._document,s);{const c=oc(o.firestore);return function(p,w,M,$,ee,Te){const Je=p.explicitOrderBy;if(ee.length>Je.length)throw new Nt(ft.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let vn=0;vn<ee.length;vn++){const xn=ee[vn];if(Je[vn].field.isKeyField()){if("string"!=typeof xn)throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof xn}`);if(!Pd(p)&&-1!==xn.indexOf("/"))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${xn}' contains a slash.`);const In=p.path.child(Vr.fromString(xn));if(!Dn.isDocumentKey(In))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${In}' is not because it contains an odd number of segments.`);const ir=new Dn(In);bt.push(La(w,ir))}else{const In=d_(M,$,xn);bt.push(In)}}return new Ua(bt,Te)}(o._query,o.firestore._databaseId,c,e,r,s)}}function ep(o,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new Nt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pd(e)&&-1!==r.indexOf("/"))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Vr.fromString(r));if(!Dn.isDocumentKey(s))throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return La(o,new Dn(s))}if(r instanceof eo)return La(o,r._key);throw new Nt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(r)}.`)}function sm(o,e){if(!Array.isArray(o)||0===o.length)throw new Nt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hl(o,e){const r=function(c,d){for(const p of c)for(const w of p.getFlattenedFilters())if(d.indexOf(w.op)>=0)return w.op;return null}(o.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Nt(ft.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class __{convertValue(e,r="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw pe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return el(e,(c,d)=>{s[c]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new qf(Ai(e.latitude),Ai(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=tl(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const r=_o(e);return new Xr(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Vr.fromString(e);lt($u(s));const c=new qs(s.get(1),s.get(3)),d=new Dn(s.popFirst(5));return c.isEqual(r)||ve(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function ac(o,e,r){let s;return s=o?r&&(r.merge||r.mergeFields)?o.toFirestore(e,r):o.toFirestore(e):e,s}class y_ extends __{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,r)}}class lc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends sc{constructor(e,r,s,c,d,p){super(e,r,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Qf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Sh extends uc{data(e={}){return super.data(e)}}class cc{constructor(e,r,s,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new lc(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Sh(this._firestore,this._userDataWriter,s.key,s,new lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Nt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let p=0;return c._snapshot.docChanges.map(w=>({type:"added",doc:new Sh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new lc(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:p++}))}{let p=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const M=new Sh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new lc(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let $=-1,ee=-1;return 0!==w.type&&($=p.indexOf(w.doc.key),p=p.delete(w.doc.key)),1!==w.type&&(p=p.add(w.doc),ee=p.indexOf(w.doc.key)),{type:S0(w.type),doc:M,oldIndex:$,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function S0(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}function R0(o,e){return o instanceof uc&&e instanceof uc?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof cc&&e instanceof cc&&o._firestore===e._firestore&&sd(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function M0(o){o=Jr(o,eo);const e=Jr(o.firestore,vi);return Wg(zi(e),o._key).then(r=>um(e,o,r))}class qa extends __{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new eo(this.firestore,null,r)}}function P0(o){o=Jr(o,eo);const e=Jr(o.firestore,vi),r=zi(e),s=new qa(e);return function a0(o,e){const r=new Kn;return o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(d,p,w){try{const M=yield function(ee,Te){const Je=Ht(ee);return Je.persistence.runTransaction("read document","readonly",bt=>Je.localDocuments.getDocument(bt,Te))}(d,p);M.isFoundDocument()?w.resolve(M):M.isNoDocument()?w.resolve(null):w.reject(new Nt(ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=oh(M,`Failed to get document '${p} from cache`);w.reject($)}}),function c(d,p,w){return s.apply(this,arguments)})(yield rc(o),e,r);var s})),r.promise}(r,o._key).then(c=>new uc(e,s,o._key,c,new lc(null!==c&&c.hasLocalMutations,!0),o.converter))}function x0(o){o=Jr(o,eo);const e=Jr(o.firestore,vi);return Wg(zi(e),o._key,{source:"server"}).then(r=>um(e,o,r))}function I_(o){o=Jr(o,ls);const e=Jr(o.firestore,vi),r=zi(e),s=new qa(e);return Yf(o._query),qv(r,o._query).then(c=>new cc(e,s,o,c))}function E_(o){o=Jr(o,ls);const e=Jr(o.firestore,vi),r=zi(e),s=new qa(e);return function l0(o,e){const r=new Kn;return o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return(s=(0,l.A)(function*(d,p,w){try{const M=yield pf(d,p,!0),$=new Ag(p,M.hs),ee=$.Ta(M.documents),Te=$.applyChanges(ee,!1);w.resolve(Te.snapshot)}catch(M){const $=oh(M,`Failed to execute query '${p} against cache`);w.reject($)}}),function c(d,p,w){return s.apply(this,arguments)})(yield rc(o),e,r);var s})),r.promise}(r,o._query).then(c=>new cc(e,s,o,c))}function am(o){o=Jr(o,ls);const e=Jr(o.firestore,vi),r=zi(e),s=new qa(e);return qv(r,o._query,{source:"server"}).then(c=>new cc(e,s,o,c))}function C_(o,e,r){o=Jr(o,eo);const s=Jr(o.firestore,vi),c=ac(o.converter,e,r);return hd(s,[Eh(oc(s),"setDoc",o._key,c,null!==o.converter,r).toMutation(o._key,si.none())])}function N0(o,e,r,...s){o=Jr(o,eo);const c=Jr(o.firestore,vi),d=oc(c);let p;return p="string"==typeof(e=(0,he.Ku)(e))||e instanceof ll?nm(d,"updateDoc",o._key,e,r,s):tm(d,"updateDoc",o._key,e),hd(c,[p.toMutation(o._key,si.exists(!0))])}function D_(o){return hd(Jr(o.firestore,vi),[new Vu(o._key,si.none())])}function lm(o,e){const r=Jr(o.firestore,vi),s=od(o),c=ac(o.converter,e);return hd(r,[Eh(oc(o.firestore),"addDoc",s._key,c,null!==o.converter,{}).toMutation(s._key,si.exists(!1))]).then(()=>s)}function A_(o,...e){var r,s,c;o=(0,he.Ku)(o);let d={includeMetadataChanges:!1,source:"default"},p=0;"object"!=typeof e[p]||ic(e[p])||(d=e[p],p++);const w={includeMetadataChanges:d.includeMetadataChanges,source:d.source};if(ic(e[p])){const Te=e[p];e[p]=null===(r=Te.next)||void 0===r?void 0:r.bind(Te),e[p+1]=null===(s=Te.error)||void 0===s?void 0:s.bind(Te),e[p+2]=null===(c=Te.complete)||void 0===c?void 0:c.bind(Te)}let M,$,ee;if(o instanceof eo)$=Jr(o.firestore,vi),ee=ks(o._key.path),M={next:Te=>{e[p]&&e[p](um($,o,Te))},error:e[p+1],complete:e[p+2]};else{const Te=Jr(o,ls);$=Jr(Te.firestore,vi),ee=Te._query;const Je=new qa($);M={next:bt=>{e[p]&&e[p](new cc($,Je,Te,bt))},error:e[p+1],complete:e[p+2]},Yf(o._query)}return function(Je,bt,vn,xn){const In=new Vf(xn),ir=new Zc(bt,In,vn);return Je.asyncQueue.enqueueAndForget((0,l.A)(function*(){return sh(yield $l(Je),ir)})),()=>{In.Qa(),Je.asyncQueue.enqueueAndForget((0,l.A)(function*(){return Yc(yield $l(Je),ir)}))}}(zi($),ee,w,M)}function T_(o,e){return function Xv(o,e){const r=new Vf(e);return o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return c=yield $l(o),d=r,Ht(c).W_.add(d),void d.next();var c,d})),()=>{r.Qa(),o.asyncQueue.enqueueAndForget((0,l.A)(function*(){return c=yield $l(o),d=r,void Ht(c).W_.delete(d);var c,d}))}}(zi(o=Jr(o,vi)),ic(e)?e:{next:e})}function hd(o,e){return function(s,c){const d=new Kn;return s.asyncQueue.enqueueAndForget((0,l.A)(function*(){return function xv(o,e,r){return dh.apply(this,arguments)}(yield Bf(s),c,d)})),d.promise}(zi(o),e)}function um(o,e,r){const s=r.docs.get(e._key),c=new qa(o);return new uc(o,c,e._key,s,new lc(r.hasPendingWrites,r.fromCache),e.converter)}const S_={maxAttempts:5};class mm{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=oc(e)}set(e,r,s){this._verifyNotCommitted();const c=vu(e,this._firestore),d=ac(c.converter,r,s),p=Eh(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,s);return this._mutations.push(p.toMutation(c._key,si.none())),this}update(e,r,s,...c){this._verifyNotCommitted();const d=vu(e,this._firestore);let p;return p="string"==typeof(r=(0,he.Ku)(r))||r instanceof ll?nm(this._dataReader,"WriteBatch.update",d._key,r,s,c):tm(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=vu(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(r._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vu(o,e){if((o=(0,he.Ku)(o)).firestore!==e)throw new Nt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class R_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=oc(r)}get(r){const s=vu(r,this._firestore),c=new y_(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return pe();const p=d[0];if(p.isFoundDocument())return new sc(this._firestore,c,p.key,p,s.converter);if(p.isNoDocument())return new sc(this._firestore,c,s._key,null,s.converter);throw pe()})}set(r,s,c){const d=vu(r,this._firestore),p=ac(d.converter,s,c),w=Eh(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,c);return this._transaction.set(d._key,w),this}update(r,s,c,...d){const p=vu(r,this._firestore);let w;return w="string"==typeof(s=(0,he.Ku)(s))||s instanceof ll?nm(this._dataReader,"Transaction.update",p._key,s,c,d):tm(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,w),this}delete(r){const s=vu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=vu(e,this._firestore),s=new qa(this._firestore);return super.get(e).then(c=>new uc(this._firestore,s,r._key,c._document,new lc(!1,!1),r.converter))}}function k0(o,e,r){o=Jr(o,vi);const s=Object.assign(Object.assign({},S_),r);return function(d){if(d.maxAttempts<1)throw new Nt(ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,w){const M=new Kn;return d.asyncQueue.enqueueAndForget((0,l.A)(function*(){const $=yield function Hg(o){return $f(o).then(e=>e.datastore)}(d);new rd(d.asyncQueue,$,w,p,M).Ya()})),M.promise}(zi(o),c=>e(new R_(o,c)),s)}function vm(){return new Ch("deleteField")}function M_(){return new c_("serverTimestamp")}function P_(...o){return new em("arrayUnion",o)}function TE(...o){return new ad("arrayRemove",o)}function wE(o){return new Xf("increment",o)}!function(e,r=!0){mo=b.SDK_VERSION,(0,b._registerComponent)(new j.uA("firestore",(s,{instanceIdentifier:c,options:d})=>{const p=s.getProvider("app").getImmediate(),w=new vi(new rs(s.getProvider("auth-internal")),new Hr(s.getProvider("app-check-internal")),function($,ee){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Nt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs($.options.projectId,ee)}(p,c),p);return d=Object.assign({useFetchStreams:r},d),w._setSettings(d),w},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(fl,"4.5.0",e),(0,b.registerVersion)(fl,"4.5.0","esm2017")}()},1076:(un,it,F)=>{"use strict";F.d(it,{Am:()=>qn,Bd:()=>Me,FA:()=>xe,Fy:()=>Ye,I9:()=>Yn,Im:()=>Dt,Ku:()=>qe,Ll:()=>be,T9:()=>Fe,Uj:()=>We,XA:()=>je,ZQ:()=>fe,bD:()=>hn,cY:()=>He,eX:()=>_e,g:()=>st,gR:()=>St,hp:()=>nr,jZ:()=>U,lT:()=>$t,lV:()=>Ze,nr:()=>ut,sr:()=>ze,tD:()=>wn,u:()=>le,yU:()=>at,zW:()=>we,zw:()=>Ve});const oe=function(ie){const ue=[];let K=0;for(let Q=0;Q<ie.length;Q++){let q=ie.charCodeAt(Q);q<128?ue[K++]=q:q<2048?(ue[K++]=q>>6|192,ue[K++]=63&q|128):55296==(64512&q)&&Q+1<ie.length&&56320==(64512&ie.charCodeAt(Q+1))?(q=65536+((1023&q)<<10)+(1023&ie.charCodeAt(++Q)),ue[K++]=q>>18|240,ue[K++]=q>>12&63|128,ue[K++]=q>>6&63|128,ue[K++]=63&q|128):(ue[K++]=q>>12|224,ue[K++]=q>>6&63|128,ue[K++]=63&q|128)}return ue},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,ue){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let q=0;q<ie.length;q+=3){const Ke=ie[q],wt=q+1<ie.length,cn=wt?ie[q+1]:0,Mn=q+2<ie.length,Hn=Mn?ie[q+2]:0;let dn=(15&cn)<<2|Hn>>6,sr=63&Hn;Mn||(sr=64,wt||(dn=64)),Q.push(K[Ke>>2],K[(3&Ke)<<4|cn>>4],K[dn],K[sr])}return Q.join("")},encodeString(ie,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ie):this.encodeByteArray(oe(ie),ue)},decodeString(ie,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ie):function(ie){const ue=[];let K=0,Q=0;for(;K<ie.length;){const q=ie[K++];if(q<128)ue[Q++]=String.fromCharCode(q);else if(q>191&&q<224){const Ke=ie[K++];ue[Q++]=String.fromCharCode((31&q)<<6|63&Ke)}else if(q>239&&q<365){const Mn=((7&q)<<18|(63&ie[K++])<<12|(63&ie[K++])<<6|63&ie[K++])-65536;ue[Q++]=String.fromCharCode(55296+(Mn>>10)),ue[Q++]=String.fromCharCode(56320+(1023&Mn))}else{const Ke=ie[K++],wt=ie[K++];ue[Q++]=String.fromCharCode((15&q)<<12|(63&Ke)<<6|63&wt)}}return ue.join("")}(this.decodeStringToByteArray(ie,ue))},decodeStringToByteArray(ie,ue){this.init_();const K=ue?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let q=0;q<ie.length;){const Ke=K[ie.charAt(q++)],cn=q<ie.length?K[ie.charAt(q)]:0;++q;const Hn=q<ie.length?K[ie.charAt(q)]:64;++q;const Pn=q<ie.length?K[ie.charAt(q)]:64;if(++q,null==Ke||null==cn||null==Hn||null==Pn)throw new re;Q.push(Ke<<2|cn>>4),64!==Hn&&(Q.push(cn<<4&240|Hn>>2),64!==Pn&&Q.push(Hn<<6&192|Pn))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(ie){return function(ie){const ue=oe(ie);return ye.encodeByteArray(ue,!0)}(ie).replace(/\./g,"")},le=function(ie){try{return ye.decodeString(ie,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function Ve(ie,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return ue}for(const K in ue)!ue.hasOwnProperty(K)||!Ue(K)||(ie[K]=Ve(ie[K],ue[K]));return ie}function Ue(ie){return"__proto__"!==ie}const Re=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=ie&&le(ie[1]);return ue&&JSON.parse(ue)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},at=ie=>{const ue=(ie=>{var ue,K;return null===(K=null===(ue=Re())||void 0===ue?void 0:ue.emulatorHosts)||void 0===K?void 0:K[ie]})(ie);if(!ue)return;const K=ue.lastIndexOf(":");if(K<=0||K+1===ue.length)throw new Error(`Invalid host ${ue} with no separate hostname and port!`);const Q=parseInt(ue.substring(K+1),10);return"["===ue[0]?[ue.substring(1,K-1),Q]:[ue.substring(0,K),Q]},Fe=()=>{var ie;return null===(ie=Re())||void 0===ie?void 0:ie.config},je=ie=>{var ue;return null===(ue=Re())||void 0===ue?void 0:ue[`_${ie}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,K)=>{this.resolve=ue,this.reject=K})}wrapCallback(ue){return(K,Q)=>{K?this.reject(K):this.resolve(Q),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(K):ue(K,Q))}}}function Ye(ie,ue){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=ue||"demo-project",q=ie.iat||0,Ke=ie.sub||ie.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:q,exp:q+3600,auth_time:q,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(wt)),""].join(".")}function fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function be(){var ie;const ue=null===(ie=Re())||void 0===ie?void 0:ie.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function ze(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $t(){const ie=fe();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function ut(){return!be()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((ie,ue)=>{try{let K=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Q);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(Q),ie(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var Ke;ue((null===(Ke=q.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(K){ue(K)}})}class st extends Error{constructor(ue,K,Q){super(K),this.code=ue,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}}class xe{constructor(ue,K,Q){this.service=ue,this.serviceName=K,this.errors=Q}create(ue,...K){const Q=K[0]||{},q=`${this.service}/${ue}`,Ke=this.errors[ue],wt=Ke?function zt(ie,ue){return ie.replace(rn,(K,Q)=>{const q=ue[Q];return null!=q?String(q):`<${Q}?>`})}(Ke,Q):"Error";return new st(q,`${this.serviceName}: ${wt} (${q}).`,Q)}}const rn=/\{\$([^}]+)}/g;function St(ie,ue){return Object.prototype.hasOwnProperty.call(ie,ue)}function Dt(ie){for(const ue in ie)if(Object.prototype.hasOwnProperty.call(ie,ue))return!1;return!0}function hn(ie,ue){if(ie===ue)return!0;const K=Object.keys(ie),Q=Object.keys(ue);for(const q of K){if(!Q.includes(q))return!1;const Ke=ie[q],wt=ue[q];if(Tn(Ke)&&Tn(wt)){if(!hn(Ke,wt))return!1}else if(Ke!==wt)return!1}for(const q of Q)if(!K.includes(q))return!1;return!0}function Tn(ie){return null!==ie&&"object"==typeof ie}function qn(ie){const ue=[];for(const[K,Q]of Object.entries(ie))Array.isArray(Q)?Q.forEach(q=>{ue.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):ue.push(encodeURIComponent(K)+"="+encodeURIComponent(Q));return ue.length?"&"+ue.join("&"):""}function Yn(ie){const ue={};return ie.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[q,Ke]=Q.split("=");ue[decodeURIComponent(q)]=decodeURIComponent(Ke)}}),ue}function nr(ie){const ue=ie.indexOf("?");if(!ue)return"";const K=ie.indexOf("#",ue);return ie.substring(ue,K>0?K:void 0)}function wn(ie,ue){const K=new Tr(ie,ue);return K.subscribe.bind(K)}class Tr{constructor(ue,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{ue(this)}).catch(Q=>{this.error(Q)})}next(ue){this.forEachObserver(K=>{K.next(ue)})}error(ue){this.forEachObserver(K=>{K.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,K,Q){let q;if(void 0===ue&&void 0===K&&void 0===Q)throw new Error("Missing Observer.");q=function dr(ie,ue){if("object"!=typeof ie||null===ie)return!1;for(const K of ue)if(K in ie&&"function"==typeof ie[K])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:K,complete:Q},void 0===q.next&&(q.next=Ln),void 0===q.error&&(q.error=Ln),void 0===q.complete&&(q.complete=Ln);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ke}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,ue)}sendOne(ue,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{K(this.observers[ue])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function qe(ie){return ie&&ie._delegate?ie._delegate:ie}},1656:(un,it,F)=>{"use strict";F.d(it,{c:()=>j,r:()=>de});const j=(fe,U)=>{fe.componentOnReady?fe.componentOnReady().then(be=>U(be)):de(()=>U(fe))},de=fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe)},6031:(un,it,F)=>{"use strict";F.d(it,{L:()=>l,a:()=>b,b:()=>j,c:()=>oe,d:()=>he,g:()=>fe});const l="ionViewWillEnter",b="ionViewDidEnter",j="ionViewWillLeave",oe="ionViewDidLeave",he="ionViewWillUnload",fe=U=>U.classList.contains("ion-page")?U:U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||U},3503:(un,it,F)=>{"use strict";F.d(it,{c:()=>ct});var l=F(8476),b=F(5638);let j;const he=Le=>Le.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=Le=>(void 0===j&&(j=void 0===Le.style.animationName&&void 0!==Le.style.webkitAnimationName?"-webkit-":""),j),re=(Le,Re,$e)=>{const at=Re.startsWith("animation")?ye(Le):"";Le.style.setProperty(at+Re,$e)},Ee=(Le,Re)=>{const $e=Re.startsWith("animation")?ye(Le):"";Le.style.removeProperty($e+Re)},de=[],ke=(Le=[],Re)=>{if(void 0!==Re){const $e=Array.isArray(Re)?Re:[Re];return[...Le,...$e]}return Le},ct=Le=>{let Re,$e,at,Fe,je,He,Me,we,_e,Pe,Ae,rn,Kt,Ye=[],fe=[],U=[],be=!1,ze={},Ze=[],dt=[],$t={},fn=0,Xt=!1,ut=!1,st=!0,xe=!1,zt=!0,Ft=!1;const An=Le,Qn=[],$n=[],Tt=[],kn=[],St=[],Et=[],Dt=[],It=[],hn=[],Tn=[],Fn=[],qn="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Yn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&qn,mn=()=>Fn,Ln=(_t,B)=>{const Y=B.findIndex(Be=>Be.c===_t);Y>-1&&B.splice(Y,1)},mr=(_t,B)=>((null!=B&&B.oneTimeCallback?$n:Qn).push({c:_t,o:B}),Kt),gr=()=>{if(Yn)Fn.forEach(_t=>{_t.cancel()}),Fn.length=0;else{const _t=kn.slice();(0,b.r)(()=>{_t.forEach(B=>{Ee(B,"animation-name"),Ee(B,"animation-duration"),Ee(B,"animation-timing-function"),Ee(B,"animation-iteration-count"),Ee(B,"animation-delay"),Ee(B,"animation-play-state"),Ee(B,"animation-fill-mode"),Ee(B,"animation-direction")})})}},Cn=()=>{Et.forEach(_t=>{null!=_t&&_t.parentNode&&_t.parentNode.removeChild(_t)}),Et.length=0},ue=()=>void 0!==je?je:Me?Me.getFill():"both",K=()=>void 0!==_e?_e:void 0!==He?He:Me?Me.getDirection():"normal",Q=()=>Xt?"linear":void 0!==at?at:Me?Me.getEasing():"linear",q=()=>ut?0:void 0!==Pe?Pe:void 0!==$e?$e:Me?Me.getDuration():0,Ke=()=>void 0!==Fe?Fe:Me?Me.getIterations():1,wt=()=>void 0!==Ae?Ae:void 0!==Re?Re:Me?Me.getDelay():0,G=()=>{0!==fn&&(fn--,0===fn&&((()=>{Ce(),hn.forEach(Ne=>Ne()),Tn.forEach(Ne=>Ne());const _t=st?1:0,B=Ze,Y=dt,Be=$t;kn.forEach(Ne=>{const nt=Ne.classList;B.forEach(Pt=>nt.add(Pt)),Y.forEach(Pt=>nt.remove(Pt));for(const Pt in Be)Be.hasOwnProperty(Pt)&&re(Ne,Pt,Be[Pt])}),Pe=void 0,_e=void 0,Ae=void 0,Qn.forEach(Ne=>Ne.c(_t,Kt)),$n.forEach(Ne=>Ne.c(_t,Kt)),$n.length=0,zt=!0,st&&(xe=!0),st=!0})(),Me&&Me.animationFinish()))},De=(_t=!0)=>{Cn();const B=(Le=>(Le.forEach(Re=>{for(const $e in Re)if(Re.hasOwnProperty($e)){const at=Re[$e];if("easing"===$e)Re["animation-timing-function"]=at,delete Re[$e];else{const Fe=he($e);Fe!==$e&&(Re[Fe]=at,delete Re[$e])}}}),Le))(Ye);kn.forEach(Y=>{if(B.length>0){const Be=((Le=[])=>Le.map(Re=>{const $e=Re.offset,at=[];for(const Fe in Re)Re.hasOwnProperty(Fe)&&"offset"!==Fe&&at.push(`${Fe}: ${Re[Fe]};`);return`${100*$e}% { ${at.join(" ")} }`}).join(" "))(B);rn=void 0!==Le?Le:(Le=>{let Re=de.indexOf(Le);return Re<0&&(Re=de.push(Le)-1),`ion-animation-${Re}`})(Be);const Ne=((Le,Re,$e)=>{var at;const Fe=(Le=>{const Re=void 0!==Le.getRootNode?Le.getRootNode():Le;return Re.head||Re})($e),je=ye($e),He=Fe.querySelector("#"+Le);if(He)return He;const Ye=(null!==(at=$e.ownerDocument)&&void 0!==at?at:document).createElement("style");return Ye.id=Le,Ye.textContent=`@${je}keyframes ${Le} { ${Re} } @${je}keyframes ${Le}-alt { ${Re} }`,Fe.appendChild(Ye),Ye})(rn,Be,Y);Et.push(Ne),re(Y,"animation-duration",`${q()}ms`),re(Y,"animation-timing-function",Q()),re(Y,"animation-delay",`${wt()}ms`),re(Y,"animation-fill-mode",ue()),re(Y,"animation-direction",K());const nt=Ke()===1/0?"infinite":Ke().toString();re(Y,"animation-iteration-count",nt),re(Y,"animation-play-state","paused"),_t&&re(Y,"animation-name",`${Ne.id}-alt`),(0,b.r)(()=>{re(Y,"animation-name",Ne.id||null)})}})},Ot=(_t=!0)=>{(()=>{Dt.forEach(Be=>Be()),It.forEach(Be=>Be());const _t=fe,B=U,Y=ze;kn.forEach(Be=>{const Ne=Be.classList;_t.forEach(nt=>Ne.add(nt)),B.forEach(nt=>Ne.remove(nt));for(const nt in Y)Y.hasOwnProperty(nt)&&re(Be,nt,Y[nt])})})(),Ye.length>0&&(Yn?(kn.forEach(_t=>{const B=_t.animate(Ye,{id:An,delay:wt(),duration:q(),easing:Q(),iterations:Ke(),fill:ue(),direction:K()});B.pause(),Fn.push(B)}),Fn.length>0&&(Fn[0].onfinish=()=>{G()})):De(_t)),be=!0},yn=_t=>{if(_t=Math.min(Math.max(_t,0),.9999),Yn)Fn.forEach(B=>{B.currentTime=B.effect.getComputedTiming().delay+q()*_t,B.pause()});else{const B=`-${q()*_t}ms`;kn.forEach(Y=>{Ye.length>0&&(re(Y,"animation-delay",B),re(Y,"animation-play-state","paused"))})}},Wn=_t=>{Fn.forEach(B=>{B.effect.updateTiming({delay:wt(),duration:q(),easing:Q(),iterations:Ke(),fill:ue(),direction:K()})}),void 0!==_t&&yn(_t)},Xn=(_t=!0,B)=>{(0,b.r)(()=>{kn.forEach(Y=>{re(Y,"animation-name",rn||null),re(Y,"animation-duration",`${q()}ms`),re(Y,"animation-timing-function",Q()),re(Y,"animation-delay",void 0!==B?`-${B*q()}ms`:`${wt()}ms`),re(Y,"animation-fill-mode",ue()||null),re(Y,"animation-direction",K()||null);const Be=Ke()===1/0?"infinite":Ke().toString();re(Y,"animation-iteration-count",Be),_t&&re(Y,"animation-name",`${rn}-alt`),(0,b.r)(()=>{re(Y,"animation-name",rn||null)})})})},En=(_t=!1,B=!0,Y)=>(_t&&St.forEach(Be=>{Be.update(_t,B,Y)}),Yn?Wn(Y):Xn(B,Y),Kt),bn=()=>{be&&(Yn?Fn.forEach(_t=>{_t.pause()}):kn.forEach(_t=>{re(_t,"animation-play-state","paused")}),Ft=!0)},Ie=()=>{we=void 0,G()},Ce=()=>{we&&clearTimeout(we)},Bt=_t=>new Promise(B=>{null!=_t&&_t.sync&&(ut=!0,mr(()=>ut=!1,{oneTimeCallback:!0})),be||Ot(),xe&&(Yn?(yn(0),Wn()):Xn(),xe=!1),zt&&(fn=St.length+1,zt=!1);const Y=()=>{Ln(Be,$n),B()},Be=()=>{Ln(Y,Tt),B()};mr(Be,{oneTimeCallback:!0}),((_t,B)=>{Tt.push({c:_t,o:{oneTimeCallback:!0}})})(Y),St.forEach(Ne=>{Ne.play()}),Yn?(Fn.forEach(_t=>{_t.play()}),(0===Ye.length||0===kn.length)&&G()):(()=>{if(Ce(),(0,b.r)(()=>{kn.forEach(_t=>{Ye.length>0&&re(_t,"animation-play-state","running")})}),0===Ye.length||0===kn.length)G();else{const _t=wt()||0,B=q()||0,Y=Ke()||1;isFinite(Y)&&(we=setTimeout(Ie,_t+B*Y+100)),((Le,Re)=>{let $e;const at={passive:!0},je=He=>{Le===He.target&&($e&&$e(),Ce(),(0,b.r)(()=>{kn.forEach(_t=>{Ee(_t,"animation-duration"),Ee(_t,"animation-delay"),Ee(_t,"animation-play-state")}),(0,b.r)(G)}))};Le&&(Le.addEventListener("webkitAnimationEnd",je,at),Le.addEventListener("animationend",je,at),$e=()=>{Le.removeEventListener("webkitAnimationEnd",je,at),Le.removeEventListener("animationend",je,at)})})(kn[0])}})(),Ft=!1}),_n=(_t,B)=>{const Y=Ye[0];return void 0===Y||void 0!==Y.offset&&0!==Y.offset?Ye=[{offset:0,[_t]:B},...Ye]:Y[_t]=B,Kt};return Kt={parentAnimation:Me,elements:kn,childAnimations:St,id:An,animationFinish:G,from:_n,to:(_t,B)=>{const Y=Ye[Ye.length-1];return void 0===Y||void 0!==Y.offset&&1!==Y.offset?Ye=[...Ye,{offset:1,[_t]:B}]:Y[_t]=B,Kt},fromTo:(_t,B,Y)=>_n(_t,B).to(_t,Y),parent:_t=>(Me=_t,Kt),play:Bt,pause:()=>(St.forEach(_t=>{_t.pause()}),bn(),Kt),stop:()=>{St.forEach(_t=>{_t.stop()}),be&&(gr(),be=!1),Xt=!1,ut=!1,zt=!0,_e=void 0,Pe=void 0,Ae=void 0,fn=0,xe=!1,st=!0,Ft=!1,Tt.forEach(_t=>_t.c(0,Kt)),Tt.length=0},destroy:_t=>(St.forEach(B=>{B.destroy(_t)}),(_t=>{gr(),_t&&Cn()})(_t),kn.length=0,St.length=0,Ye.length=0,Qn.length=0,$n.length=0,be=!1,zt=!0,Kt),keyframes:_t=>{const B=Ye!==_t;return Ye=_t,B&&(_t=>{Yn?mn().forEach(B=>{const Y=B.effect;if(Y.setKeyframes)Y.setKeyframes(_t);else{const Be=new KeyframeEffect(Y.target,_t,Y.getTiming());B.effect=Be}}):De()})(Ye),Kt},addAnimation:_t=>{if(null!=_t)if(Array.isArray(_t))for(const B of _t)B.parent(Kt),St.push(B);else _t.parent(Kt),St.push(_t);return Kt},addElement:_t=>{if(null!=_t)if(1===_t.nodeType)kn.push(_t);else if(_t.length>=0)for(let B=0;B<_t.length;B++)kn.push(_t[B]);else console.error("Invalid addElement value");return Kt},update:En,fill:_t=>(je=_t,En(!0),Kt),direction:_t=>(He=_t,En(!0),Kt),iterations:_t=>(Fe=_t,En(!0),Kt),duration:_t=>(!Yn&&0===_t&&(_t=1),$e=_t,En(!0),Kt),easing:_t=>(at=_t,En(!0),Kt),delay:_t=>(Re=_t,En(!0),Kt),getWebAnimations:mn,getKeyframes:()=>Ye,getFill:ue,getDirection:K,getDelay:wt,getIterations:Ke,getEasing:Q,getDuration:q,afterAddRead:_t=>(hn.push(_t),Kt),afterAddWrite:_t=>(Tn.push(_t),Kt),afterClearStyles:(_t=[])=>{for(const B of _t)$t[B]="";return Kt},afterStyles:(_t={})=>($t=_t,Kt),afterRemoveClass:_t=>(dt=ke(dt,_t),Kt),afterAddClass:_t=>(Ze=ke(Ze,_t),Kt),beforeAddRead:_t=>(Dt.push(_t),Kt),beforeAddWrite:_t=>(It.push(_t),Kt),beforeClearStyles:(_t=[])=>{for(const B of _t)ze[B]="";return Kt},beforeStyles:(_t={})=>(ze=_t,Kt),beforeRemoveClass:_t=>(U=ke(U,_t),Kt),beforeAddClass:_t=>(fe=ke(fe,_t),Kt),onFinish:mr,isRunning:()=>0!==fn&&!Ft,progressStart:(_t=!1,B)=>(St.forEach(Y=>{Y.progressStart(_t,B)}),bn(),Xt=_t,be||Ot(),En(!1,!0,B),Kt),progressStep:_t=>(St.forEach(B=>{B.progressStep(_t)}),yn(_t),Kt),progressEnd:(_t,B,Y)=>(Xt=!1,St.forEach(Be=>{Be.progressEnd(_t,B,Y)}),void 0!==Y&&(Pe=Y),xe=!1,st=!0,0===_t?(_e="reverse"===K()?"normal":"reverse","reverse"===_e&&(st=!1),Yn?(En(),yn(1-B)):(Ae=(1-B)*q()*-1,En(!1,!1))):1===_t&&(Yn?(En(),yn(B)):(Ae=B*q()*-1,En(!1,!1))),void 0!==_t&&!Me&&Bt(),Kt)}}},464:(un,it,F)=>{"use strict";F.d(it,{E:()=>le,a:()=>l,s:()=>Ee});const l=de=>{try{if(de instanceof re)return de.value;if(!oe()||"string"!=typeof de||""===de)return de;if(de.includes("onload="))return"";const Ve=document.createDocumentFragment(),Ue=document.createElement("div");Ve.appendChild(Ue),Ue.innerHTML=de,ye.forEach(Le=>{const Re=Ve.querySelectorAll(Le);for(let $e=Re.length-1;$e>=0;$e--){const at=Re[$e];at.parentNode?at.parentNode.removeChild(at):Ve.removeChild(at);const Fe=j(at);for(let je=0;je<Fe.length;je++)b(Fe[je])}});const Oe=j(Ve);for(let Le=0;Le<Oe.length;Le++)b(Oe[Le]);const ke=document.createElement("div");ke.appendChild(Ve);const ct=ke.querySelector("div");return null!==ct?ct.innerHTML:ke.innerHTML}catch(Ve){return console.error(Ve),""}},b=de=>{if(de.nodeType&&1!==de.nodeType)return;if(typeof NamedNodeMap<"u"&&!(de.attributes instanceof NamedNodeMap))return void de.remove();for(let Ue=de.attributes.length-1;Ue>=0;Ue--){const Oe=de.attributes.item(Ue),ke=Oe.name;if(!he.includes(ke.toLowerCase())){de.removeAttribute(ke);continue}const ct=Oe.value,Le=de[ke];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=Le&&Le.toLowerCase().includes("javascript:"))&&de.removeAttribute(ke)}const Ve=j(de);for(let Ue=0;Ue<Ve.length;Ue++)b(Ve[Ue])},j=de=>null!=de.children?de.children:de.childNodes,oe=()=>{var de;const Ve=window,Ue=null===(de=null==Ve?void 0:Ve.Ionic)||void 0===de?void 0:de.config;return!Ue||(Ue.get?Ue.get("sanitizerEnabled",!0):!0===Ue.sanitizerEnabled||void 0===Ue.sanitizerEnabled)},he=["class","id","href","src","name","slot"],ye=["script","style","iframe","meta","link","object","embed"];class re{constructor(Ve){this.value=Ve}}const Ee=de=>{const Ve=window,Ue=Ve.Ionic;if(!Ue||!Ue.config||"Object"===Ue.config.constructor.name)return Ve.Ionic=Ve.Ionic||{},Ve.Ionic.config=Object.assign(Object.assign({},Ve.Ionic.config),de),Ve.Ionic.config},le=!1},5938:(un,it,F)=>{"use strict";F.d(it,{C:()=>he,a:()=>j,d:()=>oe});var l=F(467),b=F(5638);const j=function(){var ye=(0,l.A)(function*(re,Ee,We,le,de,Ve){var Ue;if(re)return re.attachViewToDom(Ee,We,de,le);if(!(Ve||"string"==typeof We||We instanceof HTMLElement))throw new Error("framework delegate is missing");const Oe="string"==typeof We?null===(Ue=Ee.ownerDocument)||void 0===Ue?void 0:Ue.createElement(We):We;return le&&le.forEach(ke=>Oe.classList.add(ke)),de&&Object.assign(Oe,de),Ee.appendChild(Oe),yield new Promise(ke=>(0,b.c)(Oe,ke)),Oe});return function(Ee,We,le,de,Ve,Ue){return ye.apply(this,arguments)}}(),oe=(ye,re)=>{if(re){if(ye)return ye.removeViewFromDom(re.parentElement,re);re.remove()}return Promise.resolve()},he=()=>{let ye,re;return{attachViewToDom:function(){var le=(0,l.A)(function*(de,Ve,Ue={},Oe=[]){var ke,ct;let Le;if(ye=de,Ve){const $e="string"==typeof Ve?null===(ke=ye.ownerDocument)||void 0===ke?void 0:ke.createElement(Ve):Ve;Oe.forEach(at=>$e.classList.add(at)),Object.assign($e,Ue),ye.appendChild($e),Le=$e,yield new Promise(at=>(0,b.c)($e,at))}else if(ye.children.length>0&&("ION-MODAL"===ye.tagName||"ION-POPOVER"===ye.tagName)&&!(Le=ye.children[0]).classList.contains("ion-delegate-host")){const at=null===(ct=ye.ownerDocument)||void 0===ct?void 0:ct.createElement("div");at.classList.add("ion-delegate-host"),Oe.forEach(Fe=>at.classList.add(Fe)),at.append(...ye.children),ye.appendChild(at),Le=at}const Re=document.querySelector("ion-app")||document.body;return re=document.createComment("ionic teleport"),ye.parentNode.insertBefore(re,ye),Re.appendChild(ye),null!=Le?Le:ye});return function(Ve,Ue){return le.apply(this,arguments)}}(),removeViewFromDom:()=>(ye&&re&&(re.parentNode.insertBefore(ye,re),re.remove()),Promise.resolve())}}},8221:(un,it,F)=>{"use strict";F.d(it,{G:()=>he});class b{constructor(re,Ee,We,le,de){this.id=Ee,this.name=We,this.disableScroll=de,this.priority=1e6*le+Ee,this.ctrl=re}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const re=this.ctrl.capture(this.name,this.id,this.priority);return re&&this.disableScroll&&this.ctrl.disableScroll(this.id),re}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class j{constructor(re,Ee,We,le){this.id=Ee,this.disable=We,this.disableScroll=le,this.ctrl=re}block(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.disableGesture(re,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const re of this.disable)this.ctrl.enableGesture(re,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const oe="backdrop-no-scroll",he=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(re){var Ee;return new b(this,this.newID(),re.name,null!==(Ee=re.priority)&&void 0!==Ee?Ee:0,!!re.disableScroll)}createBlocker(re={}){return new j(this,this.newID(),re.disable,!!re.disableScroll)}start(re,Ee,We){return this.canStart(re)?(this.requestedStart.set(Ee,We),!0):(this.requestedStart.delete(Ee),!1)}capture(re,Ee,We){if(!this.start(re,Ee,We))return!1;const le=this.requestedStart;let de=-1e4;if(le.forEach(Ve=>{de=Math.max(de,Ve)}),de===We){this.capturedId=Ee,le.clear();const Ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:re}});return document.dispatchEvent(Ve),!0}return le.delete(Ee),!1}release(re){this.requestedStart.delete(re),this.capturedId===re&&(this.capturedId=void 0)}disableGesture(re,Ee){let We=this.disabledGestures.get(re);void 0===We&&(We=new Set,this.disabledGestures.set(re,We)),We.add(Ee)}enableGesture(re,Ee){const We=this.disabledGestures.get(re);void 0!==We&&We.delete(Ee)}disableScroll(re){this.disabledScroll.add(re),1===this.disabledScroll.size&&document.body.classList.add(oe)}enableScroll(re){this.disabledScroll.delete(re),0===this.disabledScroll.size&&document.body.classList.remove(oe)}canStart(re){return!(void 0!==this.capturedId||this.isDisabled(re))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(re){const Ee=this.disabledGestures.get(re);return!!(Ee&&Ee.size>0)}newID(){return this.gestureId++,this.gestureId}}},9457:(un,it,F)=>{"use strict";F.r(it),F.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>We,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ee,blockHardwareBackButton:()=>ye,shouldUseCloseWatcher:()=>he,startHardwareBackButton:()=>re});var l=F(467),b=F(8476),j=F(8436);F(9081);const he=()=>j.c.get("experimentalCloseWatcher",!1)&&void 0!==b.w&&"CloseWatcher"in b.w,ye=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const le=document;let de=!1;const Ve=()=>{if(de)return;let Ue=0,Oe=[];const ke=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Re,$e){Oe.push({priority:Re,handler:$e,id:Ue++})}}});le.dispatchEvent(ke);const ct=function(){var Re=(0,l.A)(function*($e){try{if(null!=$e&&$e.handler){const at=$e.handler(Le);null!=at&&(yield at)}}catch(at){console.error(at)}});return function(at){return Re.apply(this,arguments)}}(),Le=()=>{if(Oe.length>0){let Re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Oe.forEach($e=>{$e.priority>=Re.priority&&(Re=$e)}),de=!0,Oe=Oe.filter($e=>$e.id!==Re.id),ct(Re).then(()=>de=!1)}};Le()};if(he()){let Ue;const Oe=()=>{null==Ue||Ue.destroy(),Ue=new b.w.CloseWatcher,Ue.onclose=()=>{Ve(),Oe()}};Oe()}else le.addEventListener("backbutton",Ve)},Ee=100,We=99},5638:(un,it,F)=>{"use strict";F.d(it,{a:()=>Ee,b:()=>We,c:()=>j,d:()=>ct,e:()=>ke,f:()=>Oe,g:()=>le,h:()=>Ue,i:()=>re,j:()=>je,k:()=>he,l:()=>Le,m:()=>oe,n:()=>Ve,o:()=>Re,p:()=>Fe,q:()=>He,r:()=>de,s:()=>Ye,t:()=>l,u:()=>$e,v:()=>at});const l=(fe,U=0)=>new Promise(be=>{b(fe,U,be)}),b=(fe,U=0,be)=>{let Me,ze;const Ze={passive:!0},$t=()=>{Me&&Me()},fn=Xt=>{(void 0===Xt||fe===Xt.target)&&($t(),be(Xt))};return fe&&(fe.addEventListener("webkitTransitionEnd",fn,Ze),fe.addEventListener("transitionend",fn,Ze),ze=setTimeout(fn,U+500),Me=()=>{void 0!==ze&&(clearTimeout(ze),ze=void 0),fe.removeEventListener("webkitTransitionEnd",fn,Ze),fe.removeEventListener("transitionend",fn,Ze)}),$t},j=(fe,U)=>{fe.componentOnReady?fe.componentOnReady().then(be=>U(be)):de(()=>U(fe))},oe=fe=>void 0!==fe.componentOnReady,he=(fe,U=[])=>{const be={};return U.forEach(Me=>{fe.hasAttribute(Me)&&(null!==fe.getAttribute(Me)&&(be[Me]=fe.getAttribute(Me)),fe.removeAttribute(Me))}),be},ye=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],re=(fe,U)=>{let be=ye;return U&&U.length>0&&(be=be.filter(Me=>!U.includes(Me))),he(fe,be)},Ee=(fe,U,be,Me)=>{var ze;if(typeof window<"u"){const Ze=window,dt=null===(ze=null==Ze?void 0:Ze.Ionic)||void 0===ze?void 0:ze.config;if(dt){const $t=dt.get("_ael");if($t)return $t(fe,U,be,Me);if(dt._ael)return dt._ael(fe,U,be,Me)}}return fe.addEventListener(U,be,Me)},We=(fe,U,be,Me)=>{var ze;if(typeof window<"u"){const Ze=window,dt=null===(ze=null==Ze?void 0:Ze.Ionic)||void 0===ze?void 0:ze.config;if(dt){const $t=dt.get("_rel");if($t)return $t(fe,U,be,Me);if(dt._rel)return dt._rel(fe,U,be,Me)}}return fe.removeEventListener(U,be,Me)},le=(fe,U=fe)=>fe.shadowRoot||U,de=fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe),Ve=fe=>!!fe.shadowRoot&&!!fe.attachShadow,Ue=fe=>{const U=fe.closest("ion-item");return U?U.querySelector("ion-label"):null},Oe=fe=>{if(fe.focus(),fe.classList.contains("ion-focusable")){const U=fe.closest("ion-app");U&&U.setFocus([fe])}},ke=(fe,U)=>{let be;const Me=fe.getAttribute("aria-labelledby"),ze=fe.id;let Ze=null!==Me&&""!==Me.trim()?Me:U+"-lbl",dt=null!==Me&&""!==Me.trim()?document.getElementById(Me):Ue(fe);return dt?(null===Me&&(dt.id=Ze),be=dt.textContent,dt.setAttribute("aria-hidden","true")):""!==ze.trim()&&(dt=document.querySelector(`label[for="${ze}"]`),dt&&(""!==dt.id?Ze=dt.id:dt.id=Ze=`${ze}-lbl`,be=dt.textContent)),{label:dt,labelId:Ze,labelText:be}},ct=(fe,U,be,Me,ze)=>{if(fe||Ve(U)){let Ze=U.querySelector("input.aux-input");Ze||(Ze=U.ownerDocument.createElement("input"),Ze.type="hidden",Ze.classList.add("aux-input"),U.appendChild(Ze)),Ze.disabled=ze,Ze.name=be,Ze.value=Me||""}},Le=(fe,U,be)=>Math.max(fe,Math.min(U,be)),Re=(fe,U)=>{if(!fe){const be="ASSERT: "+U;throw console.error(be),new Error(be)}},$e=fe=>fe.timeStamp||Date.now(),at=fe=>{if(fe){const U=fe.changedTouches;if(U&&U.length>0){const be=U[0];return{x:be.clientX,y:be.clientY}}if(void 0!==fe.pageX)return{x:fe.pageX,y:fe.pageY}}return{x:0,y:0}},Fe=fe=>{const U="rtl"===document.dir;switch(fe){case"start":return U;case"end":return!U;default:throw new Error(`"${fe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},je=(fe,U)=>{const be=fe._original||fe;return{_original:fe,emit:He(be.emit.bind(be),U)}},He=(fe,U=0)=>{let be;return(...Me)=>{clearTimeout(be),be=setTimeout(fe,U,...Me)}},Ye=(fe,U)=>{if(null!=fe||(fe={}),null!=U||(U={}),fe===U)return!0;const be=Object.keys(fe);if(be.length!==Object.keys(U).length)return!1;for(const Me of be)if(!(Me in U)||fe[Me]!==U[Me])return!1;return!0}},405:(un,it,F)=>{"use strict";F.r(it),F.d(it,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>We});var l=F(8221);const b=(Ue,Oe,ke,ct)=>{const Le=j(Ue)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let Re,$e;return Ue.__zone_symbol__addEventListener?(Re="__zone_symbol__addEventListener",$e="__zone_symbol__removeEventListener"):(Re="addEventListener",$e="removeEventListener"),Ue[Re](Oe,ke,Le),()=>{Ue[$e](Oe,ke,Le)}},j=Ue=>{if(void 0===oe)try{const Oe=Object.defineProperty({},"passive",{get:()=>{oe=!0}});Ue.addEventListener("optsTest",()=>{},Oe)}catch{oe=!1}return!!oe};let oe;const re=Ue=>Ue instanceof Document?Ue:Ue.ownerDocument,We=Ue=>{let Oe=!1,ke=!1,ct=!0,Le=!1;const Re=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ue),$e=Re.canStart,at=Re.onWillStart,Fe=Re.onStart,je=Re.onEnd,He=Re.notCaptured,Ye=Re.onMove,fe=Re.threshold,U=Re.passive,be=Re.blurOnStart,Me={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ze=((Ue,Oe,ke)=>{const ct=ke*(Math.PI/180),Le="x"===Ue,Re=Math.cos(ct),$e=Oe*Oe;let at=0,Fe=0,je=!1,He=0;return{start(Ye,fe){at=Ye,Fe=fe,He=0,je=!0},detect(Ye,fe){if(!je)return!1;const U=Ye-at,be=fe-Fe,Me=U*U+be*be;if(Me<$e)return!1;const ze=Math.sqrt(Me),Ze=(Le?U:be)/ze;return He=Ze>Re?1:Ze<-Re?-1:0,je=!1,!0},isGesture:()=>0!==He,getDirection:()=>He}})(Re.direction,Re.threshold,Re.maxAngle),Ze=l.G.createGesture({name:Ue.gestureName,priority:Ue.gesturePriority,disableScroll:Ue.disableScroll}),fn=()=>{Oe&&(Le=!1,Ye&&Ye(Me))},Xt=()=>!!Ze.capture()&&(Oe=!0,ct=!1,Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime,at?at(Me).then(we):we(),!0),we=()=>{be&&(()=>{if(typeof document<"u"){const xe=document.activeElement;null!=xe&&xe.blur&&xe.blur()}})(),Fe&&Fe(Me),ct=!0},_e=()=>{Oe=!1,ke=!1,Le=!1,ct=!0,Ze.release()},Pe=xe=>{const zt=Oe,rn=ct;if(_e(),rn){if(le(Me,xe),zt)return void(je&&je(Me));He&&He(Me)}},Ae=((Ue,Oe,ke,ct,Le)=>{let Re,$e,at,Fe,je,He,Ye,fe=0;const U=ut=>{fe=Date.now()+2e3,Oe(ut)&&(!$e&&ke&&($e=b(Ue,"touchmove",ke,Le)),at||(at=b(ut.target,"touchend",Me,Le)),Fe||(Fe=b(ut.target,"touchcancel",Me,Le)))},be=ut=>{fe>Date.now()||Oe(ut)&&(!He&&ke&&(He=b(re(Ue),"mousemove",ke,Le)),Ye||(Ye=b(re(Ue),"mouseup",ze,Le)))},Me=ut=>{Ze(),ct&&ct(ut)},ze=ut=>{dt(),ct&&ct(ut)},Ze=()=>{$e&&$e(),at&&at(),Fe&&Fe(),$e=at=Fe=void 0},dt=()=>{He&&He(),Ye&&Ye(),He=Ye=void 0},$t=()=>{Ze(),dt()},fn=(ut=!0)=>{ut?(Re||(Re=b(Ue,"touchstart",U,Le)),je||(je=b(Ue,"mousedown",be,Le))):(Re&&Re(),je&&je(),Re=je=void 0,$t())};return{enable:fn,stop:$t,destroy:()=>{fn(!1),ct=ke=Oe=void 0}}})(Re.el,xe=>{const zt=Ve(xe);return!(ke||!ct||(de(xe,Me),Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime=zt,Me.velocityX=Me.velocityY=Me.deltaX=Me.deltaY=0,Me.event=xe,$e&&!1===$e(Me))||(Ze.release(),!Ze.start()))&&(ke=!0,0===fe?Xt():(ze.start(Me.startX,Me.startY),!0))},xe=>{Oe?!Le&&ct&&(Le=!0,le(Me,xe),requestAnimationFrame(fn)):(le(Me,xe),ze.detect(Me.currentX,Me.currentY)&&(!ze.isGesture()||!Xt())&&st())},Pe,{capture:!1,passive:U}),st=()=>{_e(),Ae.stop(),He&&He(Me)};return{enable(xe=!0){xe||(Oe&&Pe(void 0),_e()),Ae.enable(xe)},destroy(){Ze.destroy(),Ae.destroy()}}},le=(Ue,Oe)=>{if(!Oe)return;const ke=Ue.currentX,ct=Ue.currentY,Le=Ue.currentTime;de(Oe,Ue);const Re=Ue.currentX,$e=Ue.currentY,Fe=(Ue.currentTime=Ve(Oe))-Le;if(Fe>0&&Fe<100){const He=($e-ct)/Fe;Ue.velocityX=(Re-ke)/Fe*.7+.3*Ue.velocityX,Ue.velocityY=.7*He+.3*Ue.velocityY}Ue.deltaX=Re-Ue.startX,Ue.deltaY=$e-Ue.startY,Ue.event=Oe},de=(Ue,Oe)=>{let ke=0,ct=0;if(Ue){const Le=Ue.changedTouches;if(Le&&Le.length>0){const Re=Le[0];ke=Re.clientX,ct=Re.clientY}else void 0!==Ue.pageX&&(ke=Ue.pageX,ct=Ue.pageY)}Oe.currentX=ke,Oe.currentY=ct},Ve=Ue=>Ue.timeStamp||Date.now()},7818:(un,it,F)=>{"use strict";F.d(it,{m:()=>Ue});var l=F(467),b=F(8476),j=F(9457),oe=F(4929),he=F(5638),ye=F(8436),re=F(3503);const Ee=Oe=>(0,re.c)().duration(Oe?400:300),We=Oe=>{let ke,ct;const Le=Oe.width+8,Re=(0,re.c)(),$e=(0,re.c)();Oe.isEndSide?(ke=Le+"px",ct="0px"):(ke=-Le+"px",ct="0px"),Re.addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${ke})`,`translateX(${ct})`);const Fe="ios"===(0,ye.b)(Oe),je=Fe?.2:.25;return $e.addElement(Oe.backdropEl).fromTo("opacity",.01,je),Ee(Fe).addAnimation([Re,$e])},le=Oe=>{let ke,ct;const Le=(0,ye.b)(Oe),Re=Oe.width;Oe.isEndSide?(ke=-Re+"px",ct=Re+"px"):(ke=Re+"px",ct=-Re+"px");const $e=(0,re.c)().addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),at=(0,re.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`),Fe=(0,re.c)().addElement(Oe.backdropEl).fromTo("opacity",.01,.32);return Ee("ios"===Le).addAnimation([$e,at,Fe])},de=Oe=>{const ke=(0,ye.b)(Oe),ct=Oe.width*(Oe.isEndSide?-1:1)+"px",Le=(0,re.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return Ee("ios"===ke).addAnimation(Le)},Ue=(()=>{const Oe=new Map,ke=[],ct=function(){var _e=(0,l.A)(function*(Pe){const Ae=yield He(Pe,!0);return!!Ae&&Ae.open()});return function(Ae){return _e.apply(this,arguments)}}(),Le=function(){var _e=(0,l.A)(function*(Pe){const Ae=yield void 0!==Pe?He(Pe,!0):Ye();return void 0!==Ae&&Ae.close()});return function(Ae){return _e.apply(this,arguments)}}(),Re=function(){var _e=(0,l.A)(function*(Pe){const Ae=yield He(Pe,!0);return!!Ae&&Ae.toggle()});return function(Ae){return _e.apply(this,arguments)}}(),$e=function(){var _e=(0,l.A)(function*(Pe,Ae){const st=yield He(Ae);return st&&(st.disabled=!Pe),st});return function(Ae,st){return _e.apply(this,arguments)}}(),at=function(){var _e=(0,l.A)(function*(Pe,Ae){const st=yield He(Ae);return st&&(st.swipeGesture=Pe),st});return function(Ae,st){return _e.apply(this,arguments)}}(),Fe=function(){var _e=(0,l.A)(function*(Pe){if(null!=Pe){const Ae=yield He(Pe);return void 0!==Ae&&Ae.isOpen()}return void 0!==(yield Ye())});return function(Ae){return _e.apply(this,arguments)}}(),je=function(){var _e=(0,l.A)(function*(Pe){const Ae=yield He(Pe);return!!Ae&&!Ae.disabled});return function(Ae){return _e.apply(this,arguments)}}(),He=function(){var _e=(0,l.A)(function*(Pe,Ae=!1){if(yield we(),"start"===Pe||"end"===Pe){const xe=ke.filter(rn=>rn.side===Pe&&!rn.disabled);if(xe.length>=1)return xe.length>1&&Ae&&(0,oe.p)(`menuController queried for a menu on the "${Pe}" side, but ${xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,xe.map(rn=>rn.el)),xe[0].el;const zt=ke.filter(rn=>rn.side===Pe);if(zt.length>=1)return zt.length>1&&Ae&&(0,oe.p)(`menuController queried for a menu on the "${Pe}" side, but ${zt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,zt.map(rn=>rn.el)),zt[0].el}else if(null!=Pe)return ut(xe=>xe.menuId===Pe);return ut(xe=>!xe.disabled)||(ke.length>0?ke[0].el:void 0)});return function(Ae){return _e.apply(this,arguments)}}(),Ye=function(){var _e=(0,l.A)(function*(){return yield we(),$t()});return function(){return _e.apply(this,arguments)}}(),fe=function(){var _e=(0,l.A)(function*(){return yield we(),fn()});return function(){return _e.apply(this,arguments)}}(),U=function(){var _e=(0,l.A)(function*(){return yield we(),Xt()});return function(){return _e.apply(this,arguments)}}(),be=(_e,Pe)=>{Oe.set(_e,Pe)},Ze=function(){var _e=(0,l.A)(function*(Pe,Ae,st){if(Xt())return!1;if(Ae){const xe=yield Ye();xe&&Pe.el!==xe&&(yield xe.setOpen(!1,!1))}return Pe._setOpen(Ae,st)});return function(Ae,st,xe){return _e.apply(this,arguments)}}(),$t=()=>ut(_e=>_e._isOpen),fn=()=>ke.map(_e=>_e.el),Xt=()=>ke.some(_e=>_e.isAnimating),ut=_e=>{const Pe=ke.find(_e);if(void 0!==Pe)return Pe.el},we=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_e=>new Promise(Pe=>(0,he.c)(_e,Pe))));return be("reveal",de),be("push",le),be("overlay",We),null==b.d||b.d.addEventListener("ionBackButton",_e=>{const Pe=$t();Pe&&_e.detail.register(j.MENU_BACK_BUTTON_PRIORITY,()=>Pe.close())}),{registerAnimation:be,get:He,getMenus:fe,getOpen:Ye,isEnabled:je,swipeGesture:at,isAnimating:U,isOpen:Fe,enable:$e,toggle:Re,close:Le,open:ct,_getOpenSync:$t,_createAnimation:(_e,Pe)=>{const Ae=Oe.get(_e);if(!Ae)throw new Error("animation not registered");return Ae(Pe)},_register:_e=>{ke.indexOf(_e)<0&&ke.push(_e)},_unregister:_e=>{const Pe=ke.indexOf(_e);Pe>-1&&ke.splice(Pe,1)},_setOpen:Ze}})()},1497:(un,it,F)=>{"use strict";F.d(it,{b:()=>ye,c:()=>re,d:()=>Ee,e:()=>fe,g:()=>Me,l:()=>He,s:()=>U,t:()=>de,w:()=>Ye});var l=F(467),b=F(9081),j=F(5638);const ye="ionViewWillLeave",re="ionViewDidLeave",Ee="ionViewWillUnload",de=ze=>new Promise((Ze,dt)=>{(0,b.w)(()=>{Ve(ze),Ue(ze).then($t=>{$t.animation&&$t.animation.destroy(),Oe(ze),Ze($t)},$t=>{Oe(ze),dt($t)})})}),Ve=ze=>{const Ze=ze.enteringEl,dt=ze.leavingEl;be(Ze,dt,ze.direction),ze.showGoBack?Ze.classList.add("can-go-back"):Ze.classList.remove("can-go-back"),U(Ze,!1),Ze.style.setProperty("pointer-events","none"),dt&&(U(dt,!1),dt.style.setProperty("pointer-events","none"))},Ue=function(){var ze=(0,l.A)(function*(Ze){const dt=yield ke(Ze);return dt&&b.B.isBrowser?ct(dt,Ze):Le(Ze)});return function(dt){return ze.apply(this,arguments)}}(),Oe=ze=>{const Ze=ze.enteringEl,dt=ze.leavingEl;Ze.classList.remove("ion-page-invisible"),Ze.style.removeProperty("pointer-events"),void 0!==dt&&(dt.classList.remove("ion-page-invisible"),dt.style.removeProperty("pointer-events"))},ke=function(){var ze=(0,l.A)(function*(Ze){return Ze.leavingEl&&Ze.animated&&0!==Ze.duration?Ze.animationBuilder?Ze.animationBuilder:"ios"===Ze.mode?(yield Promise.resolve().then(F.bind(F,2604))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,3003))).mdTransitionAnimation:void 0});return function(dt){return ze.apply(this,arguments)}}(),ct=function(){var ze=(0,l.A)(function*(Ze,dt){yield Re(dt,!0);const $t=Ze(dt.baseEl,dt);Fe(dt.enteringEl,dt.leavingEl);const fn=yield at($t,dt);return dt.progressCallback&&dt.progressCallback(void 0),fn&&je(dt.enteringEl,dt.leavingEl),{hasCompleted:fn,animation:$t}});return function(dt,$t){return ze.apply(this,arguments)}}(),Le=function(){var ze=(0,l.A)(function*(Ze){const dt=Ze.enteringEl,$t=Ze.leavingEl;return yield Re(Ze,!1),Fe(dt,$t),je(dt,$t),{hasCompleted:!0}});return function(dt){return ze.apply(this,arguments)}}(),Re=function(){var ze=(0,l.A)(function*(Ze,dt){(void 0!==Ze.deepWait?Ze.deepWait:dt)&&(yield Promise.all([fe(Ze.enteringEl),fe(Ze.leavingEl)])),yield $e(Ze.viewIsReady,Ze.enteringEl)});return function(dt,$t){return ze.apply(this,arguments)}}(),$e=function(){var ze=(0,l.A)(function*(Ze,dt){Ze&&(yield Ze(dt))});return function(dt,$t){return ze.apply(this,arguments)}}(),at=(ze,Ze)=>{const dt=Ze.progressCallback,$t=new Promise(fn=>{ze.onFinish(Xt=>fn(1===Xt))});return dt?(ze.progressStart(!0),dt(ze)):ze.play(),$t},Fe=(ze,Ze)=>{He(Ze,ye),He(ze,"ionViewWillEnter")},je=(ze,Ze)=>{He(ze,"ionViewDidEnter"),He(Ze,re)},He=(ze,Ze)=>{if(ze){const dt=new CustomEvent(Ze,{bubbles:!1,cancelable:!1});ze.dispatchEvent(dt)}},Ye=()=>new Promise(ze=>(0,j.r)(()=>(0,j.r)(()=>ze()))),fe=function(){var ze=(0,l.A)(function*(Ze){const dt=Ze;if(dt){if(null!=dt.componentOnReady){if(null!=(yield dt.componentOnReady()))return}else if(null!=dt.__registerHost)return void(yield new Promise(fn=>(0,j.r)(fn)));yield Promise.all(Array.from(dt.children).map(fe))}});return function(dt){return ze.apply(this,arguments)}}(),U=(ze,Ze)=>{Ze?(ze.setAttribute("aria-hidden","true"),ze.classList.add("ion-page-hidden")):(ze.hidden=!1,ze.removeAttribute("aria-hidden"),ze.classList.remove("ion-page-hidden"))},be=(ze,Ze,dt)=>{void 0!==ze&&(ze.style.zIndex="back"===dt?"99":"101"),void 0!==Ze&&(Ze.style.zIndex="100")},Me=ze=>ze.classList.contains("ion-page")?ze:ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ze},4929:(un,it,F)=>{"use strict";F.d(it,{a:()=>b,b:()=>j,p:()=>l});const l=(oe,...he)=>console.warn(`[Ionic Warning]: ${oe}`,...he),b=(oe,...he)=>console.error(`[Ionic Error]: ${oe}`,...he),j=(oe,...he)=>console.error(`<${oe.tagName.toLowerCase()}> must be used inside ${he.join(" or ")}.`)},8476:(un,it,F)=>{"use strict";F.d(it,{d:()=>b,w:()=>l});const l=typeof window<"u"?window:void 0,b=typeof document<"u"?document:void 0},9081:(un,it,F)=>{"use strict";F.d(it,{B:()=>Ve,H:()=>Xt,a:()=>hi,b:()=>vr,c:()=>rn,d:()=>Qn,e:()=>$r,f:()=>An,g:()=>Kt,h:()=>$t,i:()=>ue,j:()=>Ue,r:()=>De,w:()=>_t});var l=F(467);let oe,he,ye,re=!1,Ee=!1,We=!1,le=!1,de=!1;const Ve={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ue=B=>{const Y=new URL(B,bn.$resourcesUrl$);return Y.origin!==Nn.location.origin?Y.href:Y.pathname},at="s-id",Fe="sty-id",Ye="slot-fb{display:contents}slot-fb[hidden]{display:none}",fe="http://www.w3.org/1999/xlink",U={},Ze=B=>"object"==(B=typeof B)||"function"===B;function dt(B){var Y,Be,Ne;return null!==(Ne=null===(Be=null===(Y=B.head)||void 0===Y?void 0:Y.querySelector('meta[name="csp-nonce"]'))||void 0===Be?void 0:Be.getAttribute("content"))&&void 0!==Ne?Ne:void 0}const $t=(B,Y,...Be)=>{let Ne=null,nt=null,Pt=null,Lt=!1,en=!1;const Yt=[],qt=Wt=>{for(let On=0;On<Wt.length;On++)Ne=Wt[On],Array.isArray(Ne)?qt(Ne):null!=Ne&&"boolean"!=typeof Ne&&((Lt="function"!=typeof B&&!Ze(Ne))&&(Ne=String(Ne)),Lt&&en?Yt[Yt.length-1].$text$+=Ne:Yt.push(Lt?fn(null,Ne):Ne),en=Lt)};if(qt(Be),Y){Y.key&&(nt=Y.key),Y.name&&(Pt=Y.name);{const Wt=Y.className||Y.class;Wt&&(Y.class="object"!=typeof Wt?Wt:Object.keys(Wt).filter(On=>Wt[On]).join(" "))}}if("function"==typeof B)return B(null===Y?{}:Y,Yt,we);const an=fn(B,null);return an.$attrs$=Y,Yt.length>0&&(an.$children$=Yt),an.$key$=nt,an.$name$=Pt,an},fn=(B,Y)=>({$flags$:0,$tag$:B,$text$:Y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Xt={},we={forEach:(B,Y)=>B.map(_e).forEach(Y),map:(B,Y)=>B.map(_e).map(Y).map(Pe)},_e=B=>({vattrs:B.$attrs$,vchildren:B.$children$,vkey:B.$key$,vname:B.$name$,vtag:B.$tag$,vtext:B.$text$}),Pe=B=>{if("function"==typeof B.vtag){const Be=Object.assign({},B.vattrs);return B.vkey&&(Be.key=B.vkey),B.vname&&(Be.name=B.vname),$t(B.vtag,Be,...B.vchildren||[])}const Y=fn(B.vtag,B.vtext);return Y.$attrs$=B.vattrs,Y.$children$=B.vchildren,Y.$key$=B.vkey,Y.$name$=B.vname,Y},st=(B,Y,Be,Ne,nt,Pt,Lt)=>{let en,Yt,qt,an;if(1===Pt.nodeType){for(en=Pt.getAttribute("c-id"),en&&(Yt=en.split("."),(Yt[0]===Lt||"0"===Yt[0])&&(qt={$flags$:0,$hostId$:Yt[0],$nodeId$:Yt[1],$depth$:Yt[2],$index$:Yt[3],$tag$:Pt.tagName.toLowerCase(),$elm$:Pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Y.push(qt),Pt.removeAttribute("c-id"),B.$children$||(B.$children$=[]),B.$children$[qt.$index$]=qt,B=qt,Ne&&"0"===qt.$depth$&&(Ne[qt.$index$]=qt.$elm$))),an=Pt.childNodes.length-1;an>=0;an--)st(B,Y,Be,Ne,nt,Pt.childNodes[an],Lt);if(Pt.shadowRoot)for(an=Pt.shadowRoot.childNodes.length-1;an>=0;an--)st(B,Y,Be,Ne,nt,Pt.shadowRoot.childNodes[an],Lt)}else if(8===Pt.nodeType)Yt=Pt.nodeValue.split("."),(Yt[1]===Lt||"0"===Yt[1])&&(en=Yt[0],qt={$flags$:0,$hostId$:Yt[1],$nodeId$:Yt[2],$depth$:Yt[3],$index$:Yt[4],$elm$:Pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===en?(qt.$elm$=Pt.nextSibling,qt.$elm$&&3===qt.$elm$.nodeType&&(qt.$text$=qt.$elm$.textContent,Y.push(qt),Pt.remove(),B.$children$||(B.$children$=[]),B.$children$[qt.$index$]=qt,Ne&&"0"===qt.$depth$&&(Ne[qt.$index$]=qt.$elm$))):qt.$hostId$===Lt&&("s"===en?(qt.$tag$="slot",Pt["s-sn"]=Yt[5]?qt.$name$=Yt[5]:"",Pt["s-sr"]=!0,Ne&&(qt.$elm$=ur.createElement(qt.$tag$),qt.$name$&&qt.$elm$.setAttribute("name",qt.$name$),Pt.parentNode.insertBefore(qt.$elm$,Pt),Pt.remove(),"0"===qt.$depth$&&(Ne[qt.$index$]=qt.$elm$)),Be.push(qt),B.$children$||(B.$children$=[]),B.$children$[qt.$index$]=qt):"r"===en&&(Ne?Pt.remove():(nt["s-cr"]=Pt,Pt["s-cn"]=!0))));else if(B&&"style"===B.$tag$){const Wt=fn(null,Pt.textContent);Wt.$elm$=Pt,Wt.$index$="0",B.$children$=[Wt]}},xe=(B,Y)=>{if(1===B.nodeType){let Be=0;for(;Be<B.childNodes.length;Be++)xe(B.childNodes[Be],Y);if(B.shadowRoot)for(Be=0;Be<B.shadowRoot.childNodes.length;Be++)xe(B.shadowRoot.childNodes[Be],Y)}else if(8===B.nodeType){const Be=B.nodeValue.split(".");"o"===Be[0]&&(Y.set(Be[1]+"."+Be[2],B),B.nodeValue="",B["s-en"]=Be[3])}},rn=B=>Ur.push(B),Kt=B=>G(B).$modeName$,An=B=>G(B).$hostElement$,Qn=(B,Y,Be)=>{const Ne=An(B);return{emit:nt=>$n(Ne,Y,{bubbles:!!(4&Be),composed:!!(2&Be),cancelable:!!(1&Be),detail:nt})}},$n=(B,Y,Be)=>{const Ne=bn.ce(Y,Be);return B.dispatchEvent(Ne),Ne},Tt=new WeakMap,kn=(B,Y,Be)=>{let Ne=En.get(B);ge&&Be?(Ne=Ne||new CSSStyleSheet,"string"==typeof Ne?Ne=Y:Ne.replaceSync(Y)):Ne=Y,En.set(B,Ne)},St=(B,Y,Be)=>{var Ne;const nt=Dt(Y,Be),Pt=En.get(nt);if(B=11===B.nodeType?B:ur,Pt)if("string"==typeof Pt){let en,Lt=Tt.get(B=B.head||B);if(Lt||Tt.set(B,Lt=new Set),!Lt.has(nt)){if(B.host&&(en=B.querySelector(`[${Fe}="${nt}"]`)))en.innerHTML=Pt;else{en=ur.createElement("style"),en.innerHTML=Pt;const Yt=null!==(Ne=bn.$nonce$)&&void 0!==Ne?Ne:dt(ur);null!=Yt&&en.setAttribute("nonce",Yt),B.insertBefore(en,B.querySelector("link"))}4&Y.$flags$&&(en.innerHTML+=Ye),Lt&&Lt.add(nt)}}else B.adoptedStyleSheets.includes(Pt)||(B.adoptedStyleSheets=[...B.adoptedStyleSheets,Pt]);return nt},Dt=(B,Y)=>"sc-"+(Y&&32&B.$flags$?B.$tagName$+"-"+Y:B.$tagName$),It=B=>B.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),hn=(B,Y,Be,Ne,nt,Pt)=>{if(Be!==Ne){let Lt=Ot(B,Y),en=Y.toLowerCase();if("class"===Y){const Yt=B.classList,qt=Fn(Be),an=Fn(Ne);Yt.remove(...qt.filter(Wt=>Wt&&!an.includes(Wt))),Yt.add(...an.filter(Wt=>Wt&&!qt.includes(Wt)))}else if("style"===Y){for(const Yt in Be)(!Ne||null==Ne[Yt])&&(Yt.includes("-")?B.style.removeProperty(Yt):B.style[Yt]="");for(const Yt in Ne)(!Be||Ne[Yt]!==Be[Yt])&&(Yt.includes("-")?B.style.setProperty(Yt,Ne[Yt]):B.style[Yt]=Ne[Yt])}else if("key"!==Y)if("ref"===Y)Ne&&Ne(B);else if(Lt||"o"!==Y[0]||"n"!==Y[1]){const Yt=Ze(Ne);if((Lt||Yt&&null!==Ne)&&!nt)try{if(B.tagName.includes("-"))B[Y]=Ne;else{const an=null==Ne?"":Ne;"list"===Y?Lt=!1:(null==Be||B[Y]!=an)&&(B[Y]=an)}}catch{}let qt=!1;en!==(en=en.replace(/^xlink\:?/,""))&&(Y=en,qt=!0),null==Ne||!1===Ne?(!1!==Ne||""===B.getAttribute(Y))&&(qt?B.removeAttributeNS(fe,Y):B.removeAttribute(Y)):(!Lt||4&Pt||nt)&&!Yt&&(Ne=!0===Ne?"":Ne,qt?B.setAttributeNS(fe,Y,Ne):B.setAttribute(Y,Ne))}else if(Y="-"===Y[2]?Y.slice(3):Ot(Nn,en)?en.slice(2):en[2]+Y.slice(3),Be||Ne){const Yt=Y.endsWith(qn);Y=Y.replace(Yn,""),Be&&bn.rel(B,Y,Be,Yt),Ne&&bn.ael(B,Y,Ne,Yt)}}},Tn=/\s/,Fn=B=>B?B.split(Tn):[],qn="Capture",Yn=new RegExp(qn+"$"),nr=(B,Y,Be,Ne)=>{const nt=11===Y.$elm$.nodeType&&Y.$elm$.host?Y.$elm$.host:Y.$elm$,Pt=B&&B.$attrs$||U,Lt=Y.$attrs$||U;for(Ne in Pt)Ne in Lt||hn(nt,Ne,Pt[Ne],void 0,Be,Y.$flags$);for(Ne in Lt)hn(nt,Ne,Pt[Ne],Lt[Ne],Be,Y.$flags$)},mn=(B,Y,Be,Ne)=>{const nt=Y.$children$[Be];let Lt,en,Yt,Pt=0;if(re||(We=!0,"slot"===nt.$tag$&&(oe&&Ne.classList.add(oe+"-s"),nt.$flags$|=nt.$children$?2:1)),null!==nt.$text$)Lt=nt.$elm$=ur.createTextNode(nt.$text$);else if(1&nt.$flags$)Lt=nt.$elm$=ur.createTextNode("");else{if(le||(le="svg"===nt.$tag$),Lt=nt.$elm$=ur.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&nt.$flags$?"slot-fb":nt.$tag$),le&&"foreignObject"===nt.$tag$&&(le=!1),nr(null,nt,le),(B=>null!=B)(oe)&&Lt["s-si"]!==oe&&Lt.classList.add(Lt["s-si"]=oe),nt.$children$)for(Pt=0;Pt<nt.$children$.length;++Pt)en=mn(B,nt,Pt,Lt),en&&Lt.appendChild(en);"svg"===nt.$tag$?le=!1:"foreignObject"===Lt.tagName&&(le=!0)}return Lt["s-hn"]=ye,3&nt.$flags$&&(Lt["s-sr"]=!0,Lt["s-cr"]=he,Lt["s-sn"]=nt.$name$||"",Yt=B&&B.$children$&&B.$children$[Be],Yt&&Yt.$tag$===nt.$tag$&&B.$elm$&&wn(B.$elm$,!1)),Lt},wn=(B,Y)=>{bn.$flags$|=1;const Be=B.childNodes;for(let Ne=Be.length-1;Ne>=0;Ne--){const nt=Be[Ne];nt["s-hn"]!==ye&&nt["s-ol"]&&(mr(nt).insertBefore(nt,or(nt)),nt["s-ol"].remove(),nt["s-ol"]=void 0,nt["s-sh"]=void 0,We=!0),Y&&wn(nt,Y)}bn.$flags$&=-2},Tr=(B,Y,Be,Ne,nt,Pt)=>{let en,Lt=B["s-cr"]&&B["s-cr"].parentNode||B;for(Lt.shadowRoot&&Lt.tagName===ye&&(Lt=Lt.shadowRoot);nt<=Pt;++nt)Ne[nt]&&(en=mn(null,Be,nt,B),en&&(Ne[nt].$elm$=en,Lt.insertBefore(en,or(Y))))},Nr=(B,Y,Be)=>{for(let Ne=Y;Ne<=Be;++Ne){const nt=B[Ne];if(nt){const Pt=nt.$elm$;Gn(nt),Pt&&(Ee=!0,Pt["s-ol"]?Pt["s-ol"].remove():wn(Pt,!0),Pt.remove())}}},Ln=(B,Y,Be=!1)=>B.$tag$===Y.$tag$&&("slot"===B.$tag$?B.$name$===Y.$name$:!!Be||B.$key$===Y.$key$),or=B=>B&&B["s-ol"]||B,mr=B=>(B["s-ol"]?B["s-ol"]:B).parentNode,Sn=(B,Y,Be=!1)=>{const Ne=Y.$elm$=B.$elm$,nt=B.$children$,Pt=Y.$children$,Lt=Y.$tag$,en=Y.$text$;let Yt;null===en?(le="svg"===Lt||"foreignObject"!==Lt&&le,"slot"===Lt&&!re||nr(B,Y,le),null!==nt&&null!==Pt?((B,Y,Be,Ne,nt=!1)=>{let Br,E,Pt=0,Lt=0,en=0,Yt=0,qt=Y.length-1,an=Y[0],Wt=Y[qt],On=Ne.length-1,_r=Ne[0],yr=Ne[On];for(;Pt<=qt&&Lt<=On;)if(null==an)an=Y[++Pt];else if(null==Wt)Wt=Y[--qt];else if(null==_r)_r=Ne[++Lt];else if(null==yr)yr=Ne[--On];else if(Ln(an,_r,nt))Sn(an,_r,nt),an=Y[++Pt],_r=Ne[++Lt];else if(Ln(Wt,yr,nt))Sn(Wt,yr,nt),Wt=Y[--qt],yr=Ne[--On];else if(Ln(an,yr,nt))("slot"===an.$tag$||"slot"===yr.$tag$)&&wn(an.$elm$.parentNode,!1),Sn(an,yr,nt),B.insertBefore(an.$elm$,Wt.$elm$.nextSibling),an=Y[++Pt],yr=Ne[--On];else if(Ln(Wt,_r,nt))("slot"===an.$tag$||"slot"===yr.$tag$)&&wn(Wt.$elm$.parentNode,!1),Sn(Wt,_r,nt),B.insertBefore(Wt.$elm$,an.$elm$),Wt=Y[--qt],_r=Ne[++Lt];else{for(en=-1,Yt=Pt;Yt<=qt;++Yt)if(Y[Yt]&&null!==Y[Yt].$key$&&Y[Yt].$key$===_r.$key$){en=Yt;break}en>=0?(E=Y[en],E.$tag$!==_r.$tag$?Br=mn(Y&&Y[Lt],Be,en,B):(Sn(E,_r,nt),Y[en]=void 0,Br=E.$elm$),_r=Ne[++Lt]):(Br=mn(Y&&Y[Lt],Be,Lt,B),_r=Ne[++Lt]),Br&&mr(an.$elm$).insertBefore(Br,or(an.$elm$))}Pt>qt?Tr(B,null==Ne[On+1]?null:Ne[On+1].$elm$,Be,Ne,Lt,On):Lt>On&&Nr(Y,Pt,qt)})(Ne,nt,Y,Pt,Be):null!==Pt?(null!==B.$text$&&(Ne.textContent=""),Tr(Ne,null,Y,Pt,0,Pt.length-1)):null!==nt&&Nr(nt,0,nt.length-1),le&&"svg"===Lt&&(le=!1)):(Yt=Ne["s-cr"])?Yt.parentNode.textContent=en:B.$text$!==en&&(Ne.data=en)},gr=B=>{const Y=B.childNodes;for(const Be of Y)if(1===Be.nodeType){if(Be["s-sr"]){const Ne=Be["s-sn"];Be.hidden=!1;for(const nt of Y)if(nt!==Be)if(nt["s-hn"]!==Be["s-hn"]||""!==Ne){if(1===nt.nodeType&&(Ne===nt.getAttribute("slot")||Ne===nt["s-sn"])){Be.hidden=!0;break}}else if(1===nt.nodeType||3===nt.nodeType&&""!==nt.textContent.trim()){Be.hidden=!0;break}}gr(Be)}},Cn=[],Zn=B=>{let Y,Be,Ne;for(const nt of B.childNodes){if(nt["s-sr"]&&(Y=nt["s-cr"])&&Y.parentNode){Be=Y.parentNode.childNodes;const Pt=nt["s-sn"];for(Ne=Be.length-1;Ne>=0;Ne--)if(Y=Be[Ne],!Y["s-cn"]&&!Y["s-nr"]&&Y["s-hn"]!==nt["s-hn"])if(Dr(Y,Pt)){let Lt=Cn.find(en=>en.$nodeToRelocate$===Y);Ee=!0,Y["s-sn"]=Y["s-sn"]||Pt,Lt?(Lt.$nodeToRelocate$["s-sh"]=nt["s-hn"],Lt.$slotRefNode$=nt):(Y["s-sh"]=nt["s-hn"],Cn.push({$slotRefNode$:nt,$nodeToRelocate$:Y})),Y["s-sr"]&&Cn.map(en=>{Dr(en.$nodeToRelocate$,Y["s-sn"])&&(Lt=Cn.find(Yt=>Yt.$nodeToRelocate$===Y),Lt&&!en.$slotRefNode$&&(en.$slotRefNode$=Lt.$slotRefNode$))})}else Cn.some(Lt=>Lt.$nodeToRelocate$===Y)||Cn.push({$nodeToRelocate$:Y})}1===nt.nodeType&&Zn(nt)}},Dr=(B,Y)=>1===B.nodeType?null===B.getAttribute("slot")&&""===Y||B.getAttribute("slot")===Y:B["s-sn"]===Y||""===Y,Gn=B=>{B.$attrs$&&B.$attrs$.ref&&B.$attrs$.ref(null),B.$children$&&B.$children$.map(Gn)},wr=(B,Y)=>{Y&&!B.$onRenderResolve$&&Y["s-p"]&&Y["s-p"].push(new Promise(Be=>B.$onRenderResolve$=Be))},Sr=(B,Y)=>{if(B.$flags$|=16,!(4&B.$flags$))return wr(B,B.$ancestorComponent$),_t(()=>Lr(B,Y));B.$flags$|=512},Lr=(B,Y)=>{const Ne=B.$lazyInstance$;let nt;return Y&&(B.$flags$|=256,B.$queuedListeners$&&(B.$queuedListeners$.map(([Pt,Lt])=>Q(Ne,Pt,Lt)),B.$queuedListeners$=void 0),nt=Q(Ne,"componentWillLoad")),nt=Qe(nt,()=>Q(Ne,"componentWillRender")),Qe(nt,()=>yt(B,Ne,Y))},Qe=(B,Y)=>Ge(B)?B.then(Y):Y(),Ge=B=>B instanceof Promise||B&&B.then&&"function"==typeof B.then,yt=function(){var B=(0,l.A)(function*(Y,Be,Ne){var nt;const Pt=Y.$hostElement$,en=Pt["s-rc"];Ne&&(B=>{const Y=B.$cmpMeta$,Be=B.$hostElement$,Ne=Y.$flags$,Pt=St(Be.shadowRoot?Be.shadowRoot:Be.getRootNode(),Y,B.$modeName$);10&Ne&&(Be["s-sc"]=Pt,Be.classList.add(Pt+"-h"),2&Ne&&Be.classList.add(Pt+"-s"))})(Y);qe(Y,Be,Pt,Ne),en&&(en.map(qt=>qt()),Pt["s-rc"]=void 0);{const qt=null!==(nt=Pt["s-p"])&&void 0!==nt?nt:[],an=()=>ie(Y);0===qt.length?an():(Promise.all(qt).then(an),Y.$flags$|=4,qt.length=0)}});return function(Be,Ne,nt){return B.apply(this,arguments)}}(),qe=(B,Y,Be,Ne)=>{try{Y=Y.render&&Y.render(),B.$flags$&=-17,B.$flags$|=2,((B,Y,Be=!1)=>{var Ne,nt,Pt,Lt;const en=B.$hostElement$,Yt=B.$cmpMeta$,qt=B.$vnode$||fn(null,null),an=(B=>B&&B.$tag$===Xt)(Y)?Y:$t(null,null,Y);if(ye=en.tagName,Yt.$attrsToReflect$&&(an.$attrs$=an.$attrs$||{},Yt.$attrsToReflect$.map(([Wt,On])=>an.$attrs$[On]=en[Wt])),Be&&an.$attrs$)for(const Wt of Object.keys(an.$attrs$))en.hasAttribute(Wt)&&!["key","ref","style","class"].includes(Wt)&&(an.$attrs$[Wt]=en[Wt]);if(an.$tag$=null,an.$flags$|=4,B.$vnode$=an,an.$elm$=qt.$elm$=en.shadowRoot||en,oe=en["s-sc"],re=!!(1&Yt.$flags$),he=en["s-cr"],Ee=!1,Sn(qt,an,Be),bn.$flags$|=1,We){Zn(an.$elm$);for(const Wt of Cn){const On=Wt.$nodeToRelocate$;if(!On["s-ol"]){const _r=ur.createTextNode("");_r["s-nr"]=On,On.parentNode.insertBefore(On["s-ol"]=_r,On)}}for(const Wt of Cn){const On=Wt.$nodeToRelocate$,_r=Wt.$slotRefNode$;if(_r){const yr=_r.parentNode;let Br=_r.nextSibling;{let E=null===(Ne=On["s-ol"])||void 0===Ne?void 0:Ne.previousSibling;for(;E;){let ne=null!==(nt=E["s-nr"])&&void 0!==nt?nt:null;if(ne&&ne["s-sn"]===On["s-sn"]&&yr===ne.parentNode&&(ne=ne.nextSibling,!ne||!ne["s-nr"])){Br=ne;break}E=E.previousSibling}}(!Br&&yr!==On.parentNode||On.nextSibling!==Br)&&On!==Br&&(!On["s-hn"]&&On["s-ol"]&&(On["s-hn"]=On["s-ol"].parentNode.nodeName),yr.insertBefore(On,Br),1===On.nodeType&&(On.hidden=null!==(Pt=On["s-ih"])&&void 0!==Pt&&Pt))}else 1===On.nodeType&&(Be&&(On["s-ih"]=null!==(Lt=On.hidden)&&void 0!==Lt&&Lt),On.hidden=!0)}}Ee&&gr(an.$elm$),bn.$flags$&=-2,Cn.length=0,he=void 0})(B,Y,Ne)}catch(nt){yn(nt,B.$hostElement$)}return null},ie=B=>{const Be=B.$hostElement$,nt=B.$lazyInstance$,Pt=B.$ancestorComponent$;Q(nt,"componentDidRender"),64&B.$flags$?Q(nt,"componentDidUpdate"):(B.$flags$|=64,q(Be),Q(nt,"componentDidLoad"),B.$onReadyResolve$(Be),Pt||K()),B.$onInstanceResolve$(Be),B.$onRenderResolve$&&(B.$onRenderResolve$(),B.$onRenderResolve$=void 0),512&B.$flags$&&Un(()=>Sr(B,!1)),B.$flags$&=-517},ue=B=>{{const Y=G(B),Be=Y.$hostElement$.isConnected;return Be&&2==(18&Y.$flags$)&&Sr(Y,!1),Be}},K=B=>{q(ur.documentElement),Un(()=>$n(Nn,"appload",{detail:{namespace:"ionic"}}))},Q=(B,Y,Be)=>{if(B&&B[Y])try{return B[Y](Be)}catch(Ne){yn(Ne)}},q=B=>B.classList.add("hydrated"),cn=(B,Y,Be)=>{var Ne;const nt=B.prototype;if(Y.$members$){B.watchers&&(Y.$watchers$=B.watchers);const Pt=Object.entries(Y.$members$);if(Pt.map(([Lt,[en]])=>{31&en||2&Be&&32&en?Object.defineProperty(nt,Lt,{get(){return((B,Y)=>G(this).$instanceValues$.get(Y))(0,Lt)},set(Yt){((B,Y,Be,Ne)=>{const nt=G(B),Pt=nt.$hostElement$,Lt=nt.$instanceValues$.get(Y),en=nt.$flags$,Yt=nt.$lazyInstance$;Be=((B,Y)=>null==B||Ze(B)?B:4&Y?"false"!==B&&(""===B||!!B):2&Y?parseFloat(B):1&Y?String(B):B)(Be,Ne.$members$[Y][0]);const qt=Number.isNaN(Lt)&&Number.isNaN(Be);if((!(8&en)||void 0===Lt)&&Be!==Lt&&!qt&&(nt.$instanceValues$.set(Y,Be),Yt)){if(Ne.$watchers$&&128&en){const Wt=Ne.$watchers$[Y];Wt&&Wt.map(On=>{try{Yt[On](Be,Lt,Y)}catch(_r){yn(_r,Pt)}})}2==(18&en)&&Sr(nt,!1)}})(this,Lt,Yt,Y)},configurable:!0,enumerable:!0}):1&Be&&64&en&&Object.defineProperty(nt,Lt,{value(...Yt){var qt;const an=G(this);return null===(qt=null==an?void 0:an.$onInstancePromise$)||void 0===qt?void 0:qt.then(()=>{var Wt;return null===(Wt=an.$lazyInstance$)||void 0===Wt?void 0:Wt[Lt](...Yt)})}})}),1&Be){const Lt=new Map;nt.attributeChangedCallback=function(en,Yt,qt){bn.jmp(()=>{var an;const Wt=Lt.get(en);if(this.hasOwnProperty(Wt))qt=this[Wt],delete this[Wt];else{if(nt.hasOwnProperty(Wt)&&"number"==typeof this[Wt]&&this[Wt]==qt)return;if(null==Wt){const On=G(this),_r=null==On?void 0:On.$flags$;if(_r&&!(8&_r)&&128&_r&&qt!==Yt){const yr=On.$lazyInstance$,Br=null===(an=Y.$watchers$)||void 0===an?void 0:an[en];null==Br||Br.forEach(E=>{null!=yr[E]&&yr[E].call(yr,qt,Yt,en)})}return}}this[Wt]=(null!==qt||"boolean"!=typeof this[Wt])&&qt})},B.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ne=Y.$watchers$)&&void 0!==Ne?Ne:{}),...Pt.filter(([en,Yt])=>15&Yt[0]).map(([en,Yt])=>{var qt;const an=Yt[1]||en;return Lt.set(an,en),512&Yt[0]&&(null===(qt=Y.$attrsToReflect$)||void 0===qt||qt.push([en,an])),an})]))}}return B},Mn=function(){var B=(0,l.A)(function*(Y,Be,Ne,nt){let Pt;if(!(32&Be.$flags$)){if(Be.$flags$|=32,Ne.$lazyBundleId$){if(Pt=Xn(Ne),Pt.then){const an=()=>{};Pt=yield Pt,an()}Pt.isProxied||(Ne.$watchers$=Pt.watchers,cn(Pt,Ne,2),Pt.isProxied=!0);const qt=()=>{};Be.$flags$|=8;try{new Pt(Be)}catch(an){yn(an)}Be.$flags$&=-9,Be.$flags$|=128,qt(),Hn(Be.$lazyInstance$)}else Pt=Y.constructor,customElements.whenDefined(Ne.$tagName$).then(()=>Be.$flags$|=128);if(Pt.style){let qt=Pt.style;"string"!=typeof qt&&(qt=qt[Be.$modeName$=(B=>Ur.map(Y=>Y(B)).find(Y=>!!Y))(Y)]);const an=Dt(Ne,Be.$modeName$);if(!En.has(an)){const Wt=()=>{};kn(an,qt,!!(1&Ne.$flags$)),Wt()}}}const Lt=Be.$ancestorComponent$,en=()=>Sr(Be,!0);Lt&&Lt["s-rc"]?Lt["s-rc"].push(en):en()});return function(Be,Ne,nt,Pt){return B.apply(this,arguments)}}(),Hn=B=>{Q(B,"connectedCallback")},Pn=B=>{const Y=B["s-cr"]=ur.createComment("");Y["s-cn"]=!0,B.insertBefore(Y,B.firstChild)},dn=B=>{Q(B,"disconnectedCallback")},sr=function(){var B=(0,l.A)(function*(Y){if(!(1&bn.$flags$)){const Be=G(Y);Be.$rmListeners$&&(Be.$rmListeners$.map(Ne=>Ne()),Be.$rmListeners$=void 0),null!=Be&&Be.$lazyInstance$?dn(Be.$lazyInstance$):null!=Be&&Be.$onReadyPromise$&&Be.$onReadyPromise$.then(()=>dn(Be.$lazyInstance$))}});return function(Be){return B.apply(this,arguments)}}(),vr=(B,Y={})=>{var Be;const nt=[],Pt=Y.exclude||[],Lt=Nn.customElements,en=ur.head,Yt=en.querySelector("meta[charset]"),qt=ur.createElement("style"),an=[],Wt=ur.querySelectorAll(`[${Fe}]`);let On,_r=!0,yr=0;for(Object.assign(bn,Y),bn.$resourcesUrl$=new URL(Y.resourcesUrl||"./",ur.baseURI).href,bn.$flags$|=2;yr<Wt.length;yr++)kn(Wt[yr].getAttribute(Fe),It(Wt[yr].innerHTML),!0);let Br=!1;if(B.map(E=>{E[1].map(ne=>{var x;const ae={$flags$:ne[0],$tagName$:ne[1],$members$:ne[2],$listeners$:ne[3]};4&ae.$flags$&&(Br=!0),ae.$members$=ne[2],ae.$listeners$=ne[3],ae.$attrsToReflect$=[],ae.$watchers$=null!==(x=ne[4])&&void 0!==x?x:{};const et=ae.$tagName$,Vn=class extends HTMLElement{constructor(Wr){super(Wr),tt(Wr=this,ae),1&ae.$flags$&&Wr.attachShadow({mode:"open",delegatesFocus:!!(16&ae.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),_r?an.push(this):bn.jmp(()=>(B=>{if(!(1&bn.$flags$)){const Y=G(B),Be=Y.$cmpMeta$,Ne=()=>{};if(1&Y.$flags$)ai(B,Y,Be.$listeners$),null!=Y&&Y.$lazyInstance$?Hn(Y.$lazyInstance$):null!=Y&&Y.$onReadyPromise$&&Y.$onReadyPromise$.then(()=>Hn(Y.$lazyInstance$));else{let nt;if(Y.$flags$|=1,nt=B.getAttribute(at),nt){if(1&Be.$flags$){const Pt=St(B.shadowRoot,Be,B.getAttribute("s-mode"));B.classList.remove(Pt+"-h",Pt+"-s")}((B,Y,Be,Ne)=>{const Pt=B.shadowRoot,Lt=[],Yt=Pt?[]:null,qt=Ne.$vnode$=fn(Y,null);bn.$orgLocNodes$||xe(ur.body,bn.$orgLocNodes$=new Map),B[at]=Be,B.removeAttribute(at),st(qt,Lt,[],Yt,B,B,Be),Lt.map(an=>{const Wt=an.$hostId$+"."+an.$nodeId$,On=bn.$orgLocNodes$.get(Wt),_r=an.$elm$;On&&Ie&&""===On["s-en"]&&On.parentNode.insertBefore(_r,On.nextSibling),Pt||(_r["s-hn"]=Y,On&&(_r["s-ol"]=On,_r["s-ol"]["s-nr"]=_r)),bn.$orgLocNodes$.delete(Wt)}),Pt&&Yt.map(an=>{an&&Pt.appendChild(an)})})(B,Be.$tagName$,nt,Y)}nt||12&Be.$flags$&&Pn(B);{let Pt=B;for(;Pt=Pt.parentNode||Pt.host;)if(1===Pt.nodeType&&Pt.hasAttribute("s-id")&&Pt["s-p"]||Pt["s-p"]){wr(Y,Y.$ancestorComponent$=Pt);break}}Be.$members$&&Object.entries(Be.$members$).map(([Pt,[Lt]])=>{if(31&Lt&&B.hasOwnProperty(Pt)){const en=B[Pt];delete B[Pt],B[Pt]=en}}),Mn(B,Y,Be)}Ne()}})(this))}disconnectedCallback(){bn.jmp(()=>sr(this))}componentOnReady(){return G(this).$onReadyPromise$}};ae.$lazyBundleId$=E[0],!Pt.includes(et)&&!Lt.get(et)&&(nt.push(et),Lt.define(et,cn(Vn,ae,1)))})}),nt.length>0&&(Br&&(qt.textContent+=Ye),qt.textContent+=nt+"{visibility:hidden}.hydrated{visibility:inherit}",qt.innerHTML.length)){qt.setAttribute("data-styles","");const E=null!==(Be=bn.$nonce$)&&void 0!==Be?Be:dt(ur);null!=E&&qt.setAttribute("nonce",E),en.insertBefore(qt,Yt?Yt.nextSibling:en.firstChild)}_r=!1,an.length?an.map(E=>E.connectedCallback()):bn.jmp(()=>On=setTimeout(K,30))},ai=(B,Y,Be,Ne)=>{Be&&Be.map(([nt,Pt,Lt])=>{const en=vt(B,nt),Yt=Rt(Y,Lt),qt=Mt(nt);bn.ael(en,Pt,Yt,qt),(Y.$rmListeners$=Y.$rmListeners$||[]).push(()=>bn.rel(en,Pt,Yt,qt))})},Rt=(B,Y)=>Be=>{try{256&B.$flags$?B.$lazyInstance$[Y](Be):(B.$queuedListeners$=B.$queuedListeners$||[]).push([Y,Be])}catch(Ne){yn(Ne)}},vt=(B,Y)=>4&Y?ur:8&Y?Nn:16&Y?ur.body:B,Mt=B=>Ce?{passive:!!(1&B),capture:!!(2&B)}:!!(2&B),ht=new WeakMap,G=B=>ht.get(B),De=(B,Y)=>ht.set(Y.$lazyInstance$=B,Y),tt=(B,Y)=>{const Be={$flags$:0,$hostElement$:B,$cmpMeta$:Y,$instanceValues$:new Map};return Be.$onInstancePromise$=new Promise(Ne=>Be.$onInstanceResolve$=Ne),Be.$onReadyPromise$=new Promise(Ne=>Be.$onReadyResolve$=Ne),B["s-p"]=[],B["s-rc"]=[],ai(B,Be,Y.$listeners$),ht.set(B,Be)},Ot=(B,Y)=>Y in B,yn=(B,Y)=>(0,console.error)(B,Y),Wn=new Map,Xn=(B,Y,Be)=>{const Ne=B.$tagName$.replace(/-/g,"_"),nt=B.$lazyBundleId$,Pt=Wn.get(nt);return Pt?Pt[Ne]:F(8996)(`./${nt}.entry.js`).then(Lt=>(Wn.set(nt,Lt),Lt[Ne]),yn)},En=new Map,Ur=[],Nn=typeof window<"u"?window:{},ur=Nn.document||{head:{}},bn={$flags$:0,$resourcesUrl$:"",jmp:B=>B(),raf:B=>requestAnimationFrame(B),ael:(B,Y,Be,Ne)=>B.addEventListener(Y,Be,Ne),rel:(B,Y,Be,Ne)=>B.removeEventListener(Y,Be,Ne),ce:(B,Y)=>new CustomEvent(B,Y)},hi=B=>{Object.assign(bn,B)},Ie=!0,Ce=(()=>{let B=!1;try{ur.addEventListener("e",null,Object.defineProperty({},"passive",{get(){B=!0}}))}catch{}return B})(),ge=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rt=[],kt=[],Bt=(B,Y)=>Be=>{B.push(Be),de||(de=!0,Y&&4&bn.$flags$?Un(_n):bn.raf(_n))},Jt=B=>{for(let Y=0;Y<B.length;Y++)try{B[Y](performance.now())}catch(Be){yn(Be)}B.length=0},_n=()=>{Jt(rt),Jt(kt),(de=rt.length>0)&&bn.raf(_n)},Un=B=>Promise.resolve(void 0).then(B),$r=Bt(rt,!1),_t=Bt(kt,!0)},8436:(un,it,F)=>{"use strict";F.d(it,{a:()=>de,b:()=>fn,c:()=>j,i:()=>Xt});var l=F(9081);class b{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,_e){const Pe=this.m.get(we);return void 0!==Pe?Pe:_e}getBoolean(we,_e=!1){const Pe=this.m.get(we);return void 0===Pe?_e:"string"==typeof Pe?"true"===Pe:!!Pe}getNumber(we,_e){const Pe=parseFloat(this.m.get(we));return isNaN(Pe)?void 0!==_e?_e:NaN:Pe}set(we,_e){this.m.set(we,_e)}}const j=new b,We="ionic-persist-config",de=(ut,we)=>("string"==typeof ut&&(we=ut,ut=void 0),(ut=>Ve(ut))(ut).includes(we)),Ve=(ut=window)=>{if(typeof ut>"u")return[];ut.Ionic=ut.Ionic||{};let we=ut.Ionic.platforms;return null==we&&(we=ut.Ionic.platforms=Ue(ut),we.forEach(_e=>ut.document.documentElement.classList.add(`plt-${_e}`))),we},Ue=ut=>{const we=j.get("platform");return Object.keys(dt).filter(_e=>{const Pe=null==we?void 0:we[_e];return"function"==typeof Pe?Pe(ut):dt[_e](ut)})},ke=ut=>!!(ze(ut,/iPad/i)||ze(ut,/Macintosh/i)&&je(ut)),Re=ut=>ze(ut,/android|sink/i),je=ut=>Ze(ut,"(any-pointer:coarse)"),Ye=ut=>fe(ut)||U(ut),fe=ut=>!!(ut.cordova||ut.phonegap||ut.PhoneGap),U=ut=>{const we=ut.Capacitor;return!(null==we||!we.isNative)},ze=(ut,we)=>we.test(ut.navigator.userAgent),Ze=(ut,we)=>{var _e;return null===(_e=ut.matchMedia)||void 0===_e?void 0:_e.call(ut,we).matches},dt={ipad:ke,iphone:ut=>ze(ut,/iPhone/i),ios:ut=>ze(ut,/iPhone|iPod/i)||ke(ut),android:Re,phablet:ut=>{const we=ut.innerWidth,_e=ut.innerHeight,Pe=Math.min(we,_e),Ae=Math.max(we,_e);return Pe>390&&Pe<520&&Ae>620&&Ae<800},tablet:ut=>{const we=ut.innerWidth,_e=ut.innerHeight,Pe=Math.min(we,_e),Ae=Math.max(we,_e);return ke(ut)||(ut=>Re(ut)&&!ze(ut,/mobile/i))(ut)||Pe>460&&Pe<820&&Ae>780&&Ae<1400},cordova:fe,capacitor:U,electron:ut=>ze(ut,/electron/i),pwa:ut=>{var we;return!!(null!==(we=ut.matchMedia)&&void 0!==we&&we.call(ut,"(display-mode: standalone)").matches||ut.navigator.standalone)},mobile:je,mobileweb:ut=>je(ut)&&!Ye(ut),desktop:ut=>!je(ut),hybrid:Ye};let $t;const fn=ut=>ut&&(0,l.g)(ut)||$t,Xt=(ut={})=>{if(typeof window>"u")return;const we=window.document,_e=window,Pe=_e.Ionic=_e.Ionic||{},Ae={};ut._ael&&(Ae.ael=ut._ael),ut._rel&&(Ae.rel=ut._rel),ut._ce&&(Ae.ce=ut._ce),(0,l.a)(Ae);const st=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ut=>{try{const we=ut.sessionStorage.getItem(We);return null!==we?JSON.parse(we):{}}catch{return{}}})(_e)),{persistConfig:!1}),Pe.config),(ut=>{const we={};return ut.location.search.slice(1).split("&").map(_e=>_e.split("=")).map(([_e,Pe])=>[decodeURIComponent(_e),decodeURIComponent(Pe)]).filter(([_e])=>((ut,we)=>ut.substr(0,we.length)===we)(_e,"ionic:")).map(([_e,Pe])=>[_e.slice(6),Pe]).forEach(([_e,Pe])=>{we[_e]=Pe}),we})(_e)),ut);j.reset(st),j.getBoolean("persistConfig")&&((ut,we)=>{try{ut.sessionStorage.setItem(We,JSON.stringify(we))}catch{return}})(_e,st),Ve(_e),Pe.config=j,Pe.mode=$t=j.get("mode",we.documentElement.getAttribute("mode")||(de(_e,"ios")?"ios":"md")),j.set("mode",$t),we.documentElement.setAttribute("mode",$t),we.documentElement.classList.add($t),j.getBoolean("_testing")&&j.set("animated",!1);const xe=rn=>{var Kt;return null===(Kt=rn.tagName)||void 0===Kt?void 0:Kt.startsWith("ION-")},zt=rn=>["ios","md"].includes(rn);(0,l.c)(rn=>{for(;rn;){const Kt=rn.mode||rn.getAttribute("mode");if(Kt){if(zt(Kt))return Kt;xe(rn)&&console.warn('Invalid ionic mode: "'+Kt+'", expected: "ios" or "md"')}rn=rn.parentElement}return $t})}},2604:(un,it,F)=>{"use strict";F.r(it),F.d(it,{iosTransitionAnimation:()=>Ue,shadow:()=>re});var l=F(3503),b=F(1497);F(8476),F(9081);const ye=ke=>document.querySelector(`${ke}.ion-cloned-element`),re=ke=>ke.shadowRoot||ke,Ee=ke=>{const ct="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ct){const Re=ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(Le):null}return ke.querySelector(Le)},We=(ke,ct)=>{const Le="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let Re=[];if(null!=Le){const $e=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=$e&&(Re=$e.querySelectorAll("ion-buttons"))}else Re=ke.querySelectorAll("ion-buttons");for(const $e of Re){const at=$e.closest("ion-header"),Fe=at&&!at.classList.contains("header-collapse-condense-inactive"),je=$e.querySelector("ion-back-button"),He=$e.classList.contains("buttons-collapse");if(null!==je&&("start"===$e.slot||""===$e.slot)&&(He&&Fe&&ct||!He))return je}return null},de=(ke,ct,Le,Re,$e,at,Fe,je,He)=>{var Ye,fe;const U=ct?`calc(100% - ${$e.right+4}px)`:$e.left-4+"px",be=ct?"right":"left",Me=ct?"left":"right",ze=ct?"right":"left",Ze=(null===(Ye=at.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(fe=je.textContent)||void 0===fe?void 0:fe.trim()),$t=(He.height-Oe)/Fe.height,fn=Ze?`scale(${He.width/Fe.width}, ${$t})`:`scale(${$t})`,Xt="scale(1)",we=re(Re).querySelector("ion-icon").getBoundingClientRect(),_e=ct?we.width/2-(we.right-$e.right)+"px":$e.left-we.width/2+"px",Pe=ct?`-${window.innerWidth-$e.right}px`:`${$e.left}px`,Ae=`${He.top}px`,st=`${$e.top}px`,rn=Le?[{offset:0,transform:`translate3d(${Pe}, ${st}, 0)`},{offset:1,transform:`translate3d(${_e}, ${Ae}, 0)`}]:[{offset:0,transform:`translate3d(${_e}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${st}, 0)`}],An=Le?[{offset:0,opacity:1,transform:Xt},{offset:1,opacity:0,transform:fn}]:[{offset:0,opacity:0,transform:fn},{offset:1,opacity:1,transform:Xt}],Tt=Le?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kn=(0,l.c)(),St=(0,l.c)(),Et=(0,l.c)(),Dt=ye("ion-back-button"),It=re(Dt).querySelector(".button-text"),hn=re(Dt).querySelector("ion-icon");Dt.text=Re.text,Dt.mode=Re.mode,Dt.icon=Re.icon,Dt.color=Re.color,Dt.disabled=Re.disabled,Dt.style.setProperty("display","block"),Dt.style.setProperty("position","fixed"),St.addElement(hn),kn.addElement(It),Et.addElement(Dt),Et.beforeStyles({position:"absolute",top:"0px",[ze]:"0px"}).keyframes(rn),kn.beforeStyles({"transform-origin":`${be} top`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),Dt.style.setProperty(be,U)}).afterAddWrite(()=>{Re.style.setProperty("display",""),Dt.style.setProperty("display","none"),Dt.style.removeProperty(be)}).keyframes(An),St.beforeStyles({"transform-origin":`${Me} center`}).keyframes(Tt),ke.addAnimation([kn,St,Et])},Ve=(ke,ct,Le,Re,$e,at,Fe,je)=>{var He,Ye;const fe=ct?"right":"left",U=ct?`calc(100% - ${$e.right}px)`:`${$e.left}px`,Me=`${$e.top}px`,Ze=ct?`-${window.innerWidth-je.right-8}px`:je.x-8+"px",$t=je.y-2+"px",fn=(null===(He=Fe.textContent)||void 0===He?void 0:He.trim())===(null===(Ye=Re.textContent)||void 0===Ye?void 0:Ye.trim()),ut=je.height/(at.height-Oe),we="scale(1)",_e=fn?`scale(${je.width/at.width}, ${ut})`:`scale(${ut})`,st=Le?[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${$t}, 0) ${_e}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Me}, 0) ${we}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Me}, 0) ${we}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${$t}, 0) ${_e}`}],xe=ye("ion-title"),zt=(0,l.c)();xe.innerText=Re.innerText,xe.size=Re.size,xe.color=Re.color,zt.addElement(xe),zt.beforeStyles({"transform-origin":`${fe} top`,height:`${$e.height}px`,display:"",position:"relative",[fe]:U}).beforeAddWrite(()=>{Re.style.setProperty("opacity","0")}).afterAddWrite(()=>{Re.style.setProperty("opacity",""),xe.style.setProperty("display","none")}).keyframes(st),ke.addAnimation(zt)},Ue=(ke,ct)=>{var Le;try{const Re="cubic-bezier(0.32,0.72,0,1)",$e="opacity",at="transform",Fe="0%",He="rtl"===ke.ownerDocument.dir,Ye=He?"-99.5%":"99.5%",fe=He?"33%":"-33%",U=ct.enteringEl,be=ct.leavingEl,Me="back"===ct.direction,ze=U.querySelector(":scope > ion-content"),Ze=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),dt=U.querySelectorAll(":scope > ion-header > ion-toolbar"),$t=(0,l.c)(),fn=(0,l.c)();if($t.addElement(U).duration((null!==(Le=ct.duration)&&void 0!==Le?Le:0)||540).easing(ct.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),be&&null!=ke){const _e=(0,l.c)();_e.addElement(ke),$t.addAnimation(_e)}if(ze||0!==dt.length||0!==Ze.length?(fn.addElement(ze),fn.addElement(Ze)):fn.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$t.addAnimation(fn),Me?fn.beforeClearStyles([$e]).fromTo("transform",`translateX(${fe})`,`translateX(${Fe})`).fromTo($e,.8,1):fn.beforeClearStyles([$e]).fromTo("transform",`translateX(${Ye})`,`translateX(${Fe})`),ze){const _e=re(ze).querySelector(".transition-effect");if(_e){const Pe=_e.querySelector(".transition-cover"),Ae=_e.querySelector(".transition-shadow"),st=(0,l.c)(),xe=(0,l.c)(),zt=(0,l.c)();st.addElement(_e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),xe.addElement(Pe).beforeClearStyles([$e]).fromTo($e,0,.1),zt.addElement(Ae).beforeClearStyles([$e]).fromTo($e,.03,.7),st.addAnimation([xe,zt]),fn.addAnimation([st])}}const Xt=U.querySelector("ion-header.header-collapse-condense"),{forward:ut,backward:we}=((ke,ct,Le,Re,$e)=>{const at=We(Re,Le),Fe=Ee($e),je=Ee(Re),He=We($e,Le),Ye=null!==at&&null!==Fe&&!Le,fe=null!==je&&null!==He&&Le;if(Ye){const U=Fe.getBoundingClientRect(),be=at.getBoundingClientRect(),Me=re(at).querySelector(".button-text"),ze=Me.getBoundingClientRect(),dt=re(Fe).querySelector(".toolbar-title").getBoundingClientRect();Ve(ke,ct,Le,Fe,U,dt,Me,ze),de(ke,ct,Le,at,be,Me,ze,Fe,dt)}else if(fe){const U=je.getBoundingClientRect(),be=He.getBoundingClientRect(),Me=re(He).querySelector(".button-text"),ze=Me.getBoundingClientRect(),dt=re(je).querySelector(".toolbar-title").getBoundingClientRect();Ve(ke,ct,Le,je,U,dt,Me,ze),de(ke,ct,Le,He,be,Me,ze,je,dt)}return{forward:Ye,backward:fe}})($t,He,Me,U,be);if(dt.forEach(_e=>{const Pe=(0,l.c)();Pe.addElement(_e),$t.addAnimation(Pe);const Ae=(0,l.c)();Ae.addElement(_e.querySelector("ion-title"));const st=(0,l.c)(),xe=Array.from(_e.querySelectorAll("ion-buttons,[menuToggle]")),zt=_e.closest("ion-header"),rn=null==zt?void 0:zt.classList.contains("header-collapse-condense-inactive");let Kt;Kt=xe.filter(Me?Tt=>{const kn=Tt.classList.contains("buttons-collapse");return kn&&!rn||!kn}:Tt=>!Tt.classList.contains("buttons-collapse")),st.addElement(Kt);const Ft=(0,l.c)();Ft.addElement(_e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const An=(0,l.c)();An.addElement(re(_e).querySelector(".toolbar-background"));const Qn=(0,l.c)(),$n=_e.querySelector("ion-back-button");if($n&&Qn.addElement($n),Pe.addAnimation([Ae,st,Ft,An,Qn]),st.fromTo($e,.01,1),Ft.fromTo($e,.01,1),Me)rn||Ae.fromTo("transform",`translateX(${fe})`,`translateX(${Fe})`).fromTo($e,.01,1),Ft.fromTo("transform",`translateX(${fe})`,`translateX(${Fe})`),Qn.fromTo($e,.01,1);else if(Xt||Ae.fromTo("transform",`translateX(${Ye})`,`translateX(${Fe})`).fromTo($e,.01,1),Ft.fromTo("transform",`translateX(${Ye})`,`translateX(${Fe})`),An.beforeClearStyles([$e,"transform"]),(null==zt?void 0:zt.translucent)?An.fromTo("transform",He?"translateX(-100%)":"translateX(100%)","translateX(0px)"):An.fromTo($e,.01,"var(--opacity)"),ut||Qn.fromTo($e,.01,1),$n&&!ut){const kn=(0,l.c)();kn.addElement(re($n).querySelector(".button-text")).fromTo("transform",He?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Pe.addAnimation(kn)}}),be){const _e=(0,l.c)(),Pe=be.querySelector(":scope > ion-content"),Ae=be.querySelectorAll(":scope > ion-header > ion-toolbar"),st=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Pe||0!==Ae.length||0!==st.length?(_e.addElement(Pe),_e.addElement(st)):_e.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),$t.addAnimation(_e),Me){_e.beforeClearStyles([$e]).fromTo("transform",`translateX(${Fe})`,He?"translateX(-100%)":"translateX(100%)");const xe=(0,b.g)(be);$t.afterAddWrite(()=>{"normal"===$t.getDirection()&&xe.style.setProperty("display","none")})}else _e.fromTo("transform",`translateX(${Fe})`,`translateX(${fe})`).fromTo($e,1,.8);if(Pe){const xe=re(Pe).querySelector(".transition-effect");if(xe){const zt=xe.querySelector(".transition-cover"),rn=xe.querySelector(".transition-shadow"),Kt=(0,l.c)(),Ft=(0,l.c)(),An=(0,l.c)();Kt.addElement(xe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(zt).beforeClearStyles([$e]).fromTo($e,.1,0),An.addElement(rn).beforeClearStyles([$e]).fromTo($e,.7,.03),Kt.addAnimation([Ft,An]),_e.addAnimation([Kt])}}Ae.forEach(xe=>{const zt=(0,l.c)();zt.addElement(xe);const rn=(0,l.c)();rn.addElement(xe.querySelector("ion-title"));const Kt=(0,l.c)(),Ft=xe.querySelectorAll("ion-buttons,[menuToggle]"),An=xe.closest("ion-header"),Qn=null==An?void 0:An.classList.contains("header-collapse-condense-inactive"),$n=Array.from(Ft).filter(It=>{const hn=It.classList.contains("buttons-collapse");return hn&&!Qn||!hn});Kt.addElement($n);const Tt=(0,l.c)(),kn=xe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");kn.length>0&&Tt.addElement(kn);const St=(0,l.c)();St.addElement(re(xe).querySelector(".toolbar-background"));const Et=(0,l.c)(),Dt=xe.querySelector("ion-back-button");if(Dt&&Et.addElement(Dt),zt.addAnimation([rn,Kt,Tt,Et,St]),$t.addAnimation(zt),Et.fromTo($e,.99,0),Kt.fromTo($e,.99,0),Tt.fromTo($e,.99,0),Me){if(Qn||rn.fromTo("transform",`translateX(${Fe})`,He?"translateX(-100%)":"translateX(100%)").fromTo($e,.99,0),Tt.fromTo("transform",`translateX(${Fe})`,He?"translateX(-100%)":"translateX(100%)"),St.beforeClearStyles([$e,"transform"]),(null==An?void 0:An.translucent)?St.fromTo("transform","translateX(0px)",He?"translateX(-100%)":"translateX(100%)"):St.fromTo($e,"var(--opacity)",0),Dt&&!we){const hn=(0,l.c)();hn.addElement(re(Dt).querySelector(".button-text")).fromTo("transform",`translateX(${Fe})`,`translateX(${(He?-124:124)+"px"})`),zt.addAnimation(hn)}}else Qn||rn.fromTo("transform",`translateX(${Fe})`,`translateX(${fe})`).fromTo($e,.99,0).afterClearStyles([at,$e]),Tt.fromTo("transform",`translateX(${Fe})`,`translateX(${fe})`).afterClearStyles([at,$e]),Et.afterClearStyles([$e]),rn.afterClearStyles([$e]),Kt.afterClearStyles([$e])})}return $t}catch(Re){throw Re}},Oe=10},3003:(un,it,F)=>{"use strict";F.r(it),F.d(it,{mdTransitionAnimation:()=>he});var l=F(3503),b=F(1497);F(8476),F(9081);const he=(ye,re)=>{var Ee,We,le;const Ue="back"===re.direction,ke=re.leavingEl,ct=(0,b.g)(re.enteringEl),Le=ct.querySelector("ion-toolbar"),Re=(0,l.c)();if(Re.addElement(ct).fill("both").beforeRemoveClass("ion-page-invisible"),Ue?Re.duration((null!==(Ee=re.duration)&&void 0!==Ee?Ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Re.duration((null!==(We=re.duration)&&void 0!==We?We:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Le){const $e=(0,l.c)();$e.addElement(Le),Re.addAnimation($e)}if(ke&&Ue){Re.duration((null!==(le=re.duration)&&void 0!==le?le:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const $e=(0,l.c)();$e.addElement((0,b.g)(ke)).onFinish(at=>{1===at&&$e.elements.length>0&&$e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Re.addAnimation($e)}return Re}},4133:(un,it,F)=>{"use strict";F.d(it,{B:()=>Kt,G:()=>Ft,O:()=>An,a:()=>Ve,b:()=>Ue,c:()=>Le,d:()=>Qn,e:()=>$n,f:()=>Xt,g:()=>we,h:()=>Ae,i:()=>xe,j:()=>$e,k:()=>at,m:()=>ke,n:()=>Ye,o:()=>$t,s:()=>rn});var l=F(467),b=F(8476),j=F(9457),oe=F(8436),he=F(5938),ye=F(5638),re=F(4929);let Ee=0,We=0;const le=new WeakMap,de=St=>({create:Et=>Fe(St,Et),dismiss:(Et,Dt,It)=>ze(document,Et,Dt,St,It),getTop:()=>(0,l.A)(function*(){return $t(document,St)})()}),Ve=de("ion-alert"),Ue=de("ion-action-sheet"),ke=de("ion-modal"),Le=de("ion-popover"),$e=St=>{typeof document<"u"&&Me(document);const Et=Ee++;St.overlayIndex=Et},at=St=>(St.hasAttribute("id")||(St.id="ion-overlay-"+ ++We),St.id),Fe=(St,Et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(St).then(()=>{const Dt=document.createElement(St);return Dt.classList.add("overlay-hidden"),Object.assign(Dt,Object.assign(Object.assign({},Et),{hasController:!0})),_e(document).appendChild(Dt),new Promise(It=>(0,ye.c)(Dt,It))}):Promise.resolve(),je='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ye=(St,Et)=>{const Dt=St.querySelector(je);U(Dt,Et)},fe=(St,Et)=>{const Dt=Array.from(St.querySelectorAll(je));U(Dt.length>0?Dt[Dt.length-1]:null,Et)},U=(St,Et)=>{let Dt=St;const It=null==St?void 0:St.shadowRoot;It&&(Dt=It.querySelector(je)||St),Dt?(0,ye.f)(Dt):Et.focus()},Me=St=>{0===Ee&&(Ee=1,St.addEventListener("focus",Et=>{((St,Et)=>{const Dt=$t(Et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),It=St.target;Dt&&It&&!Dt.classList.contains("ion-disable-focus-trap")&&(Dt.shadowRoot?(()=>{if(Dt.contains(It))Dt.lastFocus=It;else if("ION-TOAST"===It.tagName)U(Dt.lastFocus,Dt);else{const Fn=Dt.lastFocus;Ye(Dt,Dt),Fn===Et.activeElement&&fe(Dt,Dt),Dt.lastFocus=Et.activeElement}})():(()=>{if(Dt===It)Dt.lastFocus=void 0;else if("ION-TOAST"===It.tagName)U(Dt.lastFocus,Dt);else{const Fn=(0,ye.g)(Dt);if(!Fn.contains(It))return;const qn=Fn.querySelector(".ion-overlay-wrapper");if(!qn)return;if(qn.contains(It)||It===Fn.querySelector("ion-backdrop"))Dt.lastFocus=It;else{const Yn=Dt.lastFocus;Ye(qn,Dt),Yn===Et.activeElement&&fe(qn,Dt),Dt.lastFocus=Et.activeElement}}})())})(Et,St)},!0),St.addEventListener("ionBackButton",Et=>{const Dt=$t(St);null!=Dt&&Dt.backdropDismiss&&Et.detail.register(j.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Dt.dismiss(void 0,Kt)})}),(0,j.shouldUseCloseWatcher)()||St.addEventListener("keydown",Et=>{if("Escape"===Et.key){const Dt=$t(St);null!=Dt&&Dt.backdropDismiss&&Dt.dismiss(void 0,Kt)}}))},ze=(St,Et,Dt,It,hn)=>{const Tn=$t(St,It,hn);return Tn?Tn.dismiss(Et,Dt):Promise.reject("overlay does not exist")},dt=(St,Et)=>((St,Et)=>(void 0===Et&&(Et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(St.querySelectorAll(Et)).filter(Dt=>Dt.overlayIndex>0)))(St,Et).filter(Dt=>!(St=>St.classList.contains("overlay-hidden"))(Dt)),$t=(St,Et,Dt)=>{const It=dt(St,Et);return void 0===Dt?It[It.length-1]:It.find(hn=>hn.id===Dt)},fn=(St=!1)=>{const Dt=_e(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Dt&&(St?Dt.setAttribute("aria-hidden","true"):Dt.removeAttribute("aria-hidden"))},Xt=function(){var St=(0,l.A)(function*(Et,Dt,It,hn,Tn){var Fn,qn;if(Et.presented)return;fn(!0),Tt(Et.el),Et.presented=!0,Et.willPresent.emit(),null===(Fn=Et.willPresentShorthand)||void 0===Fn||Fn.emit();const Yn=(0,oe.b)(Et),nr=Et.enterAnimation?Et.enterAnimation:oe.c.get(Dt,"ios"===Yn?It:hn);(yield Pe(Et,nr,Et.el,Tn))&&(Et.didPresent.emit(),null===(qn=Et.didPresentShorthand)||void 0===qn||qn.emit()),"ION-TOAST"!==Et.el.tagName&&ut(Et.el),Et.keyboardClose&&(null===document.activeElement||!Et.el.contains(document.activeElement))&&Et.el.focus(),Et.el.removeAttribute("aria-hidden")});return function(Dt,It,hn,Tn,Fn){return St.apply(this,arguments)}}(),ut=function(){var St=(0,l.A)(function*(Et){let Dt=document.activeElement;if(!Dt)return;const It=null==Dt?void 0:Dt.shadowRoot;It&&(Dt=It.querySelector(je)||Dt),yield Et.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Dt.focus()});return function(Dt){return St.apply(this,arguments)}}(),we=function(){var St=(0,l.A)(function*(Et,Dt,It,hn,Tn,Fn,qn){var Yn,nr;if(!Et.presented)return!1;void 0!==b.d&&1===dt(b.d).length&&fn(!1),Et.presented=!1;try{Et.el.style.setProperty("pointer-events","none"),Et.willDismiss.emit({data:Dt,role:It}),null===(Yn=Et.willDismissShorthand)||void 0===Yn||Yn.emit({data:Dt,role:It});const mn=(0,oe.b)(Et),wn=Et.leaveAnimation?Et.leaveAnimation:oe.c.get(hn,"ios"===mn?Tn:Fn);It!==Ft&&(yield Pe(Et,wn,Et.el,qn)),Et.didDismiss.emit({data:Dt,role:It}),null===(nr=Et.didDismissShorthand)||void 0===nr||nr.emit({data:Dt,role:It}),(le.get(Et)||[]).forEach(Nr=>Nr.destroy()),le.delete(Et),Et.el.classList.add("overlay-hidden"),Et.el.style.removeProperty("pointer-events"),void 0!==Et.el.lastFocus&&(Et.el.lastFocus=void 0)}catch(mn){console.error(mn)}return Et.el.remove(),kn(),!0});return function(Dt,It,hn,Tn,Fn,qn,Yn){return St.apply(this,arguments)}}(),_e=St=>St.querySelector("ion-app")||St.body,Pe=function(){var St=(0,l.A)(function*(Et,Dt,It,hn){It.classList.remove("overlay-hidden");const Fn=Dt(Et.el,hn);(!Et.animated||!oe.c.getBoolean("animated",!0))&&Fn.duration(0),Et.keyboardClose&&Fn.beforeAddWrite(()=>{const Yn=It.ownerDocument.activeElement;null!=Yn&&Yn.matches("input,ion-input, ion-textarea")&&Yn.blur()});const qn=le.get(Et)||[];return le.set(Et,[...qn,Fn]),yield Fn.play(),!0});return function(Dt,It,hn,Tn){return St.apply(this,arguments)}}(),Ae=(St,Et)=>{let Dt;const It=new Promise(hn=>Dt=hn);return st(St,Et,hn=>{Dt(hn.detail)}),It},st=(St,Et,Dt)=>{const It=hn=>{(0,ye.b)(St,Et,It),Dt(hn)};(0,ye.a)(St,Et,It)},xe=St=>"cancel"===St||St===Kt,zt=St=>St(),rn=(St,Et)=>{if("function"==typeof St)return oe.c.get("_zoneGate",zt)(()=>{try{return St(Et)}catch(It){throw It}})},Kt="backdrop",Ft="gesture",An=39,Qn=St=>{let Dt,Et=!1;const It=(0,he.C)(),hn=(qn=!1)=>{if(Dt&&!qn)return{delegate:Dt,inline:Et};const{el:Yn,hasController:nr,delegate:mn}=St;return Et=null!==Yn.parentNode&&!nr,Dt=Et?mn||It:mn,{inline:Et,delegate:Dt}};return{attachViewToDom:function(){var qn=(0,l.A)(function*(Yn){const{delegate:nr}=hn(!0);if(nr)return yield nr.attachViewToDom(St.el,Yn);const{hasController:mn}=St;if(mn&&void 0!==Yn)throw new Error("framework delegate is missing");return null});return function(nr){return qn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:qn}=hn();qn&&void 0!==St.el&&qn.removeViewFromDom(St.el.parentElement,St.el)}}},$n=()=>{let St;const Et=()=>{St&&(St(),St=void 0)};return{addClickListener:(It,hn)=>{Et();const Tn=void 0!==hn?document.getElementById(hn):null;Tn?St=((qn,Yn)=>{const nr=()=>{Yn.present()};return qn.addEventListener("click",nr),()=>{qn.removeEventListener("click",nr)}})(Tn,It):(0,re.p)(`A trigger element with the ID "${hn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,It)},removeClickListener:Et}},Tt=St=>{var Et;if(void 0===b.d)return;const Dt=dt(b.d);for(let It=Dt.length-1;It>=0;It--){const hn=Dt[It],Tn=null!==(Et=Dt[It+1])&&void 0!==Et?Et:St;(Tn.hasAttribute("aria-hidden")||"ION-TOAST"!==Tn.tagName)&&hn.setAttribute("aria-hidden","true")}},kn=()=>{if(void 0===b.d)return;const St=dt(b.d);for(let Et=St.length-1;Et>=0;Et--){const Dt=St[Et];if(Dt.removeAttribute("aria-hidden"),"ION-TOAST"!==Dt.tagName)break}}},7669:(un,it,F)=>{"use strict";F.d(it,{c:()=>l});const l={production:!0,firebaseConfig:{apiKey:"AIzaSyDxWIdrkTY0L7-Iklpa6pkJdXKeTDZulO4",authDomain:"blackball-e354f.firebaseapp.com",projectId:"blackball-e354f",storageBucket:"blackball-e354f.appspot.com",messagingSenderId:"455835600024",appId:"1:455835600024:web:a5a2d49ae034774752bced",measurementId:"G-L4VZK8DWKG"}}},6331:(un,it,F)=>{"use strict";var l=F(345),b=F(4438),j=F(4964),oe=F(7157),he=F(9364),ye=F(467),re=F(2214),Ee=F(2824),We=F(7669),le=F(5155),de=F(177);const Ve=(0,re.Wp)(We.c.firebaseConfig),Ue=(0,Ee.aU)(Ve);let Oe=(()=>{var X;class Ct{constructor(on,Jn){this.fireStore=on,this._location=Jn}ngOnInit(){}add(){var on=this;return(0,ye.A)(function*(){on.player=on.fireStore.collection("Players"),on.name=document.getElementById("name").value,yield(0,Ee.gS)((0,Ee.rJ)(Ue,"Players"),{name:on.name,date:Date.now().valueOf(),total:0,games:0}),on._location.back()})()}back(){this._location.back()}}return(X=Ct).\u0275fac=function(on){return new(on||X)(b.rXU(le.Qe),b.rXU(de.aZ))},X.\u0275cmp=b.VBU({type:X,selectors:[["app-add"]],decls:12,vars:1,consts:[[3,"translucent"],[2,"background","#003459","color","white"],[2,"font-family","Aref Ruqaa, serif","text-align","center","font-size","xxx-large"],["name","chevron-forward-circle-outline",2,"position","fixed","left","0","top","11px",3,"click"],["id","name","label","\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u062a\u0631\u0643 \u062c\u062f\u064a\u062f","labelPlacement","stacked","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u062a\u0631\u0643"],["expand","block",3,"click"]],template:function(on,Jn){1&on&&(b.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1)(3,"div",2)(4,"ion-icon",3),b.bIt("click",function(){return Jn.back()}),b.k0s(),b.EFF(5," \u0625\u0636\u0627\u0641\u0629 \u0632\u0628\u0648\u0646 \u062c\u062f\u064a\u062f "),b.k0s()()()(),b.j41(6,"ion-content")(7,"div")(8,"ion-item"),b.nrm(9,"ion-input",4),b.k0s(),b.j41(10,"ion-button",5),b.bIt("click",function(){return Jn.add()}),b.EFF(11,"\u0625\u0636\u0627\u0641\u0629"),b.k0s()()()),2&on&&b.Y8G("translucent",!0)},dependencies:[he.Jm,he.W9,he.eU,he.iq,he.$w,he.uz,he.BC,he.ai,he.Gw]}),Ct})();class ke{constructor(){this.id="",this.price=0}}const ct=X=>["/adddetails/",X];function Le(X,Ct){if(1&X){const jt=b.RV6();b.j41(0,"ion-col",17)(1,"ion-icon",18),b.bIt("click",function(){const Jn=b.eBV(jt).$implicit,jr=b.XpG();return b.Njj(jr.presentAlert(Jn))}),b.k0s(),b.j41(2,"ion-card",19)(3,"ion-card-header")(4,"ion-card-title",20),b.EFF(5),b.k0s(),b.j41(6,"ion-card-subtitle",20),b.EFF(7),b.k0s()()()()}if(2&X){const jt=Ct.$implicit;b.R7$(5),b.JRh(jt.name),b.R7$(2),b.JRh(jt.price)}}function Re(X,Ct){1&X&&(b.j41(0,"div",21),b.EFF(1,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a"),b.k0s())}let $e=(()=>{var X;class Ct{constructor(on,Jn,jr){this.afs=on,this._location=Jn,this.alertController=jr,this.route=(0,b.WQX)(j.nX),this.items=[],this.games=0,this.total=0,this.PlayerName="",this.item=new ke,this.getData()}getData(){this.PlayerId=String(this.route.snapshot.params.id),this.afs.collection("Players").doc(this.PlayerId).ref.onSnapshot(on=>{this.games=on.data().games,this.PlayerName=on.data().name}),this.afs.collection("details").ref.where("PlayerId","==",this.PlayerId).onSnapshot(on=>{this.items=[],this.total=0,on.docs.forEach(Jn=>{var jr=Jn.id;this.item=Jn.data(),this.item.id=jr,this.items.push(this.item),this.total+=Jn.data().price}),this.total+=1.5*this.games})}ngOnInit(){}addgame(){this.games+=1,this.total+=1.5,this.afs.collection("Players").doc(this.PlayerId).update({total:this.total,games:this.games})}removegame(){this.games-=1,this.total-=1.5,this.afs.collection("Players").doc(this.PlayerId).update({total:this.total,games:this.games})}back(){this._location.back()}presentAlert(on){var Jn=this;return(0,ye.A)(function*(){yield(yield Jn.alertController.create({header:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641 \u061f",buttons:[{text:"\u0644\u0627",role:"cancel",handler:()=>{}},{text:"\u0646\u0639\u0645",role:"confirm",handler:()=>{Jn.deleteItem(on)}}]})).present()})()}deleteItem(on){this.total-=on.price,this.afs.collection("Players").doc(this.PlayerId).update({total:this.total}).then(Jn=>{this.afs.collection("details").doc(on.id).delete(),this.items.forEach((jr,Ri)=>{jr===on&&this.items.splice(Ri,1)})})}handleRefresh(on){setTimeout(()=>{this.getData(),on.target.complete()},2e3)}}return(X=Ct).\u0275fac=function(on){return new(on||X)(b.rXU(le.Qe),b.rXU(de.aZ),b.rXU(he.hG))},X.\u0275cmp=b.VBU({type:X,selectors:[["app-details"]],decls:23,vars:12,consts:[[3,"translucent"],[2,"height","80px"],[2,"height","80px","background","#003459","color","white"],[2,"font-family","Aref Ruqaa, serif","text-align","center","font-size","x-large"],["name","chevron-forward-circle-outline",2,"position","fixed","left","0","top","11px",3,"click"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh","pullFactor","pullMin","pullMax"],["size","4",4,"ngFor","ngForOf"],["color","medium","style","padding: 20px;align-self: center;font-size: 30px;font-weight: bold;",4,"ngIf"],["col-5","",2,"text-align","center"],["ion-button","","icon-only","",2,"color","white","border-radius","0 10px 10px 0","background","#2b9c18","width","25%",3,"click"],["size","large","name","add-outline"],["disabled","","ion-button","","icon-only","",2,"font-size","30px","background","white","width","25%","color","red","font-weight","bold"],["ion-button","","icon-only","",2,"color","white","border-radius","10px 0 0 10px","background","red","width","25%",3,"click"],["size","large","name","remove-outline"],[2,"text-align","center"],["name","add-circle-outline","color","primary",3,"routerLink"],["size","4"],["name","close-circle-outline",2,"color","red","position","absolute","font-size","x-large","padding","10px","left","10px","z-index","2","top","10px",3,"click"],[2,"background","#007ea7"],[2,"color","white","text-align","center","font-family","Aref Ruqaa, serif"],["color","medium",2,"padding","20px","align-self","center","font-size","30px","font-weight","bold"]],template:function(on,Jn){1&on&&(b.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2)(3,"div",3)(4,"ion-icon",4),b.bIt("click",function(){return Jn.back()}),b.k0s(),b.EFF(5),b.k0s()()()(),b.j41(6,"ion-content",5)(7,"ion-refresher",6),b.bIt("ionRefresh",function(Ri){return Jn.handleRefresh(Ri)}),b.nrm(8,"ion-refresher-content"),b.k0s(),b.j41(9,"ion-grid")(10,"ion-row"),b.DNE(11,Le,8,2,"ion-col",7),b.k0s()(),b.DNE(12,Re,2,0,"div",8),b.j41(13,"ion-item",9)(14,"ion-item",10),b.bIt("click",function(){return Jn.addgame()}),b.nrm(15,"ion-icon",11),b.k0s(),b.j41(16,"ion-item",12),b.EFF(17),b.k0s(),b.j41(18,"ion-item",13),b.bIt("click",function(){return Jn.removegame()}),b.nrm(19,"ion-icon",14),b.k0s()()(),b.j41(20,"ion-footer")(21,"ion-toolbar",15),b.nrm(22,"ion-icon",16),b.k0s()()),2&on&&(b.Y8G("translucent",!0),b.R7$(5),b.SpI(" \u062a\u0641\u0627\u0635\u064a\u0644 \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0632\u0628\u0648\u0646 ",Jn.PlayerName," "),b.R7$(),b.Y8G("fullscreen",!0),b.R7$(),b.Y8G("pullFactor",.5)("pullMin",100)("pullMax",200),b.R7$(4),b.Y8G("ngForOf",Jn.items),b.R7$(),b.Y8G("ngIf",!Jn.items||0==Jn.items.length),b.R7$(5),b.SpI(" ",Jn.games," "),b.R7$(5),b.Y8G("routerLink",b.eq3(10,ct,Jn.PlayerId)))},dependencies:[de.Sq,de.bT,he.b_,he.ME,he.HW,he.tN,he.hU,he.W9,he.M0,he.lO,he.eU,he.iq,he.uz,he.To,he.Ki,he.ln,he.BC,he.ai,he.N7,j.Wk],styles:["ion-icon[_ngcontent-%COMP%]{font-size:64px}.alert-wrapper.sc-ion-alert-md[_ngcontent-%COMP%]{font-family:Aref Ruqaa}"]}),Ct})();var at=F(4341);const je=[{path:"",loadChildren:()=>F.e(5695).then(F.bind(F,5695)).then(X=>X.TabsPageModule)},{path:"add",component:Oe},{path:"details/:id",component:$e},{path:"adddetails/:id",component:(()=>{var X;class Ct{constructor(on,Jn){this.fireStore=on,this._location=Jn,this.route=(0,b.WQX)(j.nX),this.total=0,this.getData()}getData(){this.PlayerId=String(this.route.snapshot.params.id),this.fireStore.collection("Players").doc(this.PlayerId).ref.onSnapshot(on=>{this.total=0,this.total=on.data().total})}ngOnInit(){}add(){var on=this;return(0,ye.A)(function*(){on.name=document.getElementById("name").value,on.price=parseInt(document.getElementById("price").value),on.fireStore.collection("details").ref.add({name:on.name,price:on.price,PlayerId:on.PlayerId});var Jn=on.total+on.price;on.fireStore.collection("Players").doc(on.PlayerId).update({total:Jn}).then(jr=>{on._location.back()})})()}back(){this._location.back()}}return(X=Ct).\u0275fac=function(on){return new(on||X)(b.rXU(le.Qe),b.rXU(de.aZ))},X.\u0275cmp=b.VBU({type:X,selectors:[["app-addrespons"]],inputs:{price:"price"},decls:14,vars:3,consts:[[3,"translucent"],[2,"background","#003459","color","white"],[2,"font-family","Aref Ruqaa, serif","text-align","center","font-size","xxx-large"],["name","chevron-forward-circle-outline",2,"position","fixed","left","0","top","11px",3,"click"],["id","name","label","\u0637\u0644\u0628 \u0627\u0644\u0632\u0628\u0648\u0646","labelPlacement","stacked","placeholder","\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0637\u0644\u0628"],["type","number","id","price","label","\u0633\u0639\u0631 \u0627\u0644\u0637\u0644\u0628","labelPlacement","stacked","placeholder","\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631",3,"ngModelChange","ngModel"],["expand","block",3,"click","disabled"]],template:function(on,Jn){1&on&&(b.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1)(3,"div",2)(4,"ion-icon",3),b.bIt("click",function(){return Jn.back()}),b.k0s(),b.EFF(5," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062c\u062f\u064a\u062f "),b.k0s()()()(),b.j41(6,"ion-content")(7,"div")(8,"ion-item"),b.nrm(9,"ion-input",4),b.k0s(),b.j41(10,"ion-item")(11,"ion-input",5),b.mxI("ngModelChange",function(Ri){return b.DH7(Jn.price,Ri)||(Jn.price=Ri),Ri}),b.k0s()(),b.j41(12,"ion-button",6),b.bIt("click",function(){return Jn.add()}),b.EFF(13,"\u0625\u0636\u0627\u0641\u0629"),b.k0s()()()),2&on&&(b.Y8G("translucent",!0),b.R7$(11),b.R50("ngModel",Jn.price),b.R7$(),b.Y8G("disabled",!Jn.price))},dependencies:[he.Jm,he.W9,he.eU,he.iq,he.$w,he.uz,he.BC,he.ai,he.su,he.Gw,at.BC,at.vS]}),Ct})()}];let He=(()=>{var X;class Ct{}return(X=Ct).\u0275fac=function(on){return new(on||X)},X.\u0275mod=b.$C({type:X}),X.\u0275inj=b.G2t({imports:[j.iI.forRoot(je,{preloadingStrategy:j.Kp}),j.iI]}),Ct})(),Ye=(()=>{var X;class Ct{constructor(){}}return(X=Ct).\u0275fac=function(on){return new(on||X)},X.\u0275cmp=b.VBU({type:X,selectors:[["app-root"]],decls:2,vars:0,consts:[["dir","rtl"]],template:function(on,Jn){1&on&&(b.j41(0,"ion-app",0),b.nrm(1,"ion-router-outlet"),b.k0s())},dependencies:[he.U1,he.Rg]}),Ct})();var fe=F(9842),U=F(5407);class be{constructor(Ct){return Ct}}class Me{constructor(){return(0,re.Dk)()}}const dt=new b.nKC("angularfire2._apps"),$t={provide:be,useFactory:function Ze(X){return X&&1===X.length?X[0]:new be((0,re.Sx)())},deps:[[new b.Xx1,dt]]},fn={provide:Me,deps:[[new b.Xx1,dt]]};function Xt(X){return(Ct,jt)=>{const on=Ct.runOutsideAngular(()=>X(jt));return new be(on)}}let ut=(()=>{var X;class Ct{constructor(on){(0,re.KO)("angularfire",U.xv.full,"core"),(0,re.KO)("angularfire",U.xv.full,"app"),(0,re.KO)("angular",b.xvI.full,on.toString())}}return X=Ct,(0,fe.A)(Ct,"\u0275fac",function(on){return new(on||X)(b.KVO(b.Agw))}),(0,fe.A)(Ct,"\u0275mod",b.$C({type:X})),(0,fe.A)(Ct,"\u0275inj",b.G2t({providers:[$t,fn]})),Ct})();function we(X,...Ct){return{ngModule:ut,providers:[{provide:dt,useFactory:Xt(X),multi:!0,deps:[b.SKi,b.zZn,U.u0,...Ct]}]}}F(306),F(1076),F(7852),F(8041),F(1362);class St{constructor(){return(0,U.CA)("auth")}}class Ie{constructor(Ct){return Ct}}const Ce="firestore",rt=new b.nKC("angularfire2.firestore-instances");function Bt(X){return(Ct,jt)=>{const on=Ct.runOutsideAngular(()=>X(jt));return new Ie(on)}}const Jt={provide:class H{constructor(){return(0,U.CA)(Ce)}},deps:[[new b.Xx1,rt]]},_n={provide:Ie,useFactory:function kt(X,Ct){const jt=(0,U.lR)(Ce,X,Ct);return jt&&new Ie(jt)},deps:[[new b.Xx1,rt],be]};let Un=(()=>{var X;class Ct{constructor(){(0,re.KO)("angularfire",U.xv.full,"fst")}}return X=Ct,(0,fe.A)(Ct,"\u0275fac",function(on){return new(on||X)}),(0,fe.A)(Ct,"\u0275mod",b.$C({type:X})),(0,fe.A)(Ct,"\u0275inj",b.G2t({providers:[_n,Jt]})),Ct})();function $r(X,...Ct){return{ngModule:Un,providers:[{provide:rt,useFactory:Bt(X),multi:!0,deps:[b.SKi,b.zZn,U.u0,Me,[new b.Xx1,St],[new b.Xx1,U.Jv],...Ct]}]}}const po=(0,U.S3)(Ee.aU,!0);var P=F(9253);let se=(()=>{var X;class Ct{}return(X=Ct).\u0275fac=function(on){return new(on||X)},X.\u0275mod=b.$C({type:X,bootstrap:[Ye]}),X.\u0275inj=b.G2t({providers:[{provide:j.b,useClass:oe.jM},Un],imports:[l.Bb,he.bv.forRoot(),He,at.YN,P.bf.initializeApp(We.c.firebaseConfig),at.X1,P.bf,we(()=>(0,re.Wp)(We.c.firebaseConfig)),$r(()=>po())]}),Ct})();(0,b.SmG)(),l.sG().bootstrapModule(se).catch(X=>console.log(X))},4412:(un,it,F)=>{"use strict";F.d(it,{t:()=>b});var l=F(1413);class b extends l.B{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const he=super._subscribe(oe);return!he.closed&&oe.next(this._value),he}getValue(){const{hasError:oe,thrownError:he,_value:ye}=this;if(oe)throw he;return this._throwIfClosed(),ye}next(oe){super.next(this._value=oe)}}},1985:(un,it,F)=>{"use strict";F.d(it,{c:()=>Ee});var l=F(7707),b=F(8359),j=F(3494),oe=F(1203),he=F(1026),ye=F(8071),re=F(9786);let Ee=(()=>{class Ve{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ke=new Ve;return ke.source=this,ke.operator=Oe,ke}subscribe(Oe,ke,ct){const Le=function de(Ve){return Ve&&Ve instanceof l.vU||function le(Ve){return Ve&&(0,ye.T)(Ve.next)&&(0,ye.T)(Ve.error)&&(0,ye.T)(Ve.complete)}(Ve)&&(0,b.Uv)(Ve)}(Oe)?Oe:new l.Ms(Oe,ke,ct);return(0,re.Y)(()=>{const{operator:Re,source:$e}=this;Le.add(Re?Re.call(Le,$e):$e?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ke){Oe.error(ke)}}forEach(Oe,ke){return new(ke=We(ke))((ct,Le)=>{const Re=new l.Ms({next:$e=>{try{Oe($e)}catch(at){Le(at),Re.unsubscribe()}},error:Le,complete:ct});this.subscribe(Re)})}_subscribe(Oe){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(Oe)}[j.s](){return this}pipe(...Oe){return(0,oe.m)(Oe)(this)}toPromise(Oe){return new(Oe=We(Oe))((ke,ct)=>{let Le;this.subscribe(Re=>Le=Re,Re=>ct(Re),()=>ke(Le))})}}return Ve.create=Ue=>new Ve(Ue),Ve})();function We(Ve){var Ue;return null!==(Ue=null!=Ve?Ve:he.$.Promise)&&void 0!==Ue?Ue:Promise}},1413:(un,it,F)=>{"use strict";F.d(it,{B:()=>re});var l=F(1985),b=F(8359);const oe=(0,F(1853).L)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=F(7908),ye=F(9786);let re=(()=>{class We extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Ve=new Ee(this,this);return Ve.operator=de,Ve}_throwIfClosed(){if(this.closed)throw new oe}next(de){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ve of this.currentObservers)Ve.next(de)}})}error(de){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Ve}=this;for(;Ve.length;)Ve.shift().error(de)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Ve,isStopped:Ue,observers:Oe}=this;return Ve||Ue?b.Kn:(this.currentObservers=null,Oe.push(de),new b.yU(()=>{this.currentObservers=null,(0,he.o)(Oe,de)}))}_checkFinalizedStatuses(de){const{hasError:Ve,thrownError:Ue,isStopped:Oe}=this;Ve?de.error(Ue):Oe&&de.complete()}asObservable(){const de=new l.c;return de.source=this,de}}return We.create=(le,de)=>new Ee(le,de),We})();class Ee extends re{constructor(le,de){super(),this.destination=le,this.source=de}next(le){var de,Ve;null===(Ve=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Ve||Ve.call(de,le)}error(le){var de,Ve;null===(Ve=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Ve||Ve.call(de,le)}complete(){var le,de;null===(de=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===de||de.call(le)}_subscribe(le){var de,Ve;return null!==(Ve=null===(de=this.source)||void 0===de?void 0:de.subscribe(le))&&void 0!==Ve?Ve:b.Kn}}},7707:(un,it,F)=>{"use strict";F.d(it,{Ms:()=>ct,vU:()=>Ve});var l=F(8071),b=F(8359),j=F(1026),oe=F(5334),he=F(5343);const ye=We("C",void 0,void 0);function We(Fe,je,He){return{kind:Fe,value:je,error:He}}var le=F(9270),de=F(9786);class Ve extends b.yU{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,b.Uv)(je)&&je.add(this)):this.destination=at}static create(je,He,Ye){return new ct(je,He,Ye)}next(je){this.isStopped?$e(function Ee(Fe){return We("N",Fe,void 0)}(je),this):this._next(je)}error(je){this.isStopped?$e(function re(Fe){return We("E",void 0,Fe)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?$e(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Oe(Fe,je){return Ue.call(Fe,je)}class ke{constructor(je){this.partialObserver=je}next(je){const{partialObserver:He}=this;if(He.next)try{He.next(je)}catch(Ye){Le(Ye)}}error(je){const{partialObserver:He}=this;if(He.error)try{He.error(je)}catch(Ye){Le(Ye)}else Le(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(He){Le(He)}}}class ct extends Ve{constructor(je,He,Ye){let fe;if(super(),(0,l.T)(je)||!je)fe={next:null!=je?je:void 0,error:null!=He?He:void 0,complete:null!=Ye?Ye:void 0};else{let U;this&&j.$.useDeprecatedNextContext?(U=Object.create(je),U.unsubscribe=()=>this.unsubscribe(),fe={next:je.next&&Oe(je.next,U),error:je.error&&Oe(je.error,U),complete:je.complete&&Oe(je.complete,U)}):fe=je}this.destination=new ke(fe)}}function Le(Fe){j.$.useDeprecatedSynchronousErrorHandling?(0,de.l)(Fe):(0,oe.m)(Fe)}function $e(Fe,je){const{onStoppedNotification:He}=j.$;He&&le.f.setTimeout(()=>He(Fe,je))}const at={closed:!0,next:he.l,error:function Re(Fe){throw Fe},complete:he.l}},8359:(un,it,F)=>{"use strict";F.d(it,{Kn:()=>ye,yU:()=>he,Uv:()=>re});var l=F(8071);const j=(0,F(1853).L)(We=>function(de){We(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Ve,Ue)=>`${Ue+1}) ${Ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var oe=F(7908);class he{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Oe of de)Oe.remove(this);else de.remove(this);const{initialTeardown:Ve}=this;if((0,l.T)(Ve))try{Ve()}catch(Oe){le=Oe instanceof j?Oe.errors:[Oe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Oe of Ue)try{Ee(Oe)}catch(ke){le=null!=le?le:[],ke instanceof j?le=[...le,...ke.errors]:le.push(ke)}}if(le)throw new j(le)}}add(le){var de;if(le&&le!==this)if(this.closed)Ee(le);else{if(le instanceof he){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(le)}}_hasParent(le){const{_parentage:de}=this;return de===le||Array.isArray(de)&&de.includes(le)}_addParent(le){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(le),de):de?[de,le]:le}_removeParent(le){const{_parentage:de}=this;de===le?this._parentage=null:Array.isArray(de)&&(0,oe.o)(de,le)}remove(le){const{_finalizers:de}=this;de&&(0,oe.o)(de,le),le instanceof he&&le._removeParent(this)}}he.EMPTY=(()=>{const We=new he;return We.closed=!0,We})();const ye=he.EMPTY;function re(We){return We instanceof he||We&&"closed"in We&&(0,l.T)(We.remove)&&(0,l.T)(We.add)&&(0,l.T)(We.unsubscribe)}function Ee(We){(0,l.T)(We)?We():We.unsubscribe()}},1026:(un,it,F)=>{"use strict";F.d(it,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(un,it,F)=>{"use strict";F.d(it,{z:()=>le});var l=F(1985),b=F(3073),j=F(8455),oe=F(3669),he=F(6450),ye=F(3794),re=F(8496),Ee=F(4360),We=F(5225);function le(...Ue){const Oe=(0,ye.lI)(Ue),ke=(0,ye.ms)(Ue),{args:ct,keys:Le}=(0,b.D)(Ue);if(0===ct.length)return(0,j.H)([],Oe);const Re=new l.c(function de(Ue,Oe,ke=oe.D){return ct=>{Ve(Oe,()=>{const{length:Le}=Ue,Re=new Array(Le);let $e=Le,at=Le;for(let Fe=0;Fe<Le;Fe++)Ve(Oe,()=>{const je=(0,j.H)(Ue[Fe],Oe);let He=!1;je.subscribe((0,Ee._)(ct,Ye=>{Re[Fe]=Ye,He||(He=!0,at--),at||ct.next(ke(Re.slice()))},()=>{--$e||ct.complete()}))},ct)},ct)}}(ct,Oe,Le?$e=>(0,re.e)(Le,$e):oe.D));return ke?Re.pipe((0,he.I)(ke)):Re}function Ve(Ue,Oe,ke){Ue?(0,We.N)(ke,Ue,Oe):Oe()}},8793:(un,it,F)=>{"use strict";F.d(it,{x:()=>he});var l=F(6365),j=F(3794),oe=F(8455);function he(...ye){return function b(){return(0,l.U)(1)}()((0,oe.H)(ye,(0,j.lI)(ye)))}},983:(un,it,F)=>{"use strict";F.d(it,{w:()=>b});const b=new(F(1985).c)(he=>he.complete())},8455:(un,it,F)=>{"use strict";F.d(it,{H:()=>je});var l=F(8750),b=F(941),j=F(6745),ye=F(1985),Ee=F(4761),We=F(8071),le=F(5225);function Ve(He,Ye){if(!He)throw new Error("Iterable cannot be null");return new ye.c(fe=>{(0,le.N)(fe,Ye,()=>{const U=He[Symbol.asyncIterator]();(0,le.N)(fe,Ye,()=>{U.next().then(be=>{be.done?fe.complete():fe.next(be.value)})},0,!0)})})}var Ue=F(5055),Oe=F(9858),ke=F(7441),ct=F(5397),Le=F(7953),Re=F(591),$e=F(5196);function je(He,Ye){return Ye?function Fe(He,Ye){if(null!=He){if((0,Ue.l)(He))return function oe(He,Ye){return(0,l.Tg)(He).pipe((0,j._)(Ye),(0,b.Q)(Ye))}(He,Ye);if((0,ke.X)(He))return function re(He,Ye){return new ye.c(fe=>{let U=0;return Ye.schedule(function(){U===He.length?fe.complete():(fe.next(He[U++]),fe.closed||this.schedule())})})}(He,Ye);if((0,Oe.y)(He))return function he(He,Ye){return(0,l.Tg)(He).pipe((0,j._)(Ye),(0,b.Q)(Ye))}(He,Ye);if((0,Le.T)(He))return Ve(He,Ye);if((0,ct.x)(He))return function de(He,Ye){return new ye.c(fe=>{let U;return(0,le.N)(fe,Ye,()=>{U=He[Ee.l](),(0,le.N)(fe,Ye,()=>{let be,Me;try{({value:be,done:Me}=U.next())}catch(ze){return void fe.error(ze)}Me?fe.complete():fe.next(be)},0,!0)}),()=>(0,We.T)(null==U?void 0:U.return)&&U.return()})}(He,Ye);if((0,$e.U)(He))return function at(He,Ye){return Ve((0,$e.C)(He),Ye)}(He,Ye)}throw(0,Re.L)(He)}(He,Ye):(0,l.Tg)(He)}},3726:(un,it,F)=>{"use strict";F.d(it,{R:()=>le});var l=F(8750),b=F(1985),j=F(1397),oe=F(7441),he=F(8071),ye=F(6450);const re=["addListener","removeListener"],Ee=["addEventListener","removeEventListener"],We=["on","off"];function le(ke,ct,Le,Re){if((0,he.T)(Le)&&(Re=Le,Le=void 0),Re)return le(ke,ct,Le).pipe((0,ye.I)(Re));const[$e,at]=function Oe(ke){return(0,he.T)(ke.addEventListener)&&(0,he.T)(ke.removeEventListener)}(ke)?Ee.map(Fe=>je=>ke[Fe](ct,je,Le)):function Ve(ke){return(0,he.T)(ke.addListener)&&(0,he.T)(ke.removeListener)}(ke)?re.map(de(ke,ct)):function Ue(ke){return(0,he.T)(ke.on)&&(0,he.T)(ke.off)}(ke)?We.map(de(ke,ct)):[];if(!$e&&(0,oe.X)(ke))return(0,j.Z)(Fe=>le(Fe,ct,Le))((0,l.Tg)(ke));if(!$e)throw new TypeError("Invalid event target");return new b.c(Fe=>{const je=(...He)=>Fe.next(1<He.length?He:He[0]);return $e(je),()=>at(je)})}function de(ke,ct){return Le=>Re=>ke[Le](ct,Re)}},8750:(un,it,F)=>{"use strict";F.d(it,{Tg:()=>Ue});var l=F(1635),b=F(7441),j=F(9858),oe=F(1985),he=F(5055),ye=F(7953),re=F(591),Ee=F(5397),We=F(5196),le=F(8071),de=F(5334),Ve=F(3494);function Ue(Fe){if(Fe instanceof oe.c)return Fe;if(null!=Fe){if((0,he.l)(Fe))return function Oe(Fe){return new oe.c(je=>{const He=Fe[Ve.s]();if((0,le.T)(He.subscribe))return He.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,b.X)(Fe))return function ke(Fe){return new oe.c(je=>{for(let He=0;He<Fe.length&&!je.closed;He++)je.next(Fe[He]);je.complete()})}(Fe);if((0,j.y)(Fe))return function ct(Fe){return new oe.c(je=>{Fe.then(He=>{je.closed||(je.next(He),je.complete())},He=>je.error(He)).then(null,de.m)})}(Fe);if((0,ye.T)(Fe))return Re(Fe);if((0,Ee.x)(Fe))return function Le(Fe){return new oe.c(je=>{for(const He of Fe)if(je.next(He),je.closed)return;je.complete()})}(Fe);if((0,We.U)(Fe))return function $e(Fe){return Re((0,We.C)(Fe))}(Fe)}throw(0,re.L)(Fe)}function Re(Fe){return new oe.c(je=>{(function at(Fe,je){var He,Ye,fe,U;return(0,l.sH)(this,void 0,void 0,function*(){try{for(He=(0,l.xN)(Fe);!(Ye=yield He.next()).done;)if(je.next(Ye.value),je.closed)return}catch(be){fe={error:be}}finally{try{Ye&&!Ye.done&&(U=He.return)&&(yield U.call(He))}finally{if(fe)throw fe.error}}je.complete()})})(Fe,je).catch(He=>je.error(He))})}},7673:(un,it,F)=>{"use strict";F.d(it,{of:()=>j});var l=F(3794),b=F(8455);function j(...oe){const he=(0,l.lI)(oe);return(0,b.H)(oe,he)}},4360:(un,it,F)=>{"use strict";F.d(it,{_:()=>b});var l=F(7707);function b(oe,he,ye,re,Ee){return new j(oe,he,ye,re,Ee)}class j extends l.vU{constructor(he,ye,re,Ee,We,le){super(he),this.onFinalize=We,this.shouldUnsubscribe=le,this._next=ye?function(de){try{ye(de)}catch(Ve){he.error(Ve)}}:super._next,this._error=Ee?function(de){try{Ee(de)}catch(Ve){he.error(Ve)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(de){he.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9901:(un,it,F)=>{"use strict";F.d(it,{U:()=>j});var l=F(9974),b=F(4360);function j(oe){return(0,l.N)((he,ye)=>{let re=!1;he.subscribe((0,b._)(ye,Ee=>{re=!0,ye.next(Ee)},()=>{re||ye.next(oe),ye.complete()}))})}},3294:(un,it,F)=>{"use strict";F.d(it,{F:()=>oe});var l=F(3669),b=F(9974),j=F(4360);function oe(ye,re=l.D){return ye=null!=ye?ye:he,(0,b.N)((Ee,We)=>{let le,de=!0;Ee.subscribe((0,j._)(We,Ve=>{const Ue=re(Ve);(de||!ye(le,Ue))&&(de=!1,le=Ue,We.next(Ve))}))})}function he(ye,re){return ye===re}},5964:(un,it,F)=>{"use strict";F.d(it,{p:()=>j});var l=F(9974),b=F(4360);function j(oe,he){return(0,l.N)((ye,re)=>{let Ee=0;ye.subscribe((0,b._)(re,We=>oe.call(he,We,Ee++)&&re.next(We)))})}},1594:(un,it,F)=>{"use strict";F.d(it,{$:()=>re});var l=F(9350),b=F(5964),j=F(6697),oe=F(9901),he=F(3774),ye=F(3669);function re(Ee,We){const le=arguments.length>=2;return de=>de.pipe(Ee?(0,b.p)((Ve,Ue)=>Ee(Ve,Ue,de)):ye.D,(0,j.s)(1),le?(0,oe.U)(We):(0,he.v)(()=>new l.G))}},6354:(un,it,F)=>{"use strict";F.d(it,{T:()=>j});var l=F(9974),b=F(4360);function j(oe,he){return(0,l.N)((ye,re)=>{let Ee=0;ye.subscribe((0,b._)(re,We=>{re.next(oe.call(he,We,Ee++))}))})}},6365:(un,it,F)=>{"use strict";F.d(it,{U:()=>j});var l=F(1397),b=F(3669);function j(oe=1/0){return(0,l.Z)(b.D,oe)}},1397:(un,it,F)=>{"use strict";F.d(it,{Z:()=>Ee});var l=F(6354),b=F(8750),j=F(9974),oe=F(5225),he=F(4360),re=F(8071);function Ee(We,le,de=1/0){return(0,re.T)(le)?Ee((Ve,Ue)=>(0,l.T)((Oe,ke)=>le(Ve,Oe,Ue,ke))((0,b.Tg)(We(Ve,Ue))),de):("number"==typeof le&&(de=le),(0,j.N)((Ve,Ue)=>function ye(We,le,de,Ve,Ue,Oe,ke,ct){const Le=[];let Re=0,$e=0,at=!1;const Fe=()=>{at&&!Le.length&&!Re&&le.complete()},je=Ye=>Re<Ve?He(Ye):Le.push(Ye),He=Ye=>{Oe&&le.next(Ye),Re++;let fe=!1;(0,b.Tg)(de(Ye,$e++)).subscribe((0,he._)(le,U=>{null==Ue||Ue(U),Oe?je(U):le.next(U)},()=>{fe=!0},void 0,()=>{if(fe)try{for(Re--;Le.length&&Re<Ve;){const U=Le.shift();ke?(0,oe.N)(le,ke,()=>He(U)):He(U)}Fe()}catch(U){le.error(U)}}))};return We.subscribe((0,he._)(le,je,()=>{at=!0,Fe()})),()=>{null==ct||ct()}}(Ve,Ue,We,de)))}},941:(un,it,F)=>{"use strict";F.d(it,{Q:()=>oe});var l=F(5225),b=F(9974),j=F(4360);function oe(he,ye=0){return(0,b.N)((re,Ee)=>{re.subscribe((0,j._)(Ee,We=>(0,l.N)(Ee,he,()=>Ee.next(We),ye),()=>(0,l.N)(Ee,he,()=>Ee.complete(),ye),We=>(0,l.N)(Ee,he,()=>Ee.error(We),ye)))})}},2816:(un,it,F)=>{"use strict";F.d(it,{S:()=>oe});var l=F(9974),b=F(4360);function oe(he,ye){return(0,l.N)(function j(he,ye,re,Ee,We){return(le,de)=>{let Ve=re,Ue=ye,Oe=0;le.subscribe((0,b._)(de,ke=>{const ct=Oe++;Ue=Ve?he(Ue,ke,ct):(Ve=!0,ke),Ee&&de.next(Ue)},We&&(()=>{Ve&&de.next(Ue),de.complete()})))}}(he,ye,arguments.length>=2,!0))}},9172:(un,it,F)=>{"use strict";F.d(it,{Z:()=>oe});var l=F(8793),b=F(3794),j=F(9974);function oe(...he){const ye=(0,b.lI)(he);return(0,j.N)((re,Ee)=>{(ye?(0,l.x)(he,re,ye):(0,l.x)(he,re)).subscribe(Ee)})}},6745:(un,it,F)=>{"use strict";F.d(it,{_:()=>b});var l=F(9974);function b(j,oe=0){return(0,l.N)((he,ye)=>{ye.add(j.schedule(()=>he.subscribe(ye),oe))})}},5558:(un,it,F)=>{"use strict";F.d(it,{n:()=>oe});var l=F(8750),b=F(9974),j=F(4360);function oe(he,ye){return(0,b.N)((re,Ee)=>{let We=null,le=0,de=!1;const Ve=()=>de&&!We&&Ee.complete();re.subscribe((0,j._)(Ee,Ue=>{null==We||We.unsubscribe();let Oe=0;const ke=le++;(0,l.Tg)(he(Ue,ke)).subscribe(We=(0,j._)(Ee,ct=>Ee.next(ye?ye(Ue,ct,ke,Oe++):ct),()=>{We=null,Ve()}))},()=>{de=!0,Ve()}))})}},6697:(un,it,F)=>{"use strict";F.d(it,{s:()=>oe});var l=F(983),b=F(9974),j=F(4360);function oe(he){return he<=0?()=>l.w:(0,b.N)((ye,re)=>{let Ee=0;ye.subscribe((0,j._)(re,We=>{++Ee<=he&&(re.next(We),he<=Ee&&re.complete())}))})}},8141:(un,it,F)=>{"use strict";F.d(it,{M:()=>he});var l=F(8071),b=F(9974),j=F(4360),oe=F(3669);function he(ye,re,Ee){const We=(0,l.T)(ye)||re||Ee?{next:ye,error:re,complete:Ee}:ye;return We?(0,b.N)((le,de)=>{var Ve;null===(Ve=We.subscribe)||void 0===Ve||Ve.call(We);let Ue=!0;le.subscribe((0,j._)(de,Oe=>{var ke;null===(ke=We.next)||void 0===ke||ke.call(We,Oe),de.next(Oe)},()=>{var Oe;Ue=!1,null===(Oe=We.complete)||void 0===Oe||Oe.call(We),de.complete()},Oe=>{var ke;Ue=!1,null===(ke=We.error)||void 0===ke||ke.call(We,Oe),de.error(Oe)},()=>{var Oe,ke;Ue&&(null===(Oe=We.unsubscribe)||void 0===Oe||Oe.call(We)),null===(ke=We.finalize)||void 0===ke||ke.call(We)}))}):oe.D}},3774:(un,it,F)=>{"use strict";F.d(it,{v:()=>oe});var l=F(9350),b=F(9974),j=F(4360);function oe(ye=he){return(0,b.N)((re,Ee)=>{let We=!1;re.subscribe((0,j._)(Ee,le=>{We=!0,Ee.next(le)},()=>We?Ee.complete():Ee.error(ye())))})}function he(){return new l.G}},6780:(un,it,F)=>{"use strict";F.d(it,{R:()=>he});var l=F(8359);class b extends l.yU{constructor(re,Ee){super()}schedule(re,Ee=0){return this}}const j={setInterval(ye,re,...Ee){const{delegate:We}=j;return null!=We&&We.setInterval?We.setInterval(ye,re,...Ee):setInterval(ye,re,...Ee)},clearInterval(ye){const{delegate:re}=j;return((null==re?void 0:re.clearInterval)||clearInterval)(ye)},delegate:void 0};var oe=F(7908);class he extends b{constructor(re,Ee){super(re,Ee),this.scheduler=re,this.work=Ee,this.pending=!1}schedule(re,Ee=0){var We;if(this.closed)return this;this.state=re;const le=this.id,de=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(de,le,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(de,this.id,Ee),this}requestAsyncId(re,Ee,We=0){return j.setInterval(re.flush.bind(re,this),We)}recycleAsyncId(re,Ee,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return Ee;null!=Ee&&j.clearInterval(Ee)}execute(re,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(re,Ee);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,Ee){let le,We=!1;try{this.work(re)}catch(de){We=!0,le=de||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:re,scheduler:Ee}=this,{actions:We}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.o)(We,this),null!=re&&(this.id=this.recycleAsyncId(Ee,re,null)),this.delay=null,super.unsubscribe()}}}},9687:(un,it,F)=>{"use strict";F.d(it,{q:()=>j});var l=F(6129);class b{constructor(he,ye=b.now){this.schedulerActionCtor=he,this.now=ye}schedule(he,ye=0,re){return new this.schedulerActionCtor(this,he).schedule(re,ye)}}b.now=l.U.now;class j extends b{constructor(he,ye=b.now){super(he,ye),this.actions=[],this._active=!1}flush(he){const{actions:ye}=this;if(this._active)return void ye.push(he);let re;this._active=!0;do{if(re=he.execute(he.state,he.delay))break}while(he=ye.shift());if(this._active=!1,re){for(;he=ye.shift();)he.unsubscribe();throw re}}}},3236:(un,it,F)=>{"use strict";F.d(it,{E:()=>j});var l=F(6780);const j=new(F(9687).q)(l.R)},6129:(un,it,F)=>{"use strict";F.d(it,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(un,it,F)=>{"use strict";F.d(it,{f:()=>l});const l={setTimeout(b,j,...oe){const{delegate:he}=l;return null!=he&&he.setTimeout?he.setTimeout(b,j,...oe):setTimeout(b,j,...oe)},clearTimeout(b){const{delegate:j}=l;return((null==j?void 0:j.clearTimeout)||clearTimeout)(b)},delegate:void 0}},4761:(un,it,F)=>{"use strict";F.d(it,{l:()=>b});const b=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(un,it,F)=>{"use strict";F.d(it,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(un,it,F)=>{"use strict";F.d(it,{G:()=>b});const b=(0,F(1853).L)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(un,it,F)=>{"use strict";F.d(it,{R0:()=>ye,ms:()=>oe,lI:()=>he});var l=F(8071);function j(re){return re[re.length-1]}function oe(re){return(0,l.T)(j(re))?re.pop():void 0}function he(re){return function b(re){return re&&(0,l.T)(re.schedule)}(j(re))?re.pop():void 0}function ye(re,Ee){return"number"==typeof j(re)?re.pop():Ee}},3073:(un,it,F)=>{"use strict";F.d(it,{D:()=>he});const{isArray:l}=Array,{getPrototypeOf:b,prototype:j,keys:oe}=Object;function he(re){if(1===re.length){const Ee=re[0];if(l(Ee))return{args:Ee,keys:null};if(function ye(re){return re&&"object"==typeof re&&b(re)===j}(Ee)){const We=oe(Ee);return{args:We.map(le=>Ee[le]),keys:We}}}return{args:re,keys:null}}},7908:(un,it,F)=>{"use strict";function l(b,j){if(b){const oe=b.indexOf(j);0<=oe&&b.splice(oe,1)}}F.d(it,{o:()=>l})},1853:(un,it,F)=>{"use strict";function l(b){const oe=b(he=>{Error.call(he),he.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(it,{L:()=>l})},8496:(un,it,F)=>{"use strict";function l(b,j){return b.reduce((oe,he,ye)=>(oe[he]=j[ye],oe),{})}F.d(it,{e:()=>l})},9786:(un,it,F)=>{"use strict";F.d(it,{Y:()=>j,l:()=>oe});var l=F(1026);let b=null;function j(he){if(l.$.useDeprecatedSynchronousErrorHandling){const ye=!b;if(ye&&(b={errorThrown:!1,error:null}),he(),ye){const{errorThrown:re,error:Ee}=b;if(b=null,re)throw Ee}}else he()}function oe(he){l.$.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=he)}},5225:(un,it,F)=>{"use strict";function l(b,j,oe,he=0,ye=!1){const re=j.schedule(function(){oe(),ye?b.add(this.schedule(null,he)):this.unsubscribe()},he);if(b.add(re),!ye)return re}F.d(it,{N:()=>l})},3669:(un,it,F)=>{"use strict";function l(b){return b}F.d(it,{D:()=>l})},7441:(un,it,F)=>{"use strict";F.d(it,{X:()=>l});const l=b=>b&&"number"==typeof b.length&&"function"!=typeof b},7953:(un,it,F)=>{"use strict";F.d(it,{T:()=>b});var l=F(8071);function b(j){return Symbol.asyncIterator&&(0,l.T)(null==j?void 0:j[Symbol.asyncIterator])}},8071:(un,it,F)=>{"use strict";function l(b){return"function"==typeof b}F.d(it,{T:()=>l})},5055:(un,it,F)=>{"use strict";F.d(it,{l:()=>j});var l=F(3494),b=F(8071);function j(oe){return(0,b.T)(oe[l.s])}},5397:(un,it,F)=>{"use strict";F.d(it,{x:()=>j});var l=F(4761),b=F(8071);function j(oe){return(0,b.T)(null==oe?void 0:oe[l.l])}},9858:(un,it,F)=>{"use strict";F.d(it,{y:()=>b});var l=F(8071);function b(j){return(0,l.T)(null==j?void 0:j.then)}},5196:(un,it,F)=>{"use strict";F.d(it,{C:()=>j,U:()=>oe});var l=F(1635),b=F(8071);function j(he){return(0,l.AQ)(this,arguments,function*(){const re=he.getReader();try{for(;;){const{value:Ee,done:We}=yield(0,l.N3)(re.read());if(We)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(Ee)}}finally{re.releaseLock()}})}function oe(he){return(0,b.T)(null==he?void 0:he.getReader)}},9974:(un,it,F)=>{"use strict";F.d(it,{N:()=>j,S:()=>b});var l=F(8071);function b(oe){return(0,l.T)(null==oe?void 0:oe.lift)}function j(oe){return he=>{if(b(he))return he.lift(function(ye){try{return oe(ye,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(un,it,F)=>{"use strict";F.d(it,{I:()=>oe});var l=F(6354);const{isArray:b}=Array;function oe(he){return(0,l.T)(ye=>function j(he,ye){return b(ye)?he(...ye):he(ye)}(he,ye))}},5343:(un,it,F)=>{"use strict";function l(){}F.d(it,{l:()=>l})},1203:(un,it,F)=>{"use strict";F.d(it,{F:()=>b,m:()=>j});var l=F(3669);function b(...oe){return j(oe)}function j(oe){return 0===oe.length?l.D:1===oe.length?oe[0]:function(ye){return oe.reduce((re,Ee)=>Ee(re),ye)}}},5334:(un,it,F)=>{"use strict";F.d(it,{m:()=>j});var l=F(1026),b=F(9270);function j(oe){b.f.setTimeout(()=>{const{onUnhandledError:he}=l.$;if(!he)throw oe;he(oe)})}},591:(un,it,F)=>{"use strict";function l(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(it,{L:()=>l})},8996:(un,it,F)=>{var l={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function b(j){if(!F.o(l,j))return Promise.resolve().then(()=>{var ye=new Error("Cannot find module '"+j+"'");throw ye.code="MODULE_NOT_FOUND",ye});var oe=l[j],he=oe[0];return Promise.all(oe.slice(1).map(F.e)).then(()=>F(he))}b.keys=()=>Object.keys(l),b.id=8996,un.exports=b},177:(un,it,F)=>{"use strict";F.d(it,{AJ:()=>Fo,MD:()=>Ko,N0:()=>ws,QT:()=>j,Sm:()=>ct,Sq:()=>Ie,T3:()=>nt,VF:()=>he,Vy:()=>fo,Xr:()=>hs,ZD:()=>oe,_b:()=>Xn,aZ:()=>Re,bT:()=>ge,fw:()=>Le,hb:()=>Oe,hj:()=>We,qQ:()=>re});var l=F(4438);let b=null;function j(){return b}function oe(C){var S;null!==(S=b)&&void 0!==S||(b=C)}class he{}const re=new l.nKC("");let Ee=(()=>{var C;class S{historyGo(k){throw new Error("")}}return(C=S).\u0275fac=function(k){return new(k||C)},C.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(le),providedIn:"platform"}),S})();const We=new l.nKC("");let le=(()=>{var C;class S extends Ee{constructor(){super(),this._doc=(0,l.WQX)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(k){const te=j().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",k,!1),()=>te.removeEventListener("popstate",k)}onHashChange(k){const te=j().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",k,!1),()=>te.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,te,pe){this._history.pushState(k,te,pe)}replaceState(k,te,pe){this._history.replaceState(k,te,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(C=S).\u0275fac=function(k){return new(k||C)},C.\u0275prov=l.jDH({token:C,factory:()=>new C,providedIn:"platform"}),S})();function de(C,S){if(0==C.length)return S;if(0==S.length)return C;let ve=0;return C.endsWith("/")&&ve++,S.startsWith("/")&&ve++,2==ve?C+S.substring(1):1==ve?C+S:C+"/"+S}function Ve(C){const S=C.match(/#|\?|$/),ve=S&&S.index||C.length;return C.slice(0,ve-("/"===C[ve-1]?1:0))+C.slice(ve)}function Ue(C){return C&&"?"!==C[0]?"?"+C:C}let Oe=(()=>{var C;class S{historyGo(k){throw new Error("")}}return(C=S).\u0275fac=function(k){return new(k||C)},C.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(ct),providedIn:"root"}),S})();const ke=new l.nKC("");let ct=(()=>{var C;class S extends Oe{constructor(k,te){var pe,lt,sn;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(pe=null!==(lt=null!=te?te:this._platformLocation.getBaseHrefFromDOM())&&void 0!==lt?lt:null===(sn=(0,l.WQX)(re).location)||void 0===sn?void 0:sn.origin)&&void 0!==pe?pe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return de(this._baseHref,k)}path(k=!1){const te=this._platformLocation.pathname+Ue(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&k?`${te}${pe}`:te}pushState(k,te,pe,lt){const sn=this.prepareExternalUrl(pe+Ue(lt));this._platformLocation.pushState(k,te,sn)}replaceState(k,te,pe,lt){const sn=this.prepareExternalUrl(pe+Ue(lt));this._platformLocation.replaceState(k,te,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var te,pe;null===(te=(pe=this._platformLocation).historyGo)||void 0===te||te.call(pe,k)}}return(C=S).\u0275fac=function(k){return new(k||C)(l.KVO(Ee),l.KVO(ke,8))},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),S})(),Le=(()=>{var C;class S extends Oe{constructor(k,te){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){var te;const pe=null!==(te=this._platformLocation.hash)&&void 0!==te?te:"#";return pe.length>0?pe.substring(1):pe}prepareExternalUrl(k){const te=de(this._baseHref,k);return te.length>0?"#"+te:te}pushState(k,te,pe,lt){let sn=this.prepareExternalUrl(pe+Ue(lt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.pushState(k,te,sn)}replaceState(k,te,pe,lt){let sn=this.prepareExternalUrl(pe+Ue(lt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.replaceState(k,te,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var te,pe;null===(te=(pe=this._platformLocation).historyGo)||void 0===te||te.call(pe,k)}}return(C=S).\u0275fac=function(k){return new(k||C)(l.KVO(Ee),l.KVO(ke,8))},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac}),S})(),Re=(()=>{var C;class S{constructor(k){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const te=this._locationStrategy.getBaseHref();this._basePath=function je(C){if(new RegExp("^(https?:)?//").test(C)){const[,ve]=C.split(/\/\/[^\/]+/);return ve}return C}(Ve(Fe(te))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,te=""){return this.path()==this.normalize(k+Ue(te))}normalize(k){return S.stripTrailingSlash(function at(C,S){if(!C||!S.startsWith(C))return S;const ve=S.substring(C.length);return""===ve||["/",";","?","#"].includes(ve[0])?ve:S}(this._basePath,Fe(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,te="",pe=null){this._locationStrategy.pushState(pe,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ue(te)),pe)}replaceState(k,te="",pe=null){this._locationStrategy.replaceState(pe,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ue(te)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var te,pe;null===(te=(pe=this._locationStrategy).historyGo)||void 0===te||te.call(pe,k)}onUrlChange(k){var te;return this._urlChangeListeners.push(k),null!==(te=this._urlChangeSubscription)&&void 0!==te||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)})),()=>{const pe=this._urlChangeListeners.indexOf(k);var lt;this._urlChangeListeners.splice(pe,1),0===this._urlChangeListeners.length&&(null===(lt=this._urlChangeSubscription)||void 0===lt||lt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",te){this._urlChangeListeners.forEach(pe=>pe(k,te))}subscribe(k,te,pe){return this._subject.subscribe({next:k,error:te,complete:pe})}}return(C=S).normalizeQueryParams=Ue,C.joinWithSlash=de,C.stripTrailingSlash=Ve,C.\u0275fac=function(k){return new(k||C)(l.KVO(Oe))},C.\u0275prov=l.jDH({token:C,factory:()=>function $e(){return new Re((0,l.KVO)(Oe))}(),providedIn:"root"}),S})();function Fe(C){return C.replace(/\/index.html$/,"")}function Xn(C,S){S=encodeURIComponent(S);for(const ve of C.split(";")){const k=ve.indexOf("="),[te,pe]=-1==k?[ve,""]:[ve.slice(0,k),ve.slice(k+1)];if(te.trim()===S)return decodeURIComponent(pe)}return null}class hi{constructor(S,ve,k,te){this.$implicit=S,this.ngForOf=ve,this.index=k,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ie=(()=>{var C;class S{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,te,pe){this._viewContainer=k,this._template=te,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const te=this._viewContainer;k.forEachOperation((pe,lt,sn)=>{if(null==pe.previousIndex)te.createEmbeddedView(this._template,new hi(pe.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)te.remove(null===lt?void 0:lt);else if(null!==lt){const Ht=te.get(lt);te.move(Ht,sn),Ce(Ht,pe)}});for(let pe=0,lt=te.length;pe<lt;pe++){const Ht=te.get(pe).context;Ht.index=pe,Ht.count=lt,Ht.ngForOf=this._ngForOf}k.forEachIdentityChange(pe=>{Ce(te.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(k,te){return!0}}return(C=S).\u0275fac=function(k){return new(k||C)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))},C.\u0275dir=l.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Ce(C,S){C.context.$implicit=S.item}let ge=(()=>{var C;class S{constructor(k,te){this._viewContainer=k,this._context=new rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){kt("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){kt("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,te){return!0}}return(C=S).\u0275fac=function(k){return new(k||C)(l.rXU(l.c1b),l.rXU(l.C4Q))},C.\u0275dir=l.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class rt{constructor(){this.$implicit=null,this.ngIf=null}}function kt(C,S){if(S&&!S.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,l.Tbb)(S)}'.`)}let nt=(()=>{var C;class S{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(this._shouldRecreateView(k)){var te;const pe=this._viewContainerRef;if(this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const lt=this._createContextForwardProxy();this._viewRef=pe.createEmbeddedView(this.ngTemplateOutlet,lt,{injector:null!==(te=this.ngTemplateOutletInjector)&&void 0!==te?te:void 0})}}_shouldRecreateView(k){return!!k.ngTemplateOutlet||!!k.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(k,te,pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,te,pe),get:(k,te,pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,te,pe)}})}}return(C=S).\u0275fac=function(k){return new(k||C)(l.rXU(l.c1b))},C.\u0275dir=l.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]}),S})(),Ko=(()=>{var C;class S{}return(C=S).\u0275fac=function(k){return new(k||C)},C.\u0275mod=l.$C({type:C}),C.\u0275inj=l.G2t({}),S})();const Fo="browser",Gi="server";function fo(C){return C===Gi}let hs=(()=>{var C;class S{}return(C=S).\u0275prov=(0,l.jDH)({token:C,providedIn:"root",factory:()=>function cs(C){return C===Fo}((0,l.WQX)(l.Agw))?new wi((0,l.WQX)(re),window):new ya}),S})();class wi{constructor(S,ve){this.document=S,this.window=ve,this.offset=()=>[0,0]}setOffset(S){this.offset=Array.isArray(S)?()=>S:S}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(S){this.window.scrollTo(S[0],S[1])}scrollToAnchor(S){const ve=function Pi(C,S){const ve=C.getElementById(S)||C.getElementsByName(S)[0];if(ve)return ve;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let te=k.currentNode;for(;te;){const pe=te.shadowRoot;if(pe){const lt=pe.getElementById(S)||pe.querySelector(`[name="${S}"]`);if(lt)return lt}te=k.nextNode()}}return null}(this.document,S);ve&&(this.scrollToElement(ve),ve.focus())}setHistoryScrollRestoration(S){this.window.history.scrollRestoration=S}scrollToElement(S){const ve=S.getBoundingClientRect(),k=ve.left+this.window.pageXOffset,te=ve.top+this.window.pageYOffset,pe=this.offset();this.window.scrollTo(k-pe[0],te-pe[1])}}class ya{setOffset(S){}getScrollPosition(){return[0,0]}scrollToPosition(S){}scrollToAnchor(S){}setHistoryScrollRestoration(S){}}class ws{}},4438:(un,it,F)=>{"use strict";F.d(it,{iLQ:()=>jI,sZ2:()=>$p,hnV:()=>UA,Hbi:()=>WM,o8S:()=>gd,BIS:()=>qm,gRc:()=>ZA,Ql9:()=>mM,Ocv:()=>AM,Z63:()=>fs,aKT:()=>Fd,uvJ:()=>So,zcH:()=>Ys,bkB:()=>il,$GK:()=>Wt,nKC:()=>Nn,zZn:()=>Fs,_q3:()=>QI,MKu:()=>YI,xe9:()=>ny,Co$:()=>FE,Vns:()=>Mh,SKi:()=>Ui,Xx1:()=>cs,Agw:()=>Uu,PLl:()=>Gm,sFG:()=>tm,_9s:()=>Xf,czy:()=>Xc,kdw:()=>Ls,C4Q:()=>_h,NYb:()=>uM,giA:()=>VA,xvI:()=>VR,RxE:()=>MA,c1b:()=>qa,gXe:()=>To,mal:()=>g_,L39:()=>IP,a0P:()=>SP,Ol2:()=>G0,w6W:()=>jT,oH4:()=>qA,SmG:()=>MM,Rfq:()=>Lr,WQX:()=>er,naY:()=>RM,QuC:()=>qi,fpN:()=>zM,HJs:()=>RP,N4e:()=>ns,O8t:()=>CP,H3F:()=>PA,H8p:()=>hl,KH2:()=>Ep,TgB:()=>np,wOt:()=>It,WHO:()=>kA,e01:()=>FA,H5H:()=>yI,Zy3:()=>hn,mq5:()=>LC,JZv:()=>Sn,LfX:()=>De,plB:()=>mu,jNT:()=>$I,zjR:()=>LA,TL$:()=>Wm,Tbb:()=>Gn,Vt3:()=>H0,Mj6:()=>Si,GFd:()=>kE,OA$:()=>xs,Jv_:()=>ZD,aNF:()=>JD,R7$:()=>Sv,BMQ:()=>rI,AVh:()=>uI,wni:()=>bD,VBU:()=>dl,FsC:()=>Uo,jDH:()=>Mt,G2t:()=>ht,$C:()=>js,EJ8:()=>Ss,rXU:()=>Jc,nrm:()=>gI,eu8:()=>_I,k0s:()=>G_,j41:()=>W_,RV6:()=>kC,xGo:()=>Bm,KVO:()=>fi,kS0:()=>bl,QTQ:()=>Mf,bIt:()=>CI,lsd:()=>MD,XpG:()=>gD,SdG:()=>vD,NAR:()=>mD,Y8G:()=>aI,lJ4:()=>lA,eq3:()=>uA,mGM:()=>RD,Njj:()=>yc,eBV:()=>Ed,n$t:()=>tg,DNE:()=>rp,EFF:()=>$D,JRh:()=>TI,SpI:()=>Y_,DH7:()=>QD,mxI:()=>bI,R50:()=>wI,GBs:()=>SD}),F(467);let j=null,he=1;const ye=Symbol("SIGNAL");function re(t){const n=j;return j=t,n}function Oe(t){if((!Ye(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==he)){if(!t.producerMustRecompute(t)&&!at(t))return t.dirty=!1,void(t.lastCleanEpoch=he);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=he}}function at(t){fe(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(Oe(i),a!==i.version))return!0}return!1}function He(t,n){if(function U(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}(t),fe(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)He(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];fe(u),u.producerIndexOfThis[a]=n}}function Ye(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function fe(t){var n,i,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let fn=null;var $n=F(1413),Tt=F(8359),kn=F(4412),St=F(6354);const Dt="https://g.co/ng/security#xss";class It extends Error{constructor(n,i){super(hn(n,i)),this.code=n}}function hn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function mn(t){return{toString:t}.toString()}const Tr="__parameters__";function or(t,n,i){return mn(()=>{const a=function Ln(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}(n);function u(...h){if(this instanceof u)return a.apply(this,h),this;const g=new u(...h);return v.annotation=g,v;function v(I,O,z){const Z=I.hasOwnProperty(Tr)?I[Tr]:Object.defineProperty(I,Tr,{value:[]})[Tr];for(;Z.length<=z;)Z.push(null);return(Z[z]=Z[z]||[]).push(g),I}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const Sn=globalThis;function Zn(t){for(let n in t)if(t[n]===Zn)return n;throw Error("Could not find renamed property on target object.")}function Dr(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Gn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function jn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Sr=Zn({__forward_ref__:Zn});function Lr(t){return t.__forward_ref__=Lr,t.toString=function(){return Gn(this())},t}function Qe(t){return Ge(t)?t():t}function Ge(t){return"function"==typeof t&&t.hasOwnProperty(Sr)&&t.__forward_ref__===Lr}function Mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function G(t){return tt(t,Wn)||tt(t,En)}function De(t){return null!==G(t)}function tt(t,n){return t.hasOwnProperty(n)?t[n]:null}function yn(t){return t&&(t.hasOwnProperty(Xn)||t.hasOwnProperty(Ur))?t[Xn]:null}const Wn=Zn({\u0275prov:Zn}),Xn=Zn({\u0275inj:Zn}),En=Zn({ngInjectableDef:Zn}),Ur=Zn({ngInjectorDef:Zn});class Nn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Mt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jt(t){return t&&!!t.\u0275providers}const _n=Zn({\u0275cmp:Zn}),Un=Zn({\u0275dir:Zn}),$r=Zn({\u0275pipe:Zn}),_t=Zn({\u0275mod:Zn}),B=Zn({\u0275fac:Zn}),Y=Zn({__NG_ELEMENT_ID__:Zn}),Be=Zn({__NG_ENV_ID__:Zn});function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function an(t,n){throw new It(-201,!1)}var Wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Wt||{});let On;function _r(){return On}function yr(t){const n=On;return On=t,n}function Br(t,n,i){const a=G(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Wt.Optional?null:void 0!==n?n:void an()}const x={},ae="__NG_DI_FLAG__",et="ngTempTokenPath",Wr=/\n/gm,Ei="__source";let Oi;function Wi(t){const n=Oi;return Oi=t,n}function ea(t,n=Wt.Default){if(void 0===Oi)throw new It(-203,!1);return null===Oi?Br(t,void 0,n):Oi.get(t,n&Wt.Optional?null:void 0,n)}function fi(t,n=Wt.Default){return(_r()||ea)(Qe(t),n)}function er(t,n=Wt.Default){return fi(t,to(n))}function to(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function us(t){const n=[];for(let i=0;i<t.length;i++){const a=Qe(t[i]);if(Array.isArray(a)){if(0===a.length)throw new It(900,!1);let u,h=Wt.Default;for(let g=0;g<a.length;g++){const v=a[g],I=Fo(v);"number"==typeof I?-1===I?u=v.token:h|=I:u=v}n.push(fi(u,h))}else n.push(fi(a))}return n}function Ko(t,n){return t[ae]=n,t.prototype[ae]=n,t}function Fo(t){return t[ae]}const cs=Ko(or("Optional"),8),Ls=Ko(or("SkipSelf"),4);function po(t,n){return t.hasOwnProperty(B)?t[B]:null}function Pi(t,n){t.forEach(i=>Array.isArray(i)?Pi(i,n):n(i))}function ya(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ws(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ki(t,n,i){let a=li(t,n);return a>=0?t[1|a]=i:(a=~a,function Xo(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function go(t,n){const i=li(t,n);if(i>=0)return t[1|i]}function li(t,n){return function Qo(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const h=a+(u-a>>1),g=t[h<<i];if(n===g)return h<<i;g>n?u=h:a=h+1}return~(u<<i)}(t,n,1)}const Rr={},Or=[],fs=new Nn(""),ta=new Nn("",-1),Lo=new Nn("");class Yo{get(n,i=x){if(i===x){const a=new Error(`NullInjectorError: No provider for ${Gn(n)}!`);throw a.name="NullInjectorError",a}return i}}var ps=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ps||{}),To=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(To||{}),Si=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Si||{});function Zo(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=n.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}i=u+1}}function ui(t,n,i){let a=0;for(;a<i.length;){const u=i[a];if("number"==typeof u){if(0!==u)break;a++;const h=i[a++],g=i[a++],v=i[a++];t.setAttribute(n,g,v,h)}else{const h=u,g=i[++a];$s(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function Ia(t){return 3===t||4===t||6===t}function $s(t){return 64===t.charCodeAt(0)}function ao(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||gs(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function gs(t,n,i,a,u){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const v=t[h++];if("number"==typeof v){if(v===n){g=-1;break}if(v>n){g=h-1;break}}}for(;h<t.length;){const v=t[h];if("number"==typeof v)break;if(v===i){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const ms="ng-template";function Ea(t,n,i,a){let u=0;if(a){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==Zo(n[u+1].toLowerCase(),i,0))return!0}else if(Bs(t))return!1;if(u=n.indexOf(1,u),u>-1){let h;for(;++u<n.length&&"string"==typeof(h=n[u]);)if(h.toLowerCase()===i)return!0}return!1}function Bs(t){return 4===t.type&&t.value!==ms}function L(t,n,i){return n===(4!==t.type||i?t.value:ms)}function P(t,n,i){let a=4;const u=t.attrs,h=null!==u?function jt(t){for(let n=0;n<t.length;n++)if(Ia(t[n]))return n;return t.length}(u):0;let g=!1;for(let v=0;v<n.length;v++){const I=n[v];if("number"!=typeof I){if(!g)if(4&a){if(a=2|1&a,""!==I&&!L(t,I,i)||""===I&&1===n.length){if(se(a))return!1;g=!0}}else if(8&a){if(null===u||!Ea(t,u,I,i)){if(se(a))return!1;g=!0}}else{const O=n[++v],z=V(I,u,Bs(t),i);if(-1===z){if(se(a))return!1;g=!0;continue}if(""!==O){let Z;if(Z=z>h?"":u[z+1].toLowerCase(),2&a&&O!==Z){if(se(a))return!1;g=!0}}}}else{if(!g&&!se(a)&&!se(I))return!1;if(g&&se(I))continue;g=!1,a=I|1&a}}return se(a)||g}function se(t){return!(1&t)}function V(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let h=!1;for(;u<n.length;){const g=n[u];if(g===t)return u;if(3===g||6===g)h=!0;else{if(1===g||2===g){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=h?1:2}return-1}return function on(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function X(t,n,i=!1){for(let a=0;a<n.length;a++)if(P(t,n[a],i))return!0;return!1}function Jn(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function jr(t,n){return t?":not("+n.trim()+")":n}function Ri(t){let n=t[0],i=1,a=2,u="",h=!1;for(;i<t.length;){let g=t[i];if("string"==typeof g)if(2&a){const v=t[++i];u+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!se(g)&&(n+=jr(h,u),u=""),a=g,h=h||!se(a);i++}return""!==u&&(n+=jr(h,u)),n}function dl(t){return mn(()=>{var n;const i=no(t),a={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ps.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||To.Emulated,styles:t.styles||Or,_:null,schemas:t.schemas||null,tView:null,id:""};Hs(a);const u=t.dependencies;return a.directiveDefs=Gr(u,!1),a.pipeDefs=Gr(u,!0),a.id=function ql(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(a),a})}function Jo(t){return ar(t)||pi(t)}function Eu(t){return null!==t}function js(t){return mn(()=>({type:t.type,bootstrap:t.bootstrap||Or,declarations:t.declarations||Or,imports:t.imports||Or,exports:t.exports||Or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ya(t,n){if(null==t)return Rr;const i={};for(const u in t)if(t.hasOwnProperty(u)){const h=t[u];let g,v,I=Si.None;var a;Array.isArray(h)?(I=h[0],g=h[1],v=null!==(a=h[2])&&void 0!==a?a:g):(g=h,v=h),n?(i[g]=I!==Si.None?[u,I]:u,n[g]=v):i[g]=u}return i}function Uo(t){return mn(()=>{const n=no(t);return Hs(n),n})}function Ss(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ar(t){return t[_n]||null}function pi(t){return t[Un]||null}function ci(t){return t[$r]||null}function qi(t){const n=ar(t)||pi(t)||ci(t);return null!==n&&n.standalone}function $i(t,n){const i=t[_t]||null;if(!i&&!0===n)throw new Error(`Type ${Gn(t)} does not have '\u0275mod' property.`);return i}function no(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Rr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ya(t.inputs,n),outputs:Ya(t.outputs),debugInfo:null}}function Hs(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function Gr(t,n){if(!t)return null;const i=n?ci:Jo;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Eu)}function Za(...t){return{\u0275providers:es(0,t),\u0275fromNgModule:!0}}function es(t,...n){const i=[],a=new Set;let u;const h=g=>{i.push(g)};return Pi(n,g=>{const v=g;zs(v,h,[],a)&&(u||(u=[]),u.push(v))}),void 0!==u&&na(u,h),i}function na(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:u}=t[i];wo(u,h=>{n(h,a)})}}function zs(t,n,i,a){if(!(t=Qe(t)))return!1;let u=null,h=yn(t);const g=!h&&ar(t);if(h||g){if(g&&!g.standalone)return!1;u=t}else{const I=t.ngModule;if(h=yn(I),!h)return!1;u=I}const v=a.has(u);if(g){if(v)return!1;if(a.add(u),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of I)zs(O,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let O;a.add(u);try{Pi(h.imports,z=>{zs(z,n,i,a)&&(O||(O=[]),O.push(z))})}finally{}void 0!==O&&na(O,n)}if(!v){const O=po(u)||(()=>new u);n({provide:u,useFactory:O,deps:Or},u),n({provide:Lo,useValue:u,multi:!0},u),n({provide:fs,useValue:()=>fi(u),multi:!0},u)}const I=h.providers;if(null!=I&&!v){const O=t;wo(I,z=>{n(z,O)})}}}return u!==t&&void 0!==t.providers}function wo(t,n){for(let i of t)Jt(i)&&(i=i.\u0275providers),Array.isArray(i)?wo(i,n):n(i)}const $o=Zn({provide:String,useValue:Zn});function Fi(t){return null!==t&&"object"==typeof t&&$o in t}function bo(t){return"function"==typeof t}const hl=new Nn(""),Bo={},hc={};let Ta;function Ws(){return void 0===Ta&&(Ta=new Yo),Ta}class So{}class wa extends So{get destroyed(){return this._destroyed}constructor(n,i,a,u){super(),this.parent=i,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mo(n,g=>this.processProvider(g)),this.records.set(ta,Ro(void 0,this)),u.has("environment")&&this.records.set(So,Ro(void 0,this));const h=this.records.get(hl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Lo,Or,Wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=re(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Wi(this),a=yr(void 0);try{return n()}finally{Wi(i),yr(a)}}get(n,i=x,a=Wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Be))return n[Be](this);a=to(a);const h=Wi(this),g=yr(void 0);try{if(!(a&Wt.SkipSelf)){let I=this.records.get(n);if(void 0===I){const O=function Vi(t){return"function"==typeof t||"object"==typeof t&&t instanceof Nn}(n)&&G(n);I=O&&this.injectableDefInScope(O)?Ro(ba(n),Bo):null,this.records.set(n,I)}if(null!=I)return this.hydrate(n,I)}return(a&Wt.Self?Ws():this.parent).get(n,i=a&Wt.Optional&&i===x?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[et]=v[et]||[]).unshift(Gn(n)),h)throw v;return function Gi(t,n,i,a){const u=t[et];throw n[Ei]&&u.unshift(n[Ei]),t.message=function Ao(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Gn(n);if(Array.isArray(n))u=n.map(Gn).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let v=n[g];h.push(g+":"+("string"==typeof v?JSON.stringify(v):Gn(v)))}u=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(Wr,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[et]=null,t}(v,n,"R3InjectorError",this.source)}throw v}finally{yr(g),Wi(h)}}resolveInjectorInitializers(){const n=re(null),i=Wi(this),a=yr(void 0);try{const h=this.get(fs,Or,Wt.Self);for(const g of h)g()}finally{Wi(i),yr(a),re(n)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Gn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new It(205,!1)}processProvider(n){let i=bo(n=Qe(n))?n:Qe(n&&n.provide);const a=function ia(t){return Fi(t)?Ro(void 0,t.useValue):Ro(Du(t),Bo)}(n);if(!bo(n)&&!0===n.multi){let u=this.records.get(i);u||(u=Ro(void 0,Bo,!0),u.factory=()=>us(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,a)}hydrate(n,i){const a=re(null);try{return i.value===Bo&&(i.value=hc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function fl(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{re(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Qe(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function ba(t){const n=G(t),i=null!==n?n.factory:po(t);if(null!==i)return i;if(t instanceof Nn)throw new It(204,!1);if(t instanceof Function)return function Cu(t){if(t.length>0)throw new It(204,!1);const i=function Ot(t){return t&&(t[Wn]||t[En])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new It(204,!1)}function Du(t,n,i){let a;if(bo(t)){const u=Qe(t);return po(u)||ba(u)}if(Fi(t))a=()=>Qe(t.useValue);else if(function Da(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...us(t.deps||[]));else if(function ra(t){return!(!t||!t.useExisting)}(t))a=()=>fi(Qe(t.useExisting));else{const u=Qe(t&&(t.useClass||t.provide));if(!function ts(t){return!!t.deps}(t))return po(u)||ba(u);a=()=>new u(...us(t.deps))}return a}function Ro(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function mo(t,n){for(const i of t)Array.isArray(i)?mo(i,n):i&&Jt(i)?mo(i.\u0275providers,n):n(i)}function ns(t,n){t instanceof wa&&t.assertNotDestroyed();const a=Wi(t),u=yr(void 0);try{return n()}finally{Wi(a),yr(u)}}function vo(){return void 0!==_r()||null!=function Ts(){return Oi}()}const qr=0,nn=1,Bn=2,Hr=3,_i=4,Ci=5,Qi=6,cr=7,ti=8,ro=9,Xr=10,Zt=11,is=12,Vr=13,Rs=14,rr=15,Dn=16,Ms=17,vs=18,Gs=19,Xl=20,Mo=21,Ks=22,os=23,Ir=25,Sa=1,ei=7,oa=9,di=10;var Ra=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ra||{});function pt(t){return Array.isArray(t)&&"object"==typeof t[Sa]}function Zi(t){return Array.isArray(t)&&!0===t[Sa]}function lo(t){return!!(4&t.flags)}function Ma(t){return t.componentOffset>-1}function _s(t){return!(1&~t.flags)}function Bi(t){return!!t.template}function Pa(t){return!!(512&t[Bn])}class Zr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function io(t,n,i,a){null!==n?n.applyValueToInputSignal(n,a):t[i]=a}function xs(){return Ja}function Ja(t){return t.type.prototype.ngOnChanges&&(t.setInput=ml),gl}function gl(){const t=Tu(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Rr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ml(t,n,i,a,u){const h=this.declaredInputs[a],g=Tu(t)||function Na(t,n){return t[sa]=n}(t,{previous:Rr,current:null}),v=g.current||(g.current={}),I=g.previous,O=I[h];v[h]=new Zr(O&&O.currentValue,i,I===Rr),io(t,n,u,i)}xs.ngInherit=!0;const sa="__ngSimpleChanges__";function Tu(t){return t[sa]||null}const aa=function(t,n,i){};let wu=!1;function hr(t){for(;Array.isArray(t);)t=t[qr];return t}function Ni(t,n){return hr(n[t])}function Mr(t,n){return hr(n[t.index])}function la(t,n){return t.data[n]}function jo(t,n){const i=n[t];return pt(i)?i:i[qr]}function Hi(t){return!(128&~t[Bn])}function _o(t,n){return null==n?null:t[n]}function Ai(t){t[Ms]=0}function Oa(t){1024&t[Bn]||(t[Bn]|=1024,Hi(t)&&ka(t))}function tl(t){var n;return!!(9216&t[Bn]||null!==(n=t[os])&&void 0!==n&&n.dirty)}function _l(t){var n;if(null===(n=t[Xr].changeDetectionScheduler)||void 0===n||n.notify(1),tl(t))ka(t);else if(64&t[Bn])if(function el(){return wu}())t[Bn]|=1024,ka(t);else{var i;null===(i=t[Xr].changeDetectionScheduler)||void 0===i||i.notify()}}function ka(t){var n;null===(n=t[Xr].changeDetectionScheduler)||void 0===n||n.notify();let i=Os(t);for(;null!==i&&!(8192&i[Bn])&&(i[Bn]|=8192,Hi(i));)i=Os(i)}function qs(t,n){if(!(256&~t[Bn]))throw new It(911,!1);null===t[Mo]&&(t[Mo]=[]),t[Mo].push(n)}function Os(t){const n=t[Hr];return Zi(n)?n[Hr]:n}const lr={lFrame:jh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vc(){return lr.bindingsEnabled}function Va(){return null!==lr.skipHydrationRootTNode}function Ut(){return lr.lFrame.lView}function br(){return lr.lFrame.tView}function Ed(t){return lr.lFrame.contextLView=t,t[ti]}function yc(t){return lr.lFrame.contextLView=null,t}function ri(){let t=Su();for(;null!==t&&64===t.type;)t=t.parent;return t}function Su(){return lr.lFrame.currentTNode}function gi(t,n){const i=lr.lFrame;i.currentTNode=t,i.isParent=n}function Ic(){return lr.lFrame.isParent}function mi(){lr.lFrame.isParent=!1}function Ji(){const t=lr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ar(){return lr.lFrame.bindingIndex++}function Ad(t,n){const i=lr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ru(n)}function Ru(t){lr.lFrame.currentDirectiveIndex=t}function Cc(){return lr.lFrame.currentQueryIndex}function Mu(t){lr.lFrame.currentQueryIndex=t}function bp(t){const n=t[nn];return 2===n.type?n.declTNode:1===n.type?t[Ci]:null}function Bh(t,n,i){if(i&Wt.SkipSelf){let u=n,h=t;for(;!(u=u.parent,null!==u||i&Wt.Host||(u=bp(h),null===u||(h=h[Rs],10&u.type))););if(null===u)return!1;n=u,t=h}const a=lr.lFrame=bd();return a.currentTNode=n,a.lView=t,!0}function wd(t){const n=bd(),i=t[nn];lr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function bd(){const t=lr.lFrame,n=null===t?null:t.child;return null===n?jh(t):n}function jh(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Sd(){const t=lr.lFrame;return lr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dc=Sd;function Rd(){const t=Sd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uo(){return lr.lFrame.selectedIndex}function Is(t){lr.lFrame.selectedIndex=t}function oi(){const t=lr.lFrame;return la(t.tView,t.selectedIndex)}let Md=!0;function ks(){return Md}function Es(t){Md=t}function Qs(t,n){for(let O=n.directiveStart,z=n.directiveEnd;O<z;O++){const Se=t.data[O].type.prototype,{ngAfterContentInit:Xe,ngAfterContentChecked:gt,ngAfterViewInit:Vt,ngAfterViewChecked:ln,ngOnDestroy:pn}=Se;var i,a,u,h,g,v,I;Xe&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-O,Xe),gt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(O,gt),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(O,gt)),Vt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-O,Vt),ln&&((null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(O,ln),(null!==(v=t.viewCheckHooks)&&void 0!==v?v:t.viewCheckHooks=[]).push(O,ln)),null!=pn&&(null!==(I=t.destroyHooks)&&void 0!==I?I:t.destroyHooks=[]).push(O,pn)}}function co(t,n,i){Cl(t,n,3,i)}function eu(t,n,i,a){(3&t[Bn])===i&&Cl(t,n,i,a)}function tu(t,n){let i=t[Bn];(3&i)===n&&(i&=16383,i+=1,t[Bn]=i)}function Cl(t,n,i,a){const h=null!=a?a:-1,g=n.length-1;let v=0;for(let I=void 0!==a?65535&t[Ms]:0;I<g;I++)if("number"==typeof n[I+1]){if(v=n[I],null!=a&&v>=a)break}else n[I]<0&&(t[Ms]+=65536),(v<h||-1==h)&&(Rp(t,i,n,I),t[Ms]=(4294901760&t[Ms])+I+2),I++}function nu(t,n){aa(4,t,n);const i=re(null);try{n.call(t)}finally{re(i),aa(5,t,n)}}function Rp(t,n,i,a){const u=i[a]<0,h=i[a+1],v=t[u?-i[a]:i[a]];u?t[Bn]>>14<t[Ms]>>16&&(3&t[Bn])===n&&(t[Bn]+=16384,nu(v,h)):nu(v,h)}const Cs=-1;class da{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Dl(t){return t!==Cs}function Al(t){return 32767&t}function Ou(t,n){let i=function ha(t){return t>>16}(t),a=n;for(;i>0;)a=a[Rs],i--;return a}let Tl=!0;function y(t){const n=Tl;return Tl=t,n}const m=255,T=5;let W=0;const ce={};function xt(t,n){const i=zn(t,n);if(-1!==i)return i;const a=n[nn];a.firstCreatePass&&(t.injectorIndex=n.length,tn(a.data,t),tn(n,null),tn(a.blueprint,null));const u=tr(t,n),h=t.injectorIndex;if(Dl(u)){const g=Al(u),v=Ou(u,n),I=v[nn].data;for(let O=0;O<8;O++)n[h+O]=v[g+O]|I[g+O]}return n[h+8]=u,h}function tn(t,n){t.push(0,0,0,0,0,0,0,0,n)}function zn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function tr(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){if(a=xp(u),null===a)return Cs;if(i++,u=u[Rs],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Cs}function kr(t,n,i){!function ot(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Y)&&(a=i[Y]),null==a&&(a=i[Y]=W++);const u=a&m;n.data[t+(u>>T)]|=1<<u}(t,n,i)}function Ho(t,n,i){if(i&Wt.Optional||void 0!==t)return t;an()}function ru(t,n,i,a){if(i&Wt.Optional&&void 0===a&&(a=null),!(i&(Wt.Self|Wt.Host))){const u=t[ro],h=yr(void 0);try{return u?u.get(n,a,i&Wt.Optional):Br(n,a,i&Wt.Optional)}finally{yr(h)}}return Ho(a,0,i)}function Ba(t,n,i,a=Wt.Default,u){if(null!==t){if(2048&n[Bn]&&!(a&Wt.Self)){const g=function cy(t,n,i,a,u){let h=t,g=n;for(;null!==h&&null!==g&&2048&g[Bn]&&!(512&g[Bn]);){const v=ku(h,g,i,a|Wt.Self,ce);if(v!==ce)return v;let I=h.parent;if(!I){const O=g[Xl];if(O){const z=O.get(i,ce,a);if(z!==ce)return z}I=xp(g),g=g[Rs]}h=I}return u}(t,n,i,a,ce);if(g!==ce)return g}const h=ku(t,n,i,a,ce);if(h!==ce)return h}return ru(n,i,a,u)}function ku(t,n,i,a,u){const h=function ou(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof n?n>=0?n&m:Gh:n}(i);if("function"==typeof h){if(!Bh(n,t,a))return a&Wt.Host?Ho(u,0,a):ru(n,i,a,u);try{let g;if(g=h(a),null!=g||a&Wt.Optional)return g;an()}finally{Dc()}}else if("number"==typeof h){let g=null,v=zn(t,n),I=Cs,O=a&Wt.Host?n[rr][Ci]:null;for((-1===v||a&Wt.SkipSelf)&&(I=-1===v?tr(t,n):n[v+8],I!==Cs&&Tc(a,!1)?(g=n[nn],v=Al(I),n=Ou(I,n)):v=-1);-1!==v;){const z=n[nn];if(xd(h,v,z.data)){const Z=wl(v,n,i,g,a,O);if(Z!==ce)return Z}I=n[v+8],I!==Cs&&Tc(a,n[nn].data[v+8]===O)&&xd(h,v,n)?(g=z,v=Al(I),n=Ou(I,n)):v=-1}}return u}function wl(t,n,i,a,u,h){const g=n[nn],v=g.data[t+8],z=iu(v,g,i,null==a?Ma(v)&&Tl:a!=g&&!!(3&v.type),u&Wt.Host&&h===v);return null!==z?fa(n,g,z,v):ce}function iu(t,n,i,a,u){const h=t.providerIndexes,g=n.data,v=1048575&h,I=t.directiveStart,z=h>>20,Se=u?v+z:t.directiveEnd;for(let Xe=a?v:v+z;Xe<Se;Xe++){const gt=g[Xe];if(Xe<I&&i===gt||Xe>=I&&gt.type===i)return Xe}if(u){const Xe=g[I];if(Xe&&Bi(Xe)&&Xe.type===i)return I}return null}function fa(t,n,i,a){let u=t[i];const h=n.data;if(function xu(t){return t instanceof da}(u)){const g=u;g.resolving&&function en(t,n){throw n&&n.join(" > "),new It(-200,t)}(function nt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(h[i]));const v=y(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?yr(g.injectImpl):null;Bh(t,a,Wt.Default);try{u=t[i]=g.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Pd(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=n.type.prototype;if(a){var g,v;const Z=Ja(n);(null!==(g=i.preOrderHooks)&&void 0!==g?g:i.preOrderHooks=[]).push(t,Z),(null!==(v=i.preOrderCheckHooks)&&void 0!==v?v:i.preOrderCheckHooks=[]).push(t,Z)}var I,O,z;u&&(null!==(I=i.preOrderHooks)&&void 0!==I?I:i.preOrderHooks=[]).push(0-t,u),h&&((null!==(O=i.preOrderHooks)&&void 0!==O?O:i.preOrderHooks=[]).push(t,h),(null!==(z=i.preOrderCheckHooks)&&void 0!==z?z:i.preOrderCheckHooks=[]).push(t,h))}(i,h[i],n)}finally{null!==O&&yr(O),y(v),g.resolving=!1,Dc()}}return u}function xd(t,n,i){return!!(i[n+(t>>T)]&1<<t)}function Tc(t,n){return!(t&Wt.Self||t&Wt.Host&&n)}class Mi{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Ba(this._tNode,this._lView,n,to(a),i)}}function Gh(){return new Mi(ri(),Ut())}function Bm(t){return mn(()=>{const n=t.prototype.constructor,i=n[B]||Fu(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[B]||Fu(u);if(h&&h!==i)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Fu(t){return Ge(t)?()=>{const n=Fu(Qe(t));return n&&n()}:po(t)}function xp(t){const n=t[nn],i=n.type;return 2===i?n.declTNode:1===i?t[Ci]:null}function bl(t){return function oo(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const h=i[u];if(Ia(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(h===n)return i[u+1];u+=2}}}return null}(ri(),t)}function Vp(t,n=null,i=null,a){const u=Od(t,n,i,a);return u.resolveInjectorInitializers(),u}function Od(t,n=null,i=null,a,u=new Set){const h=[i||Or,Za(t)];return a=a||("object"==typeof t?void 0:Gn(t)),new wa(h,n||Ws(),a||null,u)}let Fs=(()=>{var t;class n{static create(a,u){if(Array.isArray(a))return Vp({name:""},u,a,"");{var h;const g=null!==(h=a.name)&&void 0!==h?h:"";return Vp({name:g},a.parent,a.providers,g)}}}return(t=n).THROW_IF_NOT_FOUND=x,t.NULL=new Yo,t.\u0275prov=Mt({token:t,providedIn:"any",factory:()=>fi(ta)}),t.__NG_ELEMENT_ID__=-1,n})();function kd(t){return t.ngOriginalError}class Ys{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&kd(n);for(;i&&kd(i);)i=kd(i);return i||null}}const wc=new Nn("",{providedIn:"root",factory:()=>er(Ys).handleError.bind(void 0)});let rl=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Hm,t.__NG_ENV_ID__=i=>i,n})();class Xh extends rl{constructor(n){super(),this._lView=n}onDestroy(n){return qs(this._lView,n),()=>function ua(t,n){if(null===t[Mo])return;const i=t[Mo].indexOf(n);-1!==i&&t[Mo].splice(i,1)}(this._lView,n)}}function Hm(){return new Xh(Ut())}function vy(){return bc(ri(),Ut())}function bc(t,n){return new Fd(Mr(t,n))}let Fd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=vy,n})();function Qh(t){return t instanceof Fd?t.nativeElement:t}function Yh(t){return n=>{setTimeout(t,void 0,n)}}const il=class Sc extends $n.B{constructor(n=!1){var i;super(),this.destroyRef=void 0,this.__isAsync=n,vo()&&(this.destroyRef=null!==(i=er(rl,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const i=re(null);try{super.next(n)}finally{re(i)}}subscribe(n,i,a){let u=n,h=i||(()=>null),g=a;if(n&&"object"==typeof n){var v,I,O;const Z=n;u=null===(v=Z.next)||void 0===v?void 0:v.bind(Z),h=null===(I=Z.error)||void 0===I?void 0:I.bind(Z),g=null===(O=Z.complete)||void 0===O?void 0:O.bind(Z)}this.__isAsync&&(h=Yh(h),u&&(u=Yh(u)),g&&(g=Yh(g)));const z=super.subscribe({next:u,error:h,complete:g});return n instanceof Tt.yU&&n.add(z),z}};function so(){return this._results[Symbol.iterator]()}class Vd{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new il}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Vd.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=so)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const a=function wi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function hs(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=n[a];if(i&&(u=i(u),h=i(h)),h!==u)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ld(t){return!(128&~t.flags)}let $d;function Wm(t){$d=t}const $p=new Nn("",{providedIn:"root",factory:()=>_y}),_y="ng",Gm=new Nn(""),Uu=new Nn("",{providedIn:"platform",factory:()=>"unknown"}),qm=new Nn("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Rl(){if(void 0!==$d)return $d;if(typeof document<"u")return document;throw new It(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let zp=()=>null;function ef(t,n,i=!1){return zp(t,n,i)}const rf=new Nn("",{providedIn:"root",factory:()=>!1});let Pc;function Gu(t){var n;return(null===(n=function xc(){if(void 0===Pc&&(Pc=null,Sn.trustedTypes))try{Pc=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===n?void 0:n.createScriptURL(t))||t}class Nc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function Ga(t){return t instanceof Nc?t.changingThisBreaksApplicationSecurity:t}function uu(t,n){const i=function rv(t){return t instanceof Nc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Dt})`)}return i===n}const Ty=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Uc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Uc||{});function hf(t){const n=Bc();return n?n.sanitize(Uc.URL,t)||"":uu(t,"URL")?Ga(t):function lf(t){return(t=String(t)).match(Ty)?t:"unsafe:"+t}(Ne(t))}function $c(t){const n=Bc();if(n)return Gu(n.sanitize(Uc.RESOURCE_URL,t)||"");if(uu(t,"ResourceURL"))return Gu(Ga(t));throw new It(904,!1)}function tg(t,n,i){return function Oy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?$c:hf}(n,i)(t)}function Bc(){const t=Ut();return t&&t[Xr].sanitizer}const ng=/^>|^->|<!--|-->|--!>|<!-$/g,Fy=/(<|>)/g,dv="\u200b$1\u200b";const Zd=new Map;let pf=0;const gf="__ngContext__";function No(t,n){pt(n)?(t[gf]=n[Gs],function gv(t){Zd.set(t[Gs],t)}(n)):t[gf]=n}function ko(t){return t instanceof Function?t():t}var Xc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xc||{});let gg;function th(t,n){return gg(t,n)}function hu(t,n,i,a,u){if(null!=a){let h,g=!1;Zi(a)?h=a:pt(a)&&(g=!0,a=a[qr]);const v=hr(a);0===t&&null!==i?null==u?Yu(n,i,v):kl(n,i,v,u||null,!0):1===t&&null!==i?kl(n,i,v,u||null,!0):2===t?function ec(t,n,i){const a=Vl(t,n);a&&function Ig(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,v,g):3===t&&n.destroyNode(v),null!=h&&function Qy(t,n,i,a,u){const h=i[ei];h!==hr(i)&&hu(n,t,a,h,u);for(let v=di;v<i.length;v++){const I=i[v];Zc(I[nn],I,t,n,a,h)}}(n,t,h,i,u)}}function nh(t,n){return t.createComment(function hv(t){return t.replace(ng,n=>n.replace(Fy,dv))}(n))}function Af(t,n,i){return t.createElement(n,i)}function mg(t,n){var i;null===(i=n[Xr].changeDetectionScheduler)||void 0===i||i.notify(1),Zc(t,n,n[Zt],2,null,null)}function Tf(t,n){const i=t[oa],a=i.indexOf(n);i.splice(a,1)}function rh(t,n){if(t.length<=di)return;const i=di+n,a=t[i];if(a){const u=a[Dn];null!==u&&u!==t&&Tf(u,a),n>0&&(t[i-1][_i]=a[_i]);const h=ws(t,di+n);!function Gy(t,n){mg(t,n),n[qr]=null,n[Ci]=null}(a[nn],a);const g=h[vs];null!==g&&g.detachView(h[nn]),a[Hr]=null,a[_i]=null,a[Bn]&=-129}return a}function Qc(t,n){if(!(256&n[Bn])){const i=n[Zt];i.destroyNode&&Zc(t,n,i,3,null,null),function Ky(t){let n=t[is];if(!n)return _g(t[nn],t);for(;n;){let i=null;if(pt(n))i=n[is];else{const a=n[di];a&&(i=a)}if(!i){for(;n&&!n[_i]&&n!==t;)pt(n)&&_g(n[nn],n),n=n[Hr];null===n&&(n=t),pt(n)&&_g(n[nn],n),i=n&&n[_i]}n=i}}(n)}}function _g(t,n){if(256&n[Bn])return;const i=re(null);try{n[Bn]&=-129,n[Bn]|=256,n[os]&&function Fe(t){if(fe(t),Ye(t))for(let n=0;n<t.producerNode.length;n++)He(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[os]),function Ev(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof da)){const h=i[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const v=u[h[g]],I=h[g+1];aa(4,v,I);try{I.call(v)}finally{aa(5,v,I)}}else{aa(4,u,h);try{h.call(u)}finally{aa(5,u,h)}}}}}(t,n),function yg(t,n){const i=t.cleanup,a=n[cr];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const g=i[h+3];g>=0?a[g]():a[-g].unsubscribe(),h+=2}else i[h].call(a[i[h+1]]);null!==a&&(n[cr]=null);const u=n[Mo];if(null!==u){n[Mo]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,n),1===n[nn].type&&n[Zt].destroy();const a=n[Dn];if(null!==a&&Zi(n[Hr])){a!==n[Hr]&&Tf(a,n);const u=n[vs];null!==u&&u.detachView(t)}!function Ly(t){Zd.delete(t[Gs])}(n)}finally{re(i)}}function ih(t,n,i){return function wf(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[qr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===To.None||h===To.Emulated)return null}return Mr(a,i)}}(t,n.parent,i)}function kl(t,n,i,a,u){t.insertBefore(n,i,a,u)}function Yu(t,n,i){t.appendChild(n,i)}function Fl(t,n,i,a,u){null!==a?kl(t,n,i,a,u):Yu(t,n,i)}function Vl(t,n){return t.parentNode(n)}function Zu(t,n,i){return Av(t,n,i)}let sh,Av=function Dv(t,n,i){return 40&t.type?Mr(t,i):null};function Yc(t,n,i,a){const u=ih(t,a,n),h=n[Zt],v=Zu(a.parent||n[Ci],a,n);if(null!=u)if(Array.isArray(i))for(let I=0;I<i.length;I++)Fl(h,u,i[I],v,!1);else Fl(h,u,i,v,!1);void 0!==sh&&sh(h,a,n,i,u)}function Ju(t,n){if(null!==n){const i=n.type;if(3&i)return Mr(n,t);if(4&i)return Eg(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Ju(t,a);{const u=t[n.index];return Zi(u)?Eg(-1,u):hr(u)}}if(32&i)return th(n,t)()||hr(t[n.index]);{const a=Tv(t,n);return null!==a?Array.isArray(a)?a[0]:Ju(Os(t[rr]),a):Ju(t,n.next)}}return null}function Tv(t,n){return null!==n?t[rr][Ci].projection[n.projection]:null}function Eg(t,n){const i=di+t+1;if(i<n.length){const a=n[i],u=a[nn].firstChild;if(null!==u)return Ju(a,u)}return n[ei]}function Rf(t,n,i,a,u,h,g){for(;null!=i;){const v=a[i.index],I=i.type;if(g&&0===n&&(v&&No(hr(v),a),i.flags|=2),32&~i.flags)if(8&I)Rf(t,n,i.child,a,u,h,!1),hu(n,t,u,v,h);else if(32&I){const O=th(i,a);let z;for(;z=O();)hu(n,t,u,z,h);hu(n,t,u,v,h)}else 16&I?Cg(t,n,a,i,u,h):hu(n,t,u,v,h);i=g?i.projectionNext:i.next}}function Zc(t,n,i,a,u,h){Rf(i,a,t.firstChild,n,u,h,!1)}function Cg(t,n,i,a,u,h){const g=i[rr],I=g[Ci].projection[a.projection];if(Array.isArray(I))for(let O=0;O<I.length;O++)hu(n,t,u,I[O],h);else{let O=I;const z=g[Hr];Ld(a)&&(O.flags|=128),Rf(t,n,O,z,u,h,!0)}}function Dg(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Ag(t,n,i){const{mergedAttrs:a,classes:u,styles:h}=i;null!==a&&ui(t,n,a),null!==u&&Dg(t,n,u),null!==h&&function bv(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}const Pr={};function Sv(t=1){Rv(br(),Ut(),uo()+t,!1)}function Rv(t,n,i,a){if(!a)if(3&~n[Bn]){const h=t.preOrderHooks;null!==h&&eu(n,h,0,i)}else{const h=t.preOrderCheckHooks;null!==h&&co(n,h,i)}Is(i)}function Jc(t,n=Wt.Default){const i=Ut();return null===i?fi(t,n):Ba(ri(),i,Qe(t),n)}function Mf(){throw new Error("invalid")}function Mv(t,n,i,a,u,h){const g=re(null);try{let v=null;u&Si.SignalBased&&(v=n[a][ye]),null!==v&&void 0!==v.transformFn&&(h=v.transformFn(h)),u&Si.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,v,h,i,a):io(n,v,a,h)}finally{re(g)}}function ah(t,n,i,a,u,h,g,v,I,O,z){const Z=n.blueprint.slice();return Z[qr]=u,Z[Bn]=204|a,(null!==O||t&&2048&t[Bn])&&(Z[Bn]|=2048),Ai(Z),Z[Hr]=Z[Rs]=t,Z[ti]=i,Z[Xr]=g||t&&t[Xr],Z[Zt]=v||t&&t[Zt],Z[ro]=I||t&&t[ro]||null,Z[Ci]=h,Z[Gs]=function pv(){return pf++}(),Z[Qi]=z,Z[Xl]=O,Z[rr]=2==n.type?t[rr]:Z,Z}function fu(t,n,i,a,u){let h=t.data[n];if(null===h)h=function lh(t,n,i,a,u){const h=Su(),g=Ic(),I=t.data[n]=function Zy(t,n,i,a,u,h){let g=n?n.injectorIndex:-1,v=0;return Va()&&(v|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=I),null!==h&&(g?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I,I.prev=h)),I}(t,n,i,a,u),function nl(){return lr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=a,h.attrs=u;const g=function Il(){const t=lr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return gi(h,!0),h}function tc(t,n,i,a){if(0===i)return-1;const u=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function Pv(t,n,i,a,u){const h=uo(),g=2&a;try{Is(-1),g&&n.length>Ir&&Rv(t,n,Ir,!1),aa(g?2:0,u),i(a,u)}finally{Is(h),aa(g?3:1,u)}}function uh(t,n,i){if(lo(n)){const a=re(null);try{const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,i[g],g)}}finally{re(a)}}}function wg(t,n,i){vc()&&(function Jy(t,n,i,a){const u=i.directiveStart,h=i.directiveEnd;Ma(i)&&function o0(t,n,i){const a=Mr(n,t),u=xv(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const v=td(t,ah(t,u,null,g,a,n,null,t[Xr].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=v}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||xt(i,n),No(a,n);const g=i.initialInputs;for(let v=u;v<h;v++){const I=t.data[v],O=fa(n,t,v,i);No(O,n),null!==g&&Fg(0,v-u,O,I,0,g),Bi(I)&&(jo(i.index,n)[ti]=fa(n,t,v,i))}}(t,n,i,Mr(i,n)),!(64&~i.flags)&&Nf(t,n,i))}function ch(t,n,i=Mr){const a=n.localNames;if(null!==a){let u=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],v=-1===g?i(n,t):t[g];t[u++]=v}}}function xv(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=dh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function dh(t,n,i,a,u,h,g,v,I,O,z){const Z=Ir+a,Se=Z+u,Xe=function Nv(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:Pr);return i}(Z,Se),gt="function"==typeof O?O():O;return Xe[nn]={type:t,blueprint:Xe,template:i,queries:null,viewQuery:v,declTNode:n,data:Xe.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:gt,incompleteFirstPass:!1,ssrId:z}}let kv=()=>null;function Pf(t,n,i,a,u){for(let g in n){var h;if(!n.hasOwnProperty(g))continue;const v=n[g];if(void 0===v)continue;null!==(h=a)&&void 0!==h||(a={});let I,O=Si.None;Array.isArray(v)?(I=v[0],O=v[1]):I=v;let z=g;if(null!==u){if(!u.hasOwnProperty(g))continue;z=u[g]}0===t?Fv(a,i,z,I,O):Fv(a,i,z,I)}return a}function Fv(t,n,i,a,u){let h;t.hasOwnProperty(i)?(h=t[i]).push(n,a):h=t[i]=[n,a],void 0!==u&&h.push(u)}function as(t,n,i,a,u,h,g,v){const I=Mr(n,i);let z,O=n.inputs;!v&&null!=O&&(z=O[a])?(Lg(t,i,z,a,u),Ma(n)&&function ed(t,n){const i=jo(n,t);16&i[Bn]||(i[Bn]|=64)}(i,n.index)):3&n.type&&(a=function Pg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,n.value||"",a):u,h.setProperty(I,a,u))}function xg(t,n,i,a){if(vc()){const u=null===a?null:{"":-1},h=function t0(t,n){const i=t.directiveRegistry;let a=null,u=null;if(i)for(let g=0;g<i.length;g++){const v=i[g];if(X(n,v.selectors,!1))if(a||(a=[]),Bi(v))if(null!==v.findHostDirectiveDefs){const I=[];u=u||new Map,v.findHostDirectiveDefs(v,I,u),a.unshift(...I,v),hh(t,n,I.length)}else a.unshift(v),hh(t,n,0);else{var h;u=u||new Map,null===(h=v.findHostDirectiveDefs)||void 0===h||h.call(v,v,a,u),a.push(v)}}return null===a?null:[a,u]}(t,i);let g,v;null===h?g=v=null:[g,v]=h,null!==g&&xf(t,n,i,g,u,v),u&&function n0(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const h=i[n[u+1]];if(null==h)throw new It(-301,!1);a.push(n[u],h)}}}(i,a,u)}i.mergedAttrs=ao(i.mergedAttrs,i.attrs)}function xf(t,n,i,a,u,h){for(let Z=0;Z<a.length;Z++)kr(xt(i,n),t,a[Z].type);!function r0(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let Z=0;Z<a.length;Z++){const Se=a[Z];Se.providersResolver&&Se.providersResolver(Se)}let g=!1,v=!1,I=tc(t,n,a.length,null);for(let Z=0;Z<a.length;Z++){const Se=a[Z];i.mergedAttrs=ao(i.mergedAttrs,Se.hostAttrs),kg(t,i,n,I,Se),Og(I,Se,u),null!==Se.contentQueries&&(i.flags|=4),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(i.flags|=64);const Xe=Se.type.prototype;var O,z;!g&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((null!==(O=t.preOrderHooks)&&void 0!==O?O:t.preOrderHooks=[]).push(i.index),g=!0),v||!Xe.ngOnChanges&&!Xe.ngDoCheck||((null!==(z=t.preOrderCheckHooks)&&void 0!==z?z:t.preOrderCheckHooks=[]).push(i.index),v=!0),I++}!function Mg(t,n,i){const u=n.directiveEnd,h=t.data,g=n.attrs,v=[];let I=null,O=null;for(let z=n.directiveStart;z<u;z++){const Z=h[z],Se=i?i.get(Z):null,gt=Se?Se.outputs:null;I=Pf(0,Z.inputs,z,I,Se?Se.inputs:null),O=Pf(1,Z.outputs,z,O,gt);const Vt=null===I||null===g||Bs(n)?null:Uv(I,z,g);v.push(Vt)}null!==I&&(I.hasOwnProperty("class")&&(n.flags|=8),I.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=I,n.outputs=O}(t,i,h)}function Nf(t,n,i){const a=i.directiveStart,u=i.directiveEnd,h=i.index,g=function Td(){return lr.lFrame.currentDirectiveIndex}();try{Is(h);for(let v=a;v<u;v++){const I=t.data[v],O=n[v];Ru(v),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&e0(I,O)}}finally{Is(-1),Ru(g)}}function e0(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function hh(t,n,i){var a;n.componentOffset=i,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Og(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Bi(n)&&(i[""]=t)}}function kg(t,n,i,a,u){t.data[a]=u;const h=u.factory||(u.factory=po(u.type)),g=new da(h,Bi(u),Jc);t.blueprint[a]=g,i[a]=g,function Ll(t,n,i,a,u){const h=u.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~n.index;(function Ng(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=v&&g.push(v),g.push(i,a,h)}}(t,n,a,tc(t,i,u.hostVars,Pr),u)}function pa(t,n,i,a,u,h){const g=Mr(t,n);!function Of(t,n,i,a,u,h,g){if(null==h)t.removeAttribute(n,u,i);else{const v=null==g?Ne(h):g(h,a||"",u);t.setAttribute(n,u,v,i)}}(n[Zt],g,h,t.value,i,a,u)}function Fg(t,n,i,a,u,h){const g=h[n];if(null!==g)for(let v=0;v<g.length;)Mv(a,i,g[v++],g[v++],g[v++],g[v++])}function Uv(t,n,i){let a=null,u=0;for(;u<i.length;){const h=i[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const g=t[h];for(let v=0;v<g.length;v+=3)if(g[v]===n){a.push(h,g[v+1],g[v+2],i[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function $v(t,n,i,a){return[t,!0,0,n,null,a,null,i,null,null]}function Bv(t,n){const i=t.contentQueries;if(null!==i){const a=re(null);try{for(let u=0;u<i.length;u+=2){const g=i[u+1];if(-1!==g){const v=t.data[g];Mu(i[u]),v.contentQueries(2,n[g],g)}}}finally{re(a)}}}function td(t,n){return t[is]?t[Vr][_i]=n:t[is]=n,t[Vr]=n,n}function Vg(t,n,i){Mu(0);const a=re(null);try{n(t,i)}finally{re(a)}}function fh(t){return t[cr]||(t[cr]=[])}function kf(t){return t.cleanup||(t.cleanup=[])}function Ul(t,n){const i=t[ro],a=i?i.get(Ys,null):null;a&&a.handleError(n)}function Lg(t,n,i,a,u){for(let h=0;h<i.length;){const g=i[h++],v=i[h++],I=i[h++];Mv(t.data[g],n[g],a,v,I,u)}}function zv(t,n){const i=jo(n,t),a=i[nn];!function nd(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const u=i[qr];null!==u&&null===i[Qi]&&(i[Qi]=ef(u,i[ro])),Ff(a,i,i[ti])}function Ff(t,n,i){wd(n);try{var a;const u=t.viewQuery;null!==u&&Vg(1,u,i);const h=t.template;null!==h&&Pv(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[vs])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Bv(t,n),t.staticViewQueries&&Vg(2,t.viewQuery,i);const g=t.components;null!==g&&function Vf(t,n){for(let i=0;i<n.length;i++)zv(t,n[i])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Bn]&=-5,Rd()}}function rd(t,n){return!n||null===n.firstChild||Ld(t)}function gh(t,n,i,a=!0){const u=n[nn];if(function vg(t,n,i,a){const u=di+a,h=i.length;a>0&&(i[u-1][_i]=n),a<h-di?(n[_i]=i[u],ya(i,di+a,n)):(i.push(n),n[_i]=null),n[Hr]=i;const g=n[Dn];null!==g&&i!==g&&function qy(t,n){const i=t[oa];n[rr]!==n[Hr][Hr][rr]&&(t[Bn]|=Ra.HasTransplantedViews),null===i?t[oa]=[n]:i.push(n)}(g,n);const v=n[vs];null!==v&&v.insertView(t),_l(n),n[Bn]|=128}(u,n,t,i),a){const g=Eg(i,t),v=n[Zt],I=Vl(v,t[ei]);null!==I&&function Iv(t,n,i,a,u,h){a[qr]=u,a[Ci]=n,Zc(t,a,i,1,u,h)}(u,t[Ci],v,n,I,g)}const h=n[Qi];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function nc(t,n,i,a,u=!1){for(;null!==i;){const h=n[i.index];null!==h&&a.push(hr(h)),Zi(h)&&Lf(h,a);const g=i.type;if(8&g)nc(t,n,i.child,a);else if(32&g){const v=th(i,n);let I;for(;I=v();)a.push(I)}else if(16&g){const v=Tv(n,i);if(Array.isArray(v))a.push(...v);else{const I=Os(n[rr]);nc(I[nn],I,v,a,!0)}}i=u?i.projectionNext:i.next}return a}function Lf(t,n){for(let i=di;i<t.length;i++){const a=t[i],u=a[nn].firstChild;null!==u&&nc(a[nn],a,u,n)}t[ei]!==t[qr]&&n.push(t[ei])}let Uf=[];const $f={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ka(t.lView)},consumerOnSignalRead(){this.lView[os]=this}};function rc(t){return Bf(t[is])}function jg(t){return Bf(t[_i])}function Bf(t){for(;null!==t&&!Zi(t);)t=t[_i];return t}const Hg=100;function $l(t,n=!0,i=0){const a=t[Xr],u=a.rendererFactory;var g;null===(g=u.begin)||void 0===g||g.call(u);try{!function zg(t,n){Gg(t,n);let i=0;for(;tl(t);){if(i===Hg)throw new It(103,!1);i++,Gg(t,1)}}(t,i)}catch(O){throw n&&Ul(t,O),O}finally{var v,I;null===(v=u.end)||void 0===v||v.call(u),null===(I=a.inlineEffectRunner)||void 0===I||I.flush()}}function s0(t,n,i,a){var u;const h=n[Bn];if(!(256&~h))return;null===(u=n[Xr].inlineEffectRunner)||void 0===u||u.flush(),wd(n);let v=null,I=null;(function a0(t){return 2!==t.type})(t)&&(I=function Gv(t){var n;return null!==(n=t[os])&&void 0!==n?n:function Ug(t){var n;const i=null!==(n=Uf.pop())&&void 0!==n?n:Object.create($f);return i.lView=t,i}(t)}(n),v=function Re(t){return t&&(t.nextProducerIndex=0),re(t)}(I));try{Ai(n),function Dd(t){return lr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Pv(t,n,i,2,a);const O=!(3&~h);if(O){const Se=t.preOrderCheckHooks;null!==Se&&co(n,Se,null)}else{const Se=t.preOrderHooks;null!==Se&&eu(n,Se,0,null),tu(n,0)}if(function l0(t){for(let n=rc(t);null!==n;n=jg(n)){if(!(n[Bn]&Ra.HasTransplantedViews))continue;const i=n[oa];for(let a=0;a<i.length;a++){Oa(i[a])}}}(n),Wg(n,0),null!==t.contentQueries&&Bv(t,n),O){const Se=t.contentCheckHooks;null!==Se&&co(n,Se)}else{const Se=t.contentHooks;null!==Se&&eu(n,Se,1),tu(n,1)}!function Tg(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)Is(~u);else{const h=u,g=i[++a],v=i[++a];Ad(g,h),v(2,n[h])}}}finally{Is(-1)}}(t,n);const z=t.components;null!==z&&Qv(n,z,0);const Z=t.viewQuery;if(null!==Z&&Vg(2,Z,a),O){const Se=t.viewCheckHooks;null!==Se&&co(n,Se)}else{const Se=t.viewHooks;null!==Se&&eu(n,Se,2),tu(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ks]){for(const Se of n[Ks])Se();n[Ks]=null}n[Bn]&=-73}catch(O){throw ka(n),O}finally{null!==I&&(function $e(t,n){if(re(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ye(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)He(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(I,v),function $g(t){t.lView[os]!==t&&(t.lView=null,Uf.push(t))}(I)),Rd()}}function Wg(t,n){for(let i=rc(t);null!==i;i=jg(i))for(let a=di;a<i.length;a++)Xv(i[a],n)}function qv(t,n,i){Xv(jo(n,t),i)}function Xv(t,n){Hi(t)&&Gg(t,n)}function Gg(t,n){const a=t[nn],u=t[Bn],h=t[os];let g=!!(0===n&&16&u);if(g||(g=!!(64&u&&0===n)),g||(g=!!(1024&u)),g||(g=!(null==h||!h.dirty||!at(h))),h&&(h.dirty=!1),t[Bn]&=-9217,g)s0(a,t,a.template,t[ti]);else if(8192&u){Wg(t,1);const v=a.components;null!==v&&Qv(t,v,1)}}function Qv(t,n,i){for(let a=0;a<n.length;a++)qv(t,n[a],i)}function mh(t){var n;for(null===(n=t[Xr].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Bn]|=64;const i=Os(t);if(Pa(t)&&!i)return t;t=i}return null}class vh{get rootNodes(){const n=this._lView,i=n[nn];return nc(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(n){this._lView[ti]=n}get destroyed(){return!(256&~this._lView[Bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Hr];if(Zi(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(rh(n,a),ws(i,a))}this._attachedToViewContainer=!1}Qc(this._lView[nn],this._lView)}onDestroy(n){qs(this._lView,n)}markForCheck(){mh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bn]&=-129}reattach(){_l(this._lView),this._lView[Bn]|=128}detectChanges(){this._lView[Bn]|=1024,$l(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new It(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mg(this._lView[nn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new It(902,!1);this._appRef=n,_l(this._lView)}}let _h=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kg,n})();const Yv=_h,Zv=class extends Yv{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const u=function ph(t,n,i,a){const u=re(null);try{var h,g;const v=n.tView,z=ah(t,v,i,4096&t[Bn]?4096:16,null,n,null,null,null,null!==(h=null==a?void 0:a.injector)&&void 0!==h?h:null,null!==(g=null==a?void 0:a.dehydratedView)&&void 0!==g?g:null);z[Dn]=t[n.index];const Se=t[vs];return null!==Se&&(z[vs]=Se.createEmbeddedView(v)),Ff(v,z,i),z}finally{re(u)}}(this._declarationLView,this._declarationTContainer,n,{injector:i,dehydratedView:a});return new vh(u)}};function Kg(){return yh(ri(),Ut())}function yh(t,n){return 4&t.type?new Zv(n,t,bc(t,n)):null}class Zg{}class oc{}class Eh{}class em{resolveComponentFactory(n){throw function Ch(t){const n=Error(`No component factory found for ${Gn(t)}.`);return n.ngComponent=t,n}(n)}}let ad=(()=>{class n{}return n.NULL=new em,n})();class Xf{}let tm=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function nm(){const t=Ut(),i=jo(ri().index,t);return(pt(i)?i:t)[Zt]}(),n})(),d_=(()=>{var t;class n{}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:()=>null}),n})();const jl={},rm=new Set;function ga(t){var n,i;rm.has(t)||(rm.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}function ld(...t){}class Ui{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),typeof Zone>"u")throw new It(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function E0(){const t="function"==typeof Sn.requestAnimationFrame;let n=Sn[t?"requestAnimationFrame":"setTimeout"],i=Sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Qf(t){const n=()=>{!function C0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yf(t),t.isCheckStableRunning=!0,sc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,h,g,v)=>{if(function Dh(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(v))return i.invokeTask(u,h,g,v);try{return Zf(t),i.invokeTask(u,h,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),ud(t)}},onInvoke:(i,a,u,h,g,v,I)=>{try{return Zf(t),i.invoke(u,h,g,v,I)}finally{t.shouldCoalesceRunChangeDetection&&n(),ud(t)}},onHasTask:(i,a,u,h)=>{i.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Yf(t),sc(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,u,h)=>(i.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ui.isInAngularZone())throw new It(909,!1)}static assertNotInAngularZone(){if(Ui.isInAngularZone())throw new It(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+u,n,h_,ld,ld);try{return h.runTask(g,i,a)}finally{h.cancelTask(g)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const h_={};function sc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ud(t){t._nesting--,sc(t)}class f_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}var ma=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ma||{});const A0={destroy(){}};function g_(t,n){var i,a,u;!n&&function C(t){if(!vo())throw new It(-203,!1)}();const h=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:er(Fs);if(!function sl(t){return"browser"===(null!=t?t:er(Fs)).get(Uu)}(h))return A0;ga("NgAfterNextRender");const g=h.get(Th),v=null!==(a=g.handler)&&void 0!==a?a:g.handler=new m_,I=null!==(u=null==n?void 0:n.phase)&&void 0!==u?u:ma.MixedReadWrite,O=()=>{v.unregister(Z),z()},z=h.get(rl).onDestroy(O),Z=ns(h,()=>new Ah(I,()=>{O(),t()}));return v.register(Z),{destroy:O}}class Ah{constructor(n,i){var a;this.phase=n,this.callbackFn=i,this.zone=er(Ui),this.errorHandler=er(Ys,{optional:!0}),null===(a=er(Zg,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class m_{constructor(){this.executingCallbacks=!1,this.buckets={[ma.EarlyRead]:new Set,[ma.Write]:new Set,[ma.MixedReadWrite]:new Set,[ma.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Th=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:()=>new t}),n})();function mu(t){return!!$i(t)}function ac(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const v=n[g];"number"==typeof v?h=v:1==h?u=jn(u,v):2==h&&(a=jn(a,v+": "+n[++g]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}class y_ extends ad{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=ar(n);return new tp(i,this.ngModule)}}function w0(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}class b0{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=to(a);const u=this.injector.get(n,jl,a);return u!==jl||i===jl?u:this.parentInjector.get(n,i,a)}}class tp extends Eh{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=w0(n.inputs);if(null!==i)for(const u of a)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return a}get outputs(){return w0(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function bs(t){return t.map(Ri).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,u){const h=re(null);try{var v;let I=(u=u||this.ngModule)instanceof So?u:null===(v=u)||void 0===v?void 0:v.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const O=I?new b0(n,I):n,z=O.get(Xf,null);if(null===z)throw new It(407,!1);const Z=O.get(d_,null),gt={rendererFactory:z,sanitizer:Z,inlineEffectRunner:null,afterRenderEventManager:O.get(Th,null),changeDetectionScheduler:O.get(Zg,null)},Vt=z.createRenderer(null,this.componentDef),ln=this.componentDef.selectors[0][0]||"div",pn=a?function bg(t,n,i,a){const h=a.get(rf,!1)||i===To.ShadowDom,g=t.selectRootElement(n,h);return function Ov(t){kv(t)}(g),g}(Vt,a,this.componentDef.encapsulation,O):Af(Vt,ln,function _E(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ln));let Gt=512;this.componentDef.signals?Gt|=4096:this.componentDef.onPush||(Gt|=16);let Cr=null;null!==pn&&(Cr=ef(pn,O,!0));const Qr=dh(0,null,null,1,0,null,null,null,null,null,null),ii=ah(null,Qr,null,Gt,null,null,gt,Vt,O,null,Cr);let As,cl;wd(ii);try{const Gl=this.componentDef;let Fh,eE=null;Gl.findHostDirectiveDefs?(Fh=[],eE=new Map,Gl.findHostDirectiveDefs(Gl,Fh,eE),Fh.push(Gl)):Fh=[Gl];const MP=function lc(t,n){const i=t[nn],a=Ir;return t[a]=n,fu(i,a,2,"#host",null)}(ii,pn),PP=function uc(t,n,i,a,u,h,g){const v=u[nn];!function Sh(t,n,i,a){for(const u of t)n.mergedAttrs=ao(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(ac(n,n.mergedAttrs,!0),null!==i&&Ag(a,i,n))}(a,t,n,g);let I=null;null!==n&&(I=ef(n,u[ro]));const O=h.rendererFactory.createRenderer(n,i);let z=16;i.signals?z=4096:i.onPush&&(z=64);const Z=ah(u,xv(i),null,z,u[t.index],t,h,O,null,null,I);return v.firstCreatePass&&hh(v,t,a.length-1),td(u,Z),u[t.index]=Z}(MP,pn,Gl,Fh,ii,gt,Vt);cl=la(Qr,Ir),pn&&function S0(t,n,i,a){if(a)ui(t,i,["ng-version","17.3.0"]);else{const{attrs:u,classes:h}=function Ca(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&n.push(h,t[++a]):8===u&&i.push(h);else{if(!se(u))break;u=h}a++}return{attrs:n,classes:i}}(n.selectors[0]);u&&ui(t,i,u),h&&h.length>0&&Dg(t,i,h.join(" "))}}(Vt,Gl,pn,a),void 0!==i&&function R0(t,n,i){const a=t.projection=[];for(let u=0;u<n.length;u++){const h=i[u];a.push(null!=h?Array.from(h):null)}}(cl,this.ngContentSelectors,i),As=function cc(t,n,i,a,u,h){const g=ri(),v=u[nn],I=Mr(g,u);xf(v,u,g,i,null,a);for(let z=0;z<i.length;z++)No(fa(u,v,g.directiveStart+z,g),u);Nf(v,u,g),I&&No(I,u);const O=fa(u,v,g.directiveStart+g.componentOffset,g);if(t[ti]=u[ti]=O,null!==h)for(const z of h)z(O,n);return uh(v,g,u),O}(PP,Gl,Fh,eE,ii,[M0]),Ff(Qr,ii,null)}finally{Rd()}return new yE(this.componentType,As,bc(cl,ii),ii,cl)}finally{re(h)}}}class yE extends oc{constructor(n,i,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new vh(u,void 0,!1),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;Lg(g[nn],g,u,n,i),this.previousInputValues.set(n,i),mh(jo(this._tNode.index,g))}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function M0(){const t=ri();Qs(Ut()[nn],t)}let qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=P0,n})();function P0(){return C_(ri(),Ut())}const x0=qa,I_=class extends x0{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const n=tr(this._hostTNode,this._hostLView);if(Dl(n)){const i=Ou(n,this._hostLView),a=Al(n);return new Mi(i[nn].data[a+8],i)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=E_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-di}createEmbeddedView(n,i,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const v=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(v,u,rd(this._hostTNode,null)),v}createComponent(n,i,a,u,h){var g,I;const O=n&&!function sn(t){return"function"==typeof t}(n);let z;if(O)z=i;else{const pn=i||{};z=pn.index,a=pn.injector,u=pn.projectableNodes,h=pn.environmentInjector||pn.ngModuleRef}const Z=O?n:new tp(ar(n)),Se=a||this.parentInjector;if(!h&&null==Z.ngModule){const Gt=(O?Se:this.parentInjector).get(So,null);Gt&&(h=Gt)}const Xe=ar(null!==(g=Z.componentType)&&void 0!==g?g:{}),gt=(null==Xe?void 0:Xe.id,null),Vt=null!==(I=null==gt?void 0:gt.firstChild)&&void 0!==I?I:null,ln=Z.create(Se,u,Vt,h);return this.insertImpl(ln.hostView,z,rd(this._hostTNode,gt)),ln}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){const u=n._lView;if(function _d(t){return Zi(t[Hr])}(u)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const I=u[Hr],O=new I_(I,I[Ci],I[Hr]);O.detach(O.indexOf(n))}}const h=this._adjustIndex(i),g=this._lContainer;return gh(g,u,h,a),n.attachToViewContainerRef(),ya(am(g),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=E_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=rh(this._lContainer,i);a&&(ws(am(this._lContainer),i),Qc(a[nn],a))}detach(n){const i=this._adjustIndex(n,-1),a=rh(this._lContainer,i);return a&&null!=ws(am(this._lContainer),i)?new vh(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function E_(t){return t[8]}function am(t){return t[8]||(t[8]=[])}function C_(t,n){let i;const a=n[t.index];return Zi(a)?i=a:(i=$v(a,n,null,t),n[t.index]=i,td(n,i)),D_(i,n,t,a),new I_(i,t,n)}let D_=function T_(t,n,i,a){if(t[ei])return;let u;u=8&i.type?hr(a):function N0(t,n){const i=t[Zt],a=i.createComment(""),u=Mr(n,t);return kl(i,Vl(i,u),a,function Cv(t,n){return t.nextSibling(n)}(i,u),!1),a}(n,i),t[ei]=u},lm=()=>!1;class cm{constructor(n){this.queryList=n,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let h=0;h<a;h++){const g=i.getByIndex(h);u.push(this.queries[g.indexInDeclarationView].clone())}return new dm(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==vm(n,i).matches&&this.queries[i].setDirty()}}class w_{constructor(n,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof n?function vu(t){return t.split(",").map(n=>n.trim())}(n):n}}class hm{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,u);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new hm(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class fm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new fm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(n,i,EE(i,h)),this.matchTNodeWithReadOption(n,i,iu(i,n,h,!1,!1))}else a===_h?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,iu(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Fd||u===qa||u===_h&&4&i.type)this.addMatch(i.index,-2);else{const h=iu(i,n,u,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function EE(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function DE(t,n,i,a){return-1===i?function CE(t,n){return 11&t.type?bc(t,n):4&t.type?yh(t,n):null}(n,t):-2===i?function AE(t,n,i){return i===Fd?bc(n,t):i===_h?yh(n,t):i===qa?C_(n,t):void 0}(t,n,a):fa(t,t[nn],i,n)}function b_(t,n,i,a){const u=n[vs].queries[a];if(null===u.matches){const h=t.data,g=i.matches,v=[];for(let I=0;null!==g&&I<g.length;I+=2){const O=g[I];v.push(O<0?null:DE(n,h[O],g[I+1],i.metadata.read))}u.matches=v}return u.matches}function pm(t,n,i,a){const u=t.queries.getByIndex(i),h=u.matches;if(null!==h){const g=b_(t,n,u,i);for(let v=0;v<h.length;v+=2){const I=h[v];if(I>0)a.push(g[v/2]);else{const O=h[v+1],z=n[-I];for(let Z=di;Z<z.length;Z++){const Se=z[Z];Se[Dn]===Se[Hr]&&pm(Se[nn],Se,O,a)}if(null!==z[oa]){const Z=z[oa];for(let Se=0;Se<Z.length;Se++){const Xe=Z[Se];pm(Xe[nn],Xe,O,a)}}}}}return a}function O0(t,n,i){var a;const u=new Vd(!(4&~i));return function Rg(t,n,i,a){const u=fh(n);u.push(i),t.firstCreatePass&&kf(t).push(a,u.length-1)}(t,n,u,u.destroy),(null!==(a=n[vs])&&void 0!==a?a:n[vs]=new dm).queries.push(new cm(u))-1}function R_(t,n,i){null===t.queries&&(t.queries=new hm),t.queries.track(new fm(n,i))}function vm(t,n){return t.queries.getByIndex(n)}function M_(t,n){const i=t[nn],a=vm(i,n);return a.crossesNgTemplate?pm(i,t,n,[]):b_(i,t,a,n)}function _m(t){return function P_(t){return"function"==typeof t&&void 0!==t[ye]}(t)&&"function"==typeof t.set}function H0(t){let n=function PE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let u;if(Bi(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new It(903,!1);u=n.\u0275dir}if(u){if(i){a.push(u);const g=t;g.inputs=O_(t.inputs),g.inputTransforms=O_(t.inputTransforms),g.declaredInputs=O_(t.declaredInputs),g.outputs=O_(t.outputs);const v=u.hostBindings;v&&FT(t,v);const I=u.viewQuery,O=u.contentQueries;if(I&&OT(t,I),O&&kT(t,O),xT(t,u),Dr(t.outputs,u.outputs),Bi(u)&&u.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let g=0;g<h.length;g++){const v=h[g];v&&v.ngInherit&&v(t),v===H0&&(i=!1)}}n=Object.getPrototypeOf(n)}!function NT(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=ao(u.hostAttrs,i=ao(i,u.hostAttrs))}}(a)}function xT(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const u=n.inputs[a];if(void 0!==u&&(t.inputs[a]=u,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var i;const h=Array.isArray(u)?u[0]:u;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function O_(t){return t===Rr?{}:t===Or?[]:t}function OT(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function kT(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,h)=>{n(a,u,h),i(a,u,h)}:n}function FT(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}function kE(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[3]&&(i[a]=u[3])}t.inputTransforms=i}class Mh{}class FE{}function jT(t,n){return new z0(t,null!=n?n:null,[])}class z0 extends Mh{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new y_(this);const u=$i(n);this._bootstrapComponents=ko(u.bootstrap),this._r3Injector=Od(n,i,[{provide:Mh,useValue:this},{provide:ad,useValue:this.componentFactoryResolver},...a],Gn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class W0 extends FE{constructor(n){super(),this.moduleType=n}create(n){return new z0(this.moduleType,n,[])}}class VE extends Mh{constructor(n){super(),this.componentFactoryResolver=new y_(this),this.instance=null;const i=new wa([...n.providers,{provide:Mh,useValue:this},{provide:ad,useValue:this.componentFactoryResolver}],n.parent||Ws(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function G0(t,n,i=null){return new VE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let np=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function F_(t){return!!K0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function K0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _u(t,n,i){return t[n]=i}function Eo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function rp(t,n,i,a,u,h,g,v){const I=Ut(),O=br(),z=t+Ir,Z=O.firstCreatePass?function XT(t,n,i,a,u,h,g,v,I){const O=n.consts,z=fu(n,t,4,g||null,_o(O,v));xg(n,i,z,_o(O,I)),Qs(n,z);const Z=z.tView=dh(2,z,a,u,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,z),Z.queries=n.queries.embeddedTView(z)),z}(z,O,I,n,i,a,u,h,g):O.data[z];gi(Z,!1);const Se=LE(O,I,Z,t);ks()&&Yc(O,I,Se,Z),No(Se,I);const Xe=$v(Se,I,Se,Z);return I[z]=Xe,td(I,Xe),function A_(t,n,i){return lm(t,n,i)}(Xe,Z,I),_s(Z)&&wg(O,I,Z),null!=g&&ch(I,Z,v),rp}let LE=function UE(t,n,i,a){return Es(!0),n[Zt].createComment("")};function rI(t,n,i,a){const u=Ut();return Eo(u,Ar(),n)&&(br(),pa(oi(),u,t,n,i,a)),rI}function H_(t,n){return t<<17|n<<2}function pd(t){return t>>17&32767}function iI(t){return 2|t}function Nh(t){return(131068&t)>>2}function oI(t,n){return-131069&t|n<<2}function sI(t){return 1|t}function mC(t,n,i,a){const u=t[i+1],h=null===n;let g=a?pd(u):Nh(u),v=!1;for(;0!==g&&(!1===v||h);){const O=t[g+1];Nw(t[g],n)&&(v=!0,t[g+1]=a?sI(O):iI(O)),g=a?pd(O):Nh(O)}v&&(t[i+1]=a?iI(u):sI(u))}function Nw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&li(t,n)>=0}function aI(t,n,i){const a=Ut();return Eo(a,Ar(),n)&&as(br(),oi(),a,t,n,a[Zt],i,!1),aI}function lI(t,n,i,a,u){const g=u?"class":"style";Lg(t,i,n.inputs[g],g,a)}function uI(t,n){return function zl(t,n,i,a){const u=Ut(),h=br(),g=function zr(t){const n=lr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function TC(t,n,i,a){const u=t.data;if(null===u[i+1]){const h=u[uo()],g=function AC(t,n){return n>=t.expandoStartIndex}(t,i);(function RC(t,n){return!!(t.flags&(n?8:16))})(h,a)&&null===n&&!g&&(n=!1),n=function jw(t,n,i,a){const u=function El(t){const n=lr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=wm(i=cI(null,t,n,i,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==u)if(i=cI(u,t,n,i,a),null===h){let I=function Hw(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Nh(a))return t[pd(a)]}(t,n,a);void 0!==I&&Array.isArray(I)&&(I=cI(null,t,n,I[1],a),I=wm(I,n.attrs,a),function zw(t,n,i,a){t[pd(i?n.classBindings:n.styleBindings)]=a}(t,n,a,I))}else h=function Ww(t,n,i){let a;const u=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<u;h++)a=wm(a,t[h].hostAttrs,i);return wm(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(u,h,n,a),function Pw(t,n,i,a,u,h){let g=h?n.classBindings:n.styleBindings,v=pd(g),I=Nh(g);t[a]=i;let z,O=!1;if(Array.isArray(i)?(z=i[1],(null===z||li(i,z)>0)&&(O=!0)):z=i,u)if(0!==I){const Se=pd(t[v+1]);t[a+1]=H_(Se,v),0!==Se&&(t[Se+1]=oI(t[Se+1],a)),t[v+1]=function Rw(t,n){return 131071&t|n<<17}(t[v+1],a)}else t[a+1]=H_(v,0),0!==v&&(t[v+1]=oI(t[v+1],a)),v=a;else t[a+1]=H_(I,0),0===v?v=a:t[I+1]=oI(t[I+1],a),I=a;O&&(t[a+1]=iI(t[a+1])),mC(t,z,a,!0),mC(t,z,a,!1),function xw(t,n,i,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&li(h,n)>=0&&(i[a+1]=sI(i[a+1]))}(n,z,t,a,h),g=H_(v,I),h?n.classBindings=g:n.styleBindings=g}(u,h,n,i,g,a)}}(h,t,g,a),n!==Pr&&Eo(u,g,n)&&function bC(t,n,i,a,u,h,g,v){if(!(3&n.type))return;const I=t.data,O=I[v+1],z=function Mw(t){return!(1&~t)}(O)?SC(I,n,i,u,Nh(O),g):void 0;z_(z)||(z_(h)||function Sw(t){return!(2&~t)}(O)&&(h=SC(I,null,i,u,v,g)),function wv(t,n,i,a,u){if(n)u?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:Xc.DashCase;null==u?t.removeStyle(i,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Xc.Important),t.setStyle(i,a,u,h))}}(a,g,Ni(uo(),i),u,h))}(h,h.data[uo()],u,u[Zt],t,u[g+1]=function Xw(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Gn(Ga(t)))),t}(n,i),a,g)}(t,n,null,!0),uI}function cI(t,n,i,a,u){let h=null;const g=i.directiveEnd;let v=i.directiveStylingLast;for(-1===v?v=i.directiveStart:v++;v<g&&(h=n[v],a=wm(a,h.hostAttrs,u),h!==t);)v++;return null!==t&&(i.directiveStylingLast=v),a}function wm(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ki(t,g,!!i||n[++h]))}return void 0===t?null:t}function SC(t,n,i,a,u,h){const g=null===n;let v;for(;u>0;){const I=t[u],O=Array.isArray(I),z=O?I[1]:I,Z=null===z;let Se=i[u+1];Se===Pr&&(Se=Z?Or:void 0);let Xe=Z?go(Se,a):z===a?Se:void 0;if(O&&!z_(Xe)&&(Xe=go(I,a)),z_(Xe)&&(v=Xe,g))return v;const gt=t[u+1];u=g?pd(gt):Nh(gt)}if(null!==n){let I=h?n.residualClasses:n.residualStyles;null!=I&&(v=go(I,a))}return v}function z_(t){return void 0!==t}function W_(t,n,i,a){const u=Ut(),h=br(),g=Ir+t,v=u[Zt],I=h.firstCreatePass?function _b(t,n,i,a,u,h){const g=n.consts,I=fu(n,t,2,a,_o(g,u));return xg(n,i,I,_o(g,h)),null!==I.attrs&&ac(I,I.attrs,!1),null!==I.mergedAttrs&&ac(I,I.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,I),I}(g,h,u,n,i,a):h.data[g],O=NC(h,u,I,v,n,t);u[g]=O;const z=_s(I);return gi(I,!0),Ag(v,O,I),!function Cm(t){return!(32&~t.flags)}(I)&&ks()&&Yc(h,u,O,I),0===function Fa(){return lr.lFrame.elementDepthCount}()&&No(O,u),function yd(){lr.lFrame.elementDepthCount++}(),z&&(wg(h,u,I),uh(h,I,u)),null!==a&&ch(u,I),W_}function G_(){let t=ri();Ic()?mi():(t=t.parent,gi(t,!1));const n=t;(function La(t){return lr.skipHydrationRootTNode===t})(n)&&function Uh(){lr.skipHydrationRootTNode=null}(),function yl(){lr.lFrame.elementDepthCount--}();const i=br();return i.firstCreatePass&&(Qs(i,t),lo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function $a(t){return!!(8&t.flags)}(n)&&lI(i,n,Ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Mp(t){return!!(16&t.flags)}(n)&&lI(i,n,Ut(),n.stylesWithoutHost,!1),G_}function gI(t,n,i,a){return W_(t,n,i,a),G_(),gI}let NC=(t,n,i,a,u,h)=>(Es(!0),Af(a,u,function ca(){return lr.lFrame.currentNamespace}()));function mI(t,n,i){const a=Ut(),u=br(),h=t+Ir,g=u.firstCreatePass?function Eb(t,n,i,a,u){const h=n.consts,g=_o(h,a),v=fu(n,t,8,"ng-container",g);return null!==g&&ac(v,g,!0),xg(n,i,v,_o(h,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(h,u,a,n,i):u.data[h];gi(g,!0);const v=OC(u,a,g,t);return a[h]=v,ks()&&Yc(u,a,v,g),No(v,a),_s(g)&&(wg(u,a,g),uh(u,g,a)),null!=i&&ch(a,g),mI}function vI(){let t=ri();const n=br();return Ic()?mi():(t=t.parent,gi(t,!1)),n.firstCreatePass&&(Qs(n,t),lo(t)&&n.queries.elementEnd(t)),vI}function _I(t,n,i){return mI(t,n,i),vI(),_I}let OC=(t,n,i,a)=>(Es(!0),nh(n[Zt],""));function kC(){return Ut()}const Oh=void 0;var Tb=["en",[["a","p"],["AM","PM"],Oh],[["AM","PM"],Oh,Oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oh,"{1} 'at' {0}",Oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ab(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Ip={};function yI(t){const n=function wb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=UC(n);if(i)return i;const a=n.split("-")[0];if(i=UC(a),i)return i;if("en"===a)return Tb;throw new It(701,!1)}function LC(t){return yI(t)[Ep.PluralCase]}function UC(t){return t in Ip||(Ip[t]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[t]),Ip[t]}var Ep=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ep||{});const Cp="en-US";let $C=Cp;function CI(t,n,i,a){const u=Ut(),h=br(),g=ri();return DI(h,u,u[Zt],g,t,n,a),CI}function DI(t,n,i,a,u,h,g){const v=_s(a),O=t.firstCreatePass&&kf(t),z=n[ti],Z=fh(n);let Se=!0;if(3&a.type||g){const Vt=Mr(a,n),ln=g?g(Vt):Vt,pn=Z.length,Gt=g?Qr=>g(hr(Qr[a.index])):a.index;let Cr=null;if(!g&&v&&(Cr=function CS(t,n,i,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const g=u[h];if(g===i&&u[h+1]===a){const v=n[cr],I=u[h+2];return v.length>I?v[I]:null}"string"==typeof g&&(h+=2)}return null}(t,n,u,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=h,Cr.__ngLastListenerFn__=h,Se=!1;else{h=pD(a,n,z,h,!1);const Qr=i.listen(ln,u,h);Z.push(h,Qr),O&&O.push(u,Gt,pn,pn+1)}}else h=pD(a,n,z,h,!1);const Xe=a.outputs;let gt;if(Se&&null!==Xe&&(gt=Xe[u])){const Vt=gt.length;if(Vt)for(let ln=0;ln<Vt;ln+=2){const ii=n[gt[ln]][gt[ln+1]].subscribe(h),As=Z.length;Z.push(h,ii),O&&O.push(u,a.index,As,-(As+1))}}}function fD(t,n,i,a){const u=re(null);try{return aa(6,n,i),!1!==i(a)}catch(h){return Ul(t,h),!1}finally{aa(7,n,i),re(u)}}function pD(t,n,i,a,u){return function h(g){if(g===Function)return a;mh(t.componentOffset>-1?jo(t.index,n):n);let I=fD(n,i,a,g),O=h.__ngNextListenerFn__;for(;O;)I=fD(n,i,O,g)&&I,O=O.__ngNextListenerFn__;return u&&!1===I&&g.preventDefault(),I}}function gD(t=1){return function Sp(t){return(lr.lFrame.contextLView=function vl(t,n){for(;t>0;)n=n[Rs],t--;return n}(t,lr.lFrame.contextLView))[ti]}(t)}function DS(t,n){let i=null;const a=function Ct(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const h=n[u];if("*"!==h){if(null===a?X(t,h,!0):Jn(a,h))return u}else i=u}return i}function mD(t){const n=Ut()[rr][Ci];if(!n.projection){const a=n.projection=function Us(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(t?t.length:1,null),u=a.slice();let h=n.child;for(;null!==h;){const g=t?DS(h,t):0;null!==g&&(u[g]?u[g].projectionNext=h:a[g]=h,u[g]=h),h=h.next}}}function vD(t,n=0,i){const a=Ut(),u=br(),h=fu(u,Ir+t,16,null,i||null);null===h.projection&&(h.projection=n),mi(),(!a[Qi]||Va())&&32&~h.flags&&function Xy(t,n,i){Cg(n[Zt],0,n,i,ih(t,i,n),Zu(i.parent||n[Ci],i,n))}(u,a,h)}function bD(t,n,i,a){!function mm(t,n,i,a){const u=br();if(u.firstCreatePass){const h=ri();R_(u,new w_(n,i,a),h.index),function k0(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),!(2&~i)&&(u.staticContentQueries=!0)}return O0(u,Ut(),i)}(t,n,i,a)}function SD(t,n,i){!function S_(t,n,i){const a=br();return a.firstCreatePass&&(R_(a,new w_(t,n,i),-1),!(2&~n)&&(a.staticViewQueries=!0)),O0(a,Ut(),n)}(t,n,i)}function RD(t){const n=Ut(),i=br(),a=Cc();Mu(a+1);const u=vm(i,a);if(t.dirty&&function wp(t){return!(4&~t[Bn])}(n)===!(2&~u.metadata.flags)){if(null===u.matches)t.reset([]);else{const h=M_(n,a);t.reset(h,Qh),t.notifyOnChanges()}return!0}return!1}function MD(){return function gm(t,n){return t[vs].queries[n].queryList}(Ut(),Cc())}function $D(t,n=""){const i=Ut(),a=br(),u=t+Ir,h=a.firstCreatePass?fu(a,u,1,n,null):a.data[u],g=BD(a,i,h,n,t);i[u]=g,ks()&&Yc(a,i,g,h),gi(h,!1)}let BD=(t,n,i,a,u)=>(Es(!0),function Df(t,n){return t.createText(n)}(n[Zt],a));function TI(t){return Y_("",t,""),TI}function Y_(t,n,i){const a=Ut(),u=function dp(t,n,i,a){return Eo(t,Ar(),i)?n+Ne(i)+a:Pr}(a,t,n,i);return u!==Pr&&function Ka(t,n,i){const a=Ni(n,t);!function Qu(t,n,i){t.setValue(n,i)}(t[Zt],a,i)}(a,uo(),u),Y_}function wI(t,n,i){_m(n)&&(n=n());const a=Ut();return Eo(a,Ar(),n)&&as(br(),oi(),a,t,n,a[Zt],i,!1),wI}function QD(t,n){const i=_m(t);return i&&t.set(n),i}function bI(t,n){const i=Ut(),a=br(),u=ri();return DI(a,i,i[Zt],u,t,n),bI}function SI(t,n,i,a,u){if(t=Qe(t),Array.isArray(t))for(let h=0;h<t.length;h++)SI(t[h],n,i,a,u);else{const h=br(),g=Ut(),v=ri();let I=bo(t)?t:Qe(t.provide);const O=Du(t),z=1048575&v.providerIndexes,Z=v.directiveStart,Se=v.providerIndexes>>20;if(bo(t)||!t.multi){const Xe=new da(O,u,Jc),gt=MI(I,n,u?z:z+Se,Z);-1===gt?(kr(xt(v,g),h,I),RI(h,t,n.length),n.push(I),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(Xe),g.push(Xe)):(i[gt]=Xe,g[gt]=Xe)}else{const Xe=MI(I,n,z+Se,Z),gt=MI(I,n,z,z+Se),ln=gt>=0&&i[gt];if(u&&!ln||!u&&!(Xe>=0&&i[Xe])){kr(xt(v,g),h,I);const pn=function HS(t,n,i,a,u){const h=new da(t,i,Jc);return h.multi=[],h.index=n,h.componentProviders=0,YD(h,u,a&&!i),h}(u?jS:BS,i.length,u,a,O);!u&&ln&&(i[gt].providerFactory=pn),RI(h,t,n.length,0),n.push(I),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(pn),g.push(pn)}else RI(h,t,Xe>-1?Xe:gt,YD(i[u?gt:Xe],O,!u&&a));!u&&a&&ln&&i[gt].componentProviders++}}}function RI(t,n,i,a){const u=bo(n),h=function Aa(t){return!!t.useClass}(n);if(u||h){const I=(h?Qe(n.useClass):n).prototype.ngOnDestroy;if(I){const O=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const z=O.indexOf(i);-1===z?O.push(i,[a,I]):O[z+1].push(a,I)}else O.push(i,I)}}}function YD(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function MI(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function BS(t,n,i,a){return PI(this.multi,[])}function jS(t,n,i,a){const u=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=fa(i,i[nn],this.providerFactory.index,a);h=v.slice(0,g),PI(u,h);for(let I=g;I<v.length;I++)h.push(v[I])}else h=[],PI(u,h);return h}function PI(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function ZD(t,n=[]){return i=>{i.providersResolver=(a,u)=>function $S(t,n,i){const a=br();if(a.firstCreatePass){const u=Bi(t);SI(i,a.data,a.blueprint,u,!0),SI(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}let zS=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=es(0,a.type),h=u.length>0?G0([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Mt({token:t,providedIn:"environment",factory:()=>new t(fi(So))}),n})();function JD(t){ga("NgStandalone"),t.getStandaloneInjector=n=>n.get(zS).getOrCreateStandaloneInjector(t)}function lA(t,n,i){const a=Ji()+t,u=Ut();return u[a]===Pr?_u(u,a,i?n.call(i):n()):function Em(t,n){return t[n]}(u,a)}function uA(t,n,i,a){return function cA(t,n,i,a,u,h){const g=n+i;return Eo(t,g,u)?_u(t,g+1,h?a.call(h,u):a(u)):function Nm(t,n){const i=t[n];return i===Pr?void 0:i}(t,g+1)}(Ut(),Ji(),t,n,i,a)}class MA{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const VR=new MA("17.3.0");let PA=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const kA=new Nn(""),FA=new Nn("");let UI,uM=(()=>{var t;class n{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,UI||(function cM(t){UI=t}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ui.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a()},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(fi(Ui),fi(VA),fi(FA))},t.\u0275prov=Mt({token:t,factory:t.\u0275fac}),n})(),VA=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var h,g;return null!==(h=null===(g=UI)||void 0===g?void 0:g.findTestabilityInTree(this,a,u))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function $I(t){return!!t&&"function"==typeof t.then}function LA(t){return!!t&&"function"==typeof t.subscribe}const UA=new Nn("");let BI=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=null!==(a=er(UA,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const g=h();if($I(g))a.push(g);else if(LA(g)){const v=new Promise((I,O)=>{g.subscribe({complete:I,error:O})});a.push(v)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const jI=new Nn("");function jA(t,n){return Array.isArray(n)?n.reduce(jA,t):{...t,...n}}let gd=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=er(wc),this.afterRenderEffectManager=er(Th),this.externalTestViews=new Set,this.beforeRender=new $n.B,this.afterTick=new $n.B,this.componentTypes=[],this.components=[],this.isStable=er(np).hasPendingTasks.pipe((0,St.T)(a=>!a)),this._injector=er(So)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof Eh;if(!this._injector.get(BI).done)throw!h&&qi(a),new It(405,!1);let v;v=h?a:this._injector.get(ad).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function dM(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Mh),z=v.create(Fs.NULL,[],u||v.selector,I),Z=z.location.nativeElement,Se=z.injector.get(kA,null);return null==Se||Se.registerApplication(Z),z.onDestroy(()=>{this.detachView(z.hostView),ty(this.components,z),null==Se||Se.unregisterApplication(Z)}),this._loadComponent(z),z}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new It(101,!1);const u=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,re(u)}}detectChangesInAttachedViews(a){let u=0;const h=this.afterRenderEffectManager;for(;;){if(u===Hg)throw new It(103,!1);if(a){const g=0===u;this.beforeRender.next(g);for(let{_lView:v,notifyErrorHandler:I}of this._views)fM(v,g,I)}if(u++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>HI(g))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>HI(g))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;ty(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(jI,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ty(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new It(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function ty(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function fM(t,n,i){!n&&!HI(t)||function pM(t,n,i){let a;i?(a=0,t[Bn]|=1024):a=64&t[Bn]?0:1,$l(t,n,a)}(t,i,n)}function HI(t){return tl(t)}class gM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let mM=(()=>{var t;class n{compileModuleSync(a){return new W0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=ko($i(a).declarations).reduce((v,I)=>{const O=ar(I);return O&&v.push(new tp(O)),v},[]);return new gM(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),yM=(()=>{var t;class n{constructor(){this.zone=er(Ui),this.applicationRef=er(gd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function IM(){const t=er(Ui),n=er(Ys);return i=>t.runOutsideAngular(()=>n.handleError(i))}let CM=(()=>{var t;class n{constructor(){this.subscription=new Tt.yU,this.initialized=!1,this.zone=er(Ui),this.pendingTasks=er(np)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ui.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var u;Ui.assertInAngularZone(),null!==(u=a)&&void 0!==u||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const ny=new Nn("",{providedIn:"root",factory:()=>er(ny,Wt.Optional|Wt.SkipSelf)||function DM(){return typeof $localize<"u"&&$localize.locale||Cp}()}),AM=new Nn("",{providedIn:"root",factory:()=>"USD"}),zI=new Nn("");let GA=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function D0(t="zone.js",n){return"noop"===t?new f_:"zone.js"===t?new Ui(n):t}(null==u?void 0:u.ngZone,function WA(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return h.run(()=>{const g=function HT(t,n,i){return new z0(t,n,i)}(a.moduleType,this.injector,function zA(t){return[{provide:Ui,useFactory:t},{provide:fs,multi:!0,useFactory:()=>{const n=er(yM,{optional:!0});return()=>n.initialize()}},{provide:fs,multi:!0,useFactory:()=>{const n=er(CM);return()=>{n.initialize()}}},{provide:wc,useFactory:IM}]}(()=>h)),v=g.injector.get(Ys,null);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:O=>{v.handleError(O)}});g.onDestroy(()=>{ty(this._modules,g),I.unsubscribe()})}),function BA(t,n,i){try{const a=i();return $I(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(v,h,()=>{const I=g.injector.get(BI);return I.runInitializers(),I.donePromise.then(()=>(function BC(t){"string"==typeof t&&($C=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(ny,Cp)||Cp),this._moduleDoBootstrap(g),g))})})}bootstrapModule(a,u=[]){const h=jA({},u);return function _M(t,n,i){const a=new W0(i);return Promise.resolve(a)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(gd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new It(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new It(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(zI,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(fi(Fs))},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),md=null;const KA=new Nn("");function qA(t,n,i=[]){const a=`Platform: ${n}`,u=new Nn(a);return(h=[])=>{let g=WI();if(!g||g.injector.get(KA,!1)){const v=[...i,...h,{provide:u,useValue:!0}];t?t(v):function wM(t){if(md&&!md.get(KA,!1))throw new It(400,!1);(function $A(){!function ut(t){fn=t}(()=>{throw new It(600,!1)})})(),md=t;const n=t.get(GA);(function QA(t){const n=t.get(Gm,null);null==n||n.forEach(i=>i())})(t)}(function XA(t=[],n){return Fs.create({name:n,providers:[{provide:hl,useValue:"platform"},{provide:zI,useValue:new Set([()=>md=null])},...t]})}(v,a))}return function bM(t){const n=WI();if(!n)throw new It(401,!1);return n}()}}function WI(){var t,n;return null!==(t=null===(n=md)||void 0===n?void 0:n.get(GA))&&void 0!==t?t:null}function RM(){return!1}function MM(){}let ZA=(()=>{class n{}return n.__NG_ELEMENT_ID__=PM,n})();function PM(t){return function xM(t,n,i){if(Ma(t)&&!i){const a=jo(t.index,n);return new vh(a,a)}return 47&t.type?new vh(n[rr],n):null}(ri(),Ut(),!(16&~t))}class nT{constructor(){}supports(n){return F_(n)}create(n){return new VM(n)}}const FM=(t,n)=>n;class VM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||FM}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,h=null;for(;i||a;){const g=!a||i&&i.currentIndex<iT(a,u,h)?i:a,v=iT(g,u,h),I=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(i=i._next,null==g.previousIndex)u++;else{h||(h=[]);const O=v-u,z=I-u;if(O!=z){for(let Se=0;Se<O;Se++){const Xe=Se<h.length?h[Se]:h[Se]=0,gt=Xe+Se;z<=gt&&gt<O&&(h[Se]=Xe+1)}h[g.previousIndex]=z-O}}v!==I&&n(g,v,I)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!F_(n))throw new It(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,h,g,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)h=n[v],g=this._trackByFn(v,h),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,h,g,v)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,g,v),a=!0),i=i._next}else u=0,function KT(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,v=>{g=this._trackByFn(u,v),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,v,g,u)),Object.is(i.item,v)||this._addIdentityChange(i,v)):(i=this._mismatch(i,v,g,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,u)):n=this._addAfter(new LM(i,a),h,u),n}_verifyReinsertion(n,i,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,h=n._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new rT),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class LM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class rT{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new UM,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iT(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class oT{constructor(){}supports(n){return n instanceof Map||K0(n)}create(){return new $M}}class $M{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||K0(n)))throw new It(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const h=u._prev,g=u._next;return h&&(h._next=g),g&&(g._prev=h),u._next=null,u._prev=null,u}const a=new BM(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class BM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sT(){return new QI([new nT])}let QI=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||sT()),deps:[[n,new Ls,new cs]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new It(901,!1)}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:sT}),n})();function aT(){return new YI([new oT])}let YI=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||aT()),deps:[[n,new Ls,new cs]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new It(901,!1)}}return(t=n).\u0275prov=Mt({token:t,providedIn:"root",factory:aT}),n})();const zM=qA(null,"core",[]);let WM=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(fi(gd))},t.\u0275mod=js({type:t}),t.\u0275inj=ht({}),n})();function IP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function CP(t){const n=re(null);try{return t()}finally{re(n)}}function SP(t,n){const i=ar(t),a=n.elementInjector||Ws();return new tp(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function RP(t){const n=ar(t);if(!n)return null;const i=new tp(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},5155:(un,it,F)=>{"use strict";F.d(it,{Qe:()=>Mt});var l=F(9842),b=F(177),j=F(4438),oe=F(5407),he=F(9253),re=(F(2438),F(1413)),Ee=F(7673),We=F(1985),le=F(8455),de=F(6365),Ve=F(8750),Ue=F(983),Oe=F(3794),ct=F(941),Le=F(5558),Re=F(6354),$e=F(6129);class at extends re.B{constructor(G=1/0,De=1/0,tt=$e.U){super(),this._bufferSize=G,this._windowTime=De,this._timestampProvider=tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=De===1/0,this._bufferSize=Math.max(1,G),this._windowTime=Math.max(1,De)}next(G){const{isStopped:De,_buffer:tt,_infiniteTimeWindow:Ot,_timestampProvider:yn,_windowTime:Wn}=this;De||(tt.push(G),!Ot&&tt.push(yn.now()+Wn)),this._trimBuffer(),super.next(G)}_subscribe(G){this._throwIfClosed(),this._trimBuffer();const De=this._innerSubscribe(G),{_infiniteTimeWindow:tt,_buffer:Ot}=this,yn=Ot.slice();for(let Wn=0;Wn<yn.length&&!G.closed;Wn+=tt?1:2)G.next(yn[Wn]);return this._checkFinalizedStatuses(G),De}_trimBuffer(){const{_bufferSize:G,_timestampProvider:De,_buffer:tt,_infiniteTimeWindow:Ot}=this,yn=(Ot?1:2)*G;if(G<1/0&&yn<tt.length&&tt.splice(0,tt.length-yn),!Ot){const Wn=De.now();let Xn=0;for(let En=1;En<tt.length&&tt[En]<=Wn;En+=2)Xn=En;Xn&&tt.splice(0,Xn+1)}}}var Fe=F(7707),je=F(9974);function Ye(ht,G,...De){if(!0===G)return void ht();if(!1===G)return;const tt=new Fe.Ms({next:()=>{tt.unsubscribe(),ht()}});return(0,Ve.Tg)(G(...De)).subscribe(tt)}function fe(ht,G,De){let tt,Ot=!1;return ht&&"object"==typeof ht?({bufferSize:tt=1/0,windowTime:G=1/0,refCount:Ot=!1,scheduler:De}=ht):tt=null!=ht?ht:1/0,function He(ht={}){const{connector:G=(()=>new re.B),resetOnError:De=!0,resetOnComplete:tt=!0,resetOnRefCountZero:Ot=!0}=ht;return yn=>{let Wn,Xn,En,Ur=0,Nn=!1,ur=!1;const bn=()=>{null==Xn||Xn.unsubscribe(),Xn=void 0},hi=()=>{bn(),Wn=En=void 0,Nn=ur=!1},Ie=()=>{const Ce=Wn;hi(),null==Ce||Ce.unsubscribe()};return(0,je.N)((Ce,H)=>{Ur++,!ur&&!Nn&&bn();const ge=En=null!=En?En:G();H.add(()=>{Ur--,0===Ur&&!ur&&!Nn&&(Xn=Ye(Ie,Ot))}),ge.subscribe(H),!Wn&&Ur>0&&(Wn=new Fe.Ms({next:rt=>ge.next(rt),error:rt=>{ur=!0,bn(),Xn=Ye(hi,De,rt),ge.error(rt)},complete:()=>{Nn=!0,bn(),Xn=Ye(hi,tt),ge.complete()}}),(0,Ve.Tg)(Ce).subscribe(Wn))})(yn)}}({connector:()=>new at(tt,G,De),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ot})}var U=F(1594),be=F(8071);function Me(ht,G){return(0,be.T)(G)?(0,Le.n)(()=>ht,G):(0,Le.n)(()=>ht)}var ze=F(6745),Ze=F(5964);F(7935);const fn=new j.nKC("angularfire2.auth.use-emulator"),Xt=new j.nKC("angularfire2.auth.settings"),ut=new j.nKC("angularfire2.auth.tenant-id"),we=new j.nKC("angularfire2.auth.langugage-code"),_e=new j.nKC("angularfire2.auth.use-device-language"),Pe=new j.nKC("angularfire.auth.persistence"),Ae=(ht,G,De,tt,Ot,yn,Wn,Xn)=>(0,he.BM)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const En=G.runOutsideAngular(()=>ht.auth());if(De&&En.useEmulator(...De),tt&&(En.tenantId=tt),En.languageCode=Ot,yn&&En.useDeviceLanguage(),Wn)for(const[Ur,Nn]of Object.entries(Wn))En.settings[Ur]=Nn;return Xn&&En.setPersistence(Xn),En},[De,tt,Ot,yn,Wn,Xn]);let st=(()=>{var ht;class G{constructor(tt,Ot,yn,Wn,Xn,En,Ur,Nn,ur,bn,hi,Ie){(0,l.A)(this,"authState",void 0),(0,l.A)(this,"idToken",void 0),(0,l.A)(this,"user",void 0),(0,l.A)(this,"idTokenResult",void 0),(0,l.A)(this,"credential",void 0);const Ce=new re.B,H=(0,Ee.of)(void 0).pipe((0,ct.Q)(Xn.outsideAngular),(0,Le.n)(()=>Wn.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2438)))),(0,Re.T)(()=>(0,he.iB)(tt,Wn,Ot)),(0,Re.T)(ge=>Ae(ge,Wn,En,Nn,ur,bn,Ur,hi)),fe({bufferSize:1,refCount:!1}));if((0,b.Vy)(yn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ee.of)(null);else{H.pipe((0,U.$)()).subscribe();const ge=H.pipe((0,Le.n)(Bt=>Bt.getRedirectResult().then(Jt=>Jt,()=>null)),oe.U0,fe({bufferSize:1,refCount:!1})),rt=H.pipe((0,Le.n)(Bt=>new We.c(Jt=>({unsubscribe:Wn.runOutsideAngular(()=>Bt.onAuthStateChanged(_n=>Jt.next(_n),_n=>Jt.error(_n),()=>Jt.complete()))})))),kt=H.pipe((0,Le.n)(Bt=>new We.c(Jt=>({unsubscribe:Wn.runOutsideAngular(()=>Bt.onIdTokenChanged(_n=>Jt.next(_n),_n=>Jt.error(_n),()=>Jt.complete()))}))));this.authState=ge.pipe(Me(rt),(0,ze._)(Xn.outsideAngular),(0,ct.Q)(Xn.insideAngular)),this.user=ge.pipe(Me(kt),(0,ze._)(Xn.outsideAngular),(0,ct.Q)(Xn.insideAngular)),this.idToken=this.user.pipe((0,Le.n)(Bt=>Bt?(0,le.H)(Bt.getIdToken()):(0,Ee.of)(null))),this.idTokenResult=this.user.pipe((0,Le.n)(Bt=>Bt?(0,le.H)(Bt.getIdTokenResult()):(0,Ee.of)(null))),this.credential=function ke(...ht){const G=(0,Oe.lI)(ht),De=(0,Oe.R0)(ht,1/0),tt=ht;return tt.length?1===tt.length?(0,Ve.Tg)(tt[0]):(0,de.U)(De)((0,le.H)(tt,G)):Ue.w}(ge,Ce,this.authState.pipe((0,Ze.p)(Bt=>!Bt))).pipe((0,Re.T)(Bt=>null!=Bt&&Bt.user?Bt:null),(0,ze._)(Xn.outsideAngular),(0,ct.Q)(Xn.insideAngular))}return(0,he.Gt)(this,H,Wn,{spy:{apply:(ge,rt,kt)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&kt.then(Bt=>Ce.next(Bt))}}})}}return ht=G,(0,l.A)(G,"\u0275fac",function(tt){return new(tt||ht)(j.KVO(he.rx),j.KVO(he.uP,8),j.KVO(j.Agw),j.KVO(j.SKi),j.KVO(oe.u0),j.KVO(fn,8),j.KVO(Xt,8),j.KVO(ut,8),j.KVO(we,8),j.KVO(_e,8),j.KVO(Pe,8),j.KVO(oe.Jv,8))}),(0,l.A)(G,"\u0275prov",j.jDH({token:ht,factory:ht.\u0275fac,providedIn:"any"})),G})();var zt=F(3236),rn=F(9172),Kt=F(4360);function Ft(){return(0,je.N)((ht,G)=>{let De,tt=!1;ht.subscribe((0,Kt._)(G,Ot=>{const yn=De;De=Ot,tt&&G.next([yn,Ot]),tt=!0}))})}var An=F(2816),Qn=F(3294),$n=F(3345),Tt=F(2824),kn=F(1076),St=F(1362);function It(ht,G){if(void 0===G)return{merge:!1};if(void 0!==G.mergeFields&&void 0!==G.merge)throw new Tt.W6("invalid-argument",`Invalid options passed to function ${ht}(): You cannot specify both "merge" and "mergeFields".`);return G}function hn(){if(typeof Uint8Array>"u")throw new Tt.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Tn(){if(!(0,Tt.qG)())throw new Tt.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Fn{constructor(G){this._delegate=G}static fromBase64String(G){return Tn(),new Fn(Tt.Ix.fromBase64String(G))}static fromUint8Array(G){return hn(),new Fn(Tt.Ix.fromUint8Array(G))}toBase64(){return Tn(),this._delegate.toBase64()}toUint8Array(){return hn(),this._delegate.toUint8Array()}isEqual(G){return this._delegate.isEqual(G._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qn(ht){return function Yn(ht,G){if("object"!=typeof ht||null===ht)return!1;const De=ht;for(const tt of G)if(tt in De&&"function"==typeof De[tt])return!0;return!1}(ht,["next","error","complete"])}class nr{enableIndexedDbPersistence(G,De){return(0,Tt.ol)(G._delegate,{forceOwnership:De})}enableMultiTabIndexedDbPersistence(G){return(0,Tt.Q5)(G._delegate)}clearIndexedDbPersistence(G){return(0,Tt.me)(G._delegate)}}class mn{constructor(G,De,tt){this._delegate=De,this._persistenceProvider=tt,this.INTERNAL={delete:()=>this.terminate()},G instanceof Tt.cm||(this._appCompat=G)}get _databaseId(){return this._delegate._databaseId}settings(G){const De=this._delegate._getSettings();!G.merge&&De.host!==G.host&&(0,Tt.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),G.merge&&delete(G=Object.assign(Object.assign({},De),G)).merge,this._delegate._setSettings(G)}useEmulator(G,De,tt={}){(0,Tt.vN)(this._delegate,G,De,tt)}enableNetwork(){return(0,Tt.Os)(this._delegate)}disableNetwork(){return(0,Tt.LA)(this._delegate)}enablePersistence(G){let De=!1,tt=!1;return G&&(De=!!G.synchronizeTabs,tt=!!G.experimentalForceOwningTab,(0,Tt.c8)("synchronizeTabs",De,"experimentalForceOwningTab",tt)),De?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,tt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Tt.iB)(this._delegate)}onSnapshotsInSync(G){return(0,Tt.FC)(this._delegate,G)}get app(){if(!this._appCompat)throw new Tt.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(G){try{return new wr(this,(0,Tt.rJ)(this._delegate,G))}catch(De){throw mr(De,"collection()","Firestore.collection()")}}doc(G){try{return new or(this,(0,Tt.H9)(this._delegate,G))}catch(De){throw mr(De,"doc()","Firestore.doc()")}}collectionGroup(G){try{return new Dr(this,(0,Tt.Cs)(this._delegate,G))}catch(De){throw mr(De,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(G){return(0,Tt.c4)(this._delegate,De=>G(new Nr(this,De)))}batch(){return(0,Tt.Ws)(this._delegate),new dr(new Tt.GA(this._delegate,G=>(0,Tt.z6)(this._delegate,G)))}loadBundle(G){return(0,Tt.po)(this._delegate,G)}namedQuery(G){return(0,Tt.St)(this._delegate,G).then(De=>De?new Dr(this,De):null)}}class wn extends Tt.fS{constructor(G){super(),this.firestore=G}convertBytes(G){return new Fn(new Tt.Ix(G))}convertReference(G){const De=this.convertDocumentKey(G,this.firestore._databaseId);return or.forKey(De,this.firestore,null)}}class Nr{constructor(G,De){this._firestore=G,this._delegate=De,this._userDataWriter=new wn(G)}get(G){const De=Sr(G);return this._delegate.get(De).then(tt=>new Cn(this._firestore,new Tt.Wq(this._firestore._delegate,this._userDataWriter,tt._key,tt._document,tt.metadata,De.converter)))}set(G,De,tt){const Ot=Sr(G);return tt?(It("Transaction.set",tt),this._delegate.set(Ot,De,tt)):this._delegate.set(Ot,De),this}update(G,De,tt,...Ot){const yn=Sr(G);return 2===arguments.length?this._delegate.update(yn,De):this._delegate.update(yn,De,tt,...Ot),this}delete(G){const De=Sr(G);return this._delegate.delete(De),this}}class dr{constructor(G){this._delegate=G}set(G,De,tt){const Ot=Sr(G);return tt?(It("WriteBatch.set",tt),this._delegate.set(Ot,De,tt)):this._delegate.set(Ot,De),this}update(G,De,tt,...Ot){const yn=Sr(G);return 2===arguments.length?this._delegate.update(yn,De):this._delegate.update(yn,De,tt,...Ot),this}delete(G){const De=Sr(G);return this._delegate.delete(De),this}commit(){return this._delegate.commit()}}class Ln{constructor(G,De,tt){this._firestore=G,this._userDataWriter=De,this._delegate=tt}fromFirestore(G,De){const tt=new Tt.YQ(this._firestore._delegate,this._userDataWriter,G._key,G._document,G.metadata,null);return this._delegate.fromFirestore(new Zn(this._firestore,tt),null!=De?De:{})}toFirestore(G,De){return De?this._delegate.toFirestore(G,De):this._delegate.toFirestore(G)}static getInstance(G,De){const tt=Ln.INSTANCES;let Ot=tt.get(G);Ot||(Ot=new WeakMap,tt.set(G,Ot));let yn=Ot.get(De);return yn||(yn=new Ln(G,new wn(G),De),Ot.set(De,yn)),yn}}Ln.INSTANCES=new WeakMap;class or{constructor(G,De){this.firestore=G,this._delegate=De,this._userDataWriter=new wn(G)}static forPath(G,De,tt){if(G.length%2!=0)throw new Tt.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${G.canonicalString()} has ${G.length}`);return new or(De,new Tt.T1(De._delegate,tt,new Tt.K$(G)))}static forKey(G,De,tt){return new or(De,new Tt.T1(De._delegate,tt,G))}get id(){return this._delegate.id}get parent(){return new wr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(G){try{return new wr(this.firestore,(0,Tt.rJ)(this._delegate,G))}catch(De){throw mr(De,"collection()","DocumentReference.collection()")}}isEqual(G){return(G=(0,kn.Ku)(G))instanceof Tt.T1&&(0,Tt.yx)(this._delegate,G)}set(G,De){De=It("DocumentReference.set",De);try{return De?(0,Tt.BN)(this._delegate,G,De):(0,Tt.BN)(this._delegate,G)}catch(tt){throw mr(tt,"setDoc()","DocumentReference.set()")}}update(G,De,...tt){try{return 1===arguments.length?(0,Tt.mZ)(this._delegate,G):(0,Tt.mZ)(this._delegate,G,De,...tt)}catch(Ot){throw mr(Ot,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Tt.kd)(this._delegate)}onSnapshot(...G){const De=Sn(G),tt=gr(G,Ot=>new Cn(this.firestore,new Tt.Wq(this.firestore._delegate,this._userDataWriter,Ot._key,Ot._document,Ot.metadata,this._delegate.converter)));return(0,Tt.aQ)(this._delegate,De,tt)}get(G){let De;return De="cache"===(null==G?void 0:G.source)?(0,Tt.nY)(this._delegate):"server"===(null==G?void 0:G.source)?(0,Tt._e)(this._delegate):(0,Tt.x7)(this._delegate),De.then(tt=>new Cn(this.firestore,new Tt.Wq(this.firestore._delegate,this._userDataWriter,tt._key,tt._document,tt.metadata,this._delegate.converter)))}withConverter(G){return new or(this.firestore,this._delegate.withConverter(G?Ln.getInstance(this.firestore,G):null))}}function mr(ht,G,De){return ht.message=ht.message.replace(G,De),ht}function Sn(ht){for(const G of ht)if("object"==typeof G&&!qn(G))return G;return{}}function gr(ht,G){var De,tt;let Ot;return Ot=qn(ht[0])?ht[0]:qn(ht[1])?ht[1]:"function"==typeof ht[0]?{next:ht[0],error:ht[1],complete:ht[2]}:{next:ht[1],error:ht[2],complete:ht[3]},{next:yn=>{Ot.next&&Ot.next(G(yn))},error:null===(De=Ot.error)||void 0===De?void 0:De.bind(Ot),complete:null===(tt=Ot.complete)||void 0===tt?void 0:tt.bind(Ot)}}class Cn{constructor(G,De){this._firestore=G,this._delegate=De}get ref(){return new or(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(G){return this._delegate.data(G)}get(G,De){return this._delegate.get(G,De)}isEqual(G){return(0,Tt.lN)(this._delegate,G._delegate)}}class Zn extends Cn{data(G){const De=this._delegate.data(G);return this._delegate._converter||(0,Tt.bI)(void 0!==De,"Document in a QueryDocumentSnapshot should exist"),De}}class Dr{constructor(G,De){this.firestore=G,this._delegate=De,this._userDataWriter=new wn(G)}where(G,De,tt){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt._M)(G,De,tt)))}catch(Ot){throw mr(Ot,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(G,De){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.My)(G,De)))}catch(tt){throw mr(tt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.AB)(G)))}catch(De){throw mr(De,"limit()","Query.limit()")}}limitToLast(G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.$1)(G)))}catch(De){throw mr(De,"limitToLast()","Query.limitToLast()")}}startAt(...G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.EO)(...G)))}catch(De){throw mr(De,"startAt()","Query.startAt()")}}startAfter(...G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.HM)(...G)))}catch(De){throw mr(De,"startAfter()","Query.startAfter()")}}endBefore(...G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.rf)(...G)))}catch(De){throw mr(De,"endBefore()","Query.endBefore()")}}endAt(...G){try{return new Dr(this.firestore,(0,Tt.P)(this._delegate,(0,Tt.FD)(...G)))}catch(De){throw mr(De,"endAt()","Query.endAt()")}}isEqual(G){return(0,Tt.B)(this._delegate,G._delegate)}get(G){let De;return De="cache"===(null==G?void 0:G.source)?(0,Tt.kU)(this._delegate):"server"===(null==G?void 0:G.source)?(0,Tt.Rr)(this._delegate):(0,Tt.GG)(this._delegate),De.then(tt=>new jn(this.firestore,new Tt.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,tt._snapshot)))}onSnapshot(...G){const De=Sn(G),tt=gr(G,Ot=>new jn(this.firestore,new Tt.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ot._snapshot)));return(0,Tt.aQ)(this._delegate,De,tt)}withConverter(G){return new Dr(this.firestore,this._delegate.withConverter(G?Ln.getInstance(this.firestore,G):null))}}class Gn{constructor(G,De){this._firestore=G,this._delegate=De}get type(){return this._delegate.type}get doc(){return new Zn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jn{constructor(G,De){this._firestore=G,this._delegate=De}get query(){return new Dr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(G=>new Zn(this._firestore,G))}docChanges(G){return this._delegate.docChanges(G).map(De=>new Gn(this._firestore,De))}forEach(G,De){this._delegate.forEach(tt=>{G.call(De,new Zn(this._firestore,tt))})}isEqual(G){return(0,Tt.lN)(this._delegate,G._delegate)}}class wr extends Dr{constructor(G,De){super(G,De),this.firestore=G,this._delegate=De}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const G=this._delegate.parent;return G?new or(this.firestore,G):null}doc(G){try{return new or(this.firestore,void 0===G?(0,Tt.H9)(this._delegate):(0,Tt.H9)(this._delegate,G))}catch(De){throw mr(De,"doc()","CollectionReference.doc()")}}add(G){return(0,Tt.gS)(this._delegate,G).then(De=>new or(this.firestore,De))}isEqual(G){return(0,Tt.yx)(this._delegate,G._delegate)}withConverter(G){return new wr(this.firestore,this._delegate.withConverter(G?Ln.getInstance(this.firestore,G):null))}}function Sr(ht){return(0,Tt.lo)(ht,Tt.T1)}class Lr{constructor(...G){this._delegate=new Tt.uY(...G)}static documentId(){return new Lr(Tt.FA.keyField().canonicalString())}isEqual(G){return(G=(0,kn.Ku)(G))instanceof Tt.uY&&this._delegate._internalPath.isEqual(G._internalPath)}}class Qe{constructor(G){this._delegate=G}static serverTimestamp(){const G=(0,Tt.O5)();return G._methodName="FieldValue.serverTimestamp",new Qe(G)}static delete(){const G=(0,Tt.CL)();return G._methodName="FieldValue.delete",new Qe(G)}static arrayUnion(...G){const De=(0,Tt.hq)(...G);return De._methodName="FieldValue.arrayUnion",new Qe(De)}static arrayRemove(...G){const De=(0,Tt.C3)(...G);return De._methodName="FieldValue.arrayRemove",new Qe(De)}static increment(G){const De=(0,Tt.GV)(G);return De._methodName="FieldValue.increment",new Qe(De)}isEqual(G){return this._delegate.isEqual(G._delegate)}}const Ge={Firestore:mn,GeoPoint:Tt.Ci,Timestamp:Tt.Dc,Blob:Fn,Transaction:Nr,WriteBatch:dr,DocumentReference:or,DocumentSnapshot:Cn,Query:Dr,QueryDocumentSnapshot:Zn,QuerySnapshot:jn,CollectionReference:wr,FieldPath:Lr,FieldValue:Qe,setLogLevel:function Tr(ht){(0,Tt.He)(ht)},CACHE_SIZE_UNLIMITED:Tt.H6};function ue(ht,G){return function ie(ht,G=zt.E){return new We.c(De=>{let tt;return null!=G?G.schedule(()=>{tt=ht.onSnapshot({includeMetadataChanges:!0},De)}):tt=ht.onSnapshot({includeMetadataChanges:!0},De),()=>{null!=tt&&tt()}})}(ht,G)}function Q(ht,G){return ue(ht,G).pipe((0,Re.T)(De=>({payload:De,type:"query"})))}!function qe(ht){(function yt(ht,G){ht.INTERNAL.registerComponent(new St.uA("firestore-compat",De=>{const tt=De.getProvider("app-compat").getImmediate(),Ot=De.getProvider("firestore").getImmediate();return G(tt,Ot)},"PUBLIC").setServiceProps(Object.assign({},Ge)))})(ht,(G,De)=>new mn(G,De,new nr)),ht.registerVersion("@firebase/firestore-compat","0.3.27")}($n.A);class q{constructor(G,De){(0,l.A)(this,"ref",void 0),(0,l.A)(this,"afs",void 0),this.ref=G,this.afs=De}set(G,De){return this.ref.set(G,De)}update(G){return this.ref.update(G)}delete(){return this.ref.delete()}collection(G,De){const tt=this.ref.collection(G),{ref:Ot,query:yn}=vt(tt,De);return new Pn(Ot,yn,this.afs)}snapshotChanges(){return function K(ht,G){return ue(ht,G).pipe((0,rn.Z)(void 0),Ft(),(0,Re.T)(De=>{const[tt,Ot]=De;return Ot.exists?null!=tt&&tt.exists?{payload:Ot,type:"modified"}:{payload:Ot,type:"added"}:{payload:Ot,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oe.U0)}valueChanges(G={}){return this.snapshotChanges().pipe((0,Re.T)(({payload:De})=>G.idField?{...De.data(),[G.idField]:De.id}:De.data()))}get(G){return(0,le.H)(this.ref.get(G)).pipe(oe.U0)}}function Ke(ht,G){return Q(ht,G).pipe((0,rn.Z)(void 0),Ft(),(0,Re.T)(De=>{const[tt,Ot]=De,yn=Ot.payload.docChanges(),Wn=yn.map(Xn=>({type:Xn.type,payload:Xn}));return tt&&JSON.stringify(tt.payload.metadata)!==JSON.stringify(Ot.payload.metadata)&&Ot.payload.docs.forEach((Xn,En)=>{const Ur=yn.find(ur=>ur.doc.ref.isEqual(Xn.ref)),Nn=null==tt?void 0:tt.payload.docs.find(ur=>ur.ref.isEqual(Xn.ref));Ur&&JSON.stringify(Ur.doc.metadata)===JSON.stringify(Xn.metadata)||!Ur&&Nn&&JSON.stringify(Nn.metadata)===JSON.stringify(Xn.metadata)||Wn.push({type:"modified",payload:{oldIndex:En,newIndex:En,type:"modified",doc:Xn}})}),Wn}))}function wt(ht,G,De){return Ke(ht,De).pipe((0,An.S)((tt,Ot)=>function cn(ht,G,De){return G.forEach(tt=>{De.indexOf(tt.type)>-1&&(ht=function Hn(ht,G){switch(G.type){case"added":if(!ht[G.newIndex]||!ht[G.newIndex].doc.ref.isEqual(G.doc.ref))return Mn(ht,G.newIndex,0,G);break;case"modified":if(null==ht[G.oldIndex]||ht[G.oldIndex].doc.ref.isEqual(G.doc.ref)){if(G.oldIndex!==G.newIndex){const De=ht.slice();return De.splice(G.oldIndex,1),De.splice(G.newIndex,0,G),De}return Mn(ht,G.newIndex,1,G)}break;case"removed":if(ht[G.oldIndex]&&ht[G.oldIndex].doc.ref.isEqual(G.doc.ref))return Mn(ht,G.oldIndex,1)}return ht}(ht,tt))}),ht}(tt,Ot.map(yn=>yn.payload),G),[]),(0,Qn.F)(),(0,Re.T)(tt=>tt.map(Ot=>({type:Ot.type,payload:Ot}))))}function Mn(ht,G,De,...tt){const Ot=ht.slice();return Ot.splice(G,De,...tt),Ot}function pr(ht){return(!ht||0===ht.length)&&(ht=["added","removed","modified"]),ht}class Pn{constructor(G,De,tt){(0,l.A)(this,"ref",void 0),(0,l.A)(this,"query",void 0),(0,l.A)(this,"afs",void 0),this.ref=G,this.query=De,this.afs=tt}stateChanges(G){let De=Ke(this.query,this.afs.schedulers.outsideAngular);return G&&G.length>0&&(De=De.pipe((0,Re.T)(tt=>tt.filter(Ot=>G.indexOf(Ot.type)>-1)))),De.pipe((0,rn.Z)(void 0),Ft(),(0,Ze.p)(([tt,Ot])=>Ot.length>0||!tt),(0,Re.T)(([,tt])=>tt),oe.U0)}auditTrail(G){return this.stateChanges(G).pipe((0,An.S)((De,tt)=>[...De,...tt],[]))}snapshotChanges(G){const De=pr(G);return wt(this.query,De,this.afs.schedulers.outsideAngular).pipe(oe.U0)}valueChanges(G={}){return Q(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.T)(De=>De.payload.docs.map(tt=>G.idField?{...tt.data(),[G.idField]:tt.id}:tt.data())),oe.U0)}get(G){return(0,le.H)(this.query.get(G)).pipe(oe.U0)}add(G){return this.ref.add(G)}doc(G){return new q(this.ref.doc(G),this.afs)}}class dn{constructor(G,De){(0,l.A)(this,"query",void 0),(0,l.A)(this,"afs",void 0),this.query=G,this.afs=De}stateChanges(G){return G&&0!==G.length?Ke(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.T)(De=>De.filter(tt=>G.indexOf(tt.type)>-1)),(0,Ze.p)(De=>De.length>0),oe.U0):Ke(this.query,this.afs.schedulers.outsideAngular).pipe(oe.U0)}auditTrail(G){return this.stateChanges(G).pipe((0,An.S)((De,tt)=>[...De,...tt],[]))}snapshotChanges(G){const De=pr(G);return wt(this.query,De,this.afs.schedulers.outsideAngular).pipe(oe.U0)}valueChanges(G={}){return Q(this.query,this.afs.schedulers.outsideAngular).pipe((0,Re.T)(tt=>tt.payload.docs.map(Ot=>G.idField?{[G.idField]:Ot.id,...Ot.data()}:Ot.data())),oe.U0)}get(G){return(0,le.H)(this.query.get(G)).pipe(oe.U0)}}const sr=new j.nKC("angularfire2.enableFirestorePersistence"),vr=new j.nKC("angularfire2.firestore.persistenceSettings"),ai=new j.nKC("angularfire2.firestore.settings"),Rt=new j.nKC("angularfire2.firestore.use-emulator");function vt(ht,G=(De=>De)){return{query:G(ht),ref:ht}}let Mt=(()=>{var ht;class G{constructor(tt,Ot,yn,Wn,Xn,En,Ur,Nn,ur,bn,hi,Ie,Ce,H,ge,rt,kt){(0,l.A)(this,"schedulers",void 0),(0,l.A)(this,"firestore",void 0),(0,l.A)(this,"persistenceEnabled$",void 0),this.schedulers=Ur;const Bt=(0,he.iB)(tt,En,Ot),Jt=ur;bn&&Ae(Bt,En,hi,Ce,H,ge,Ie,rt),[this.firestore,this.persistenceEnabled$]=(0,he.BM)(`${Bt.name}.firestore`,"AngularFirestore",Bt.name,()=>{const _n=En.runOutsideAngular(()=>Bt.firestore());if(Wn&&_n.settings(Wn),Jt&&_n.useEmulator(...Jt),yn&&!(0,b.Vy)(Xn)){const Un=()=>{try{return(0,le.H)(_n.enablePersistence(Nn||void 0).then(()=>!0,()=>!1))}catch($r){return typeof console<"u"&&console.warn($r),(0,Ee.of)(!1)}};return[_n,En.runOutsideAngular(Un)]}return[_n,(0,Ee.of)(!1)]},[Wn,Jt,yn])}collection(tt,Ot){let yn;yn="string"==typeof tt?this.firestore.collection(tt):tt;const{ref:Wn,query:Xn}=vt(yn,Ot),En=this.schedulers.ngZone.run(()=>Wn);return new Pn(En,Xn,this)}collectionGroup(tt,Ot){const yn=Ot||(Xn=>Xn),Wn=this.firestore.collectionGroup(tt);return new dn(yn(Wn),this)}doc(tt){let Ot;Ot="string"==typeof tt?this.firestore.doc(tt):tt;const yn=this.schedulers.ngZone.run(()=>Ot);return new q(yn,this)}createId(){return this.firestore.collection("_").doc().id}}return ht=G,(0,l.A)(G,"\u0275fac",function(tt){return new(tt||ht)(j.KVO(he.rx),j.KVO(he.uP,8),j.KVO(sr,8),j.KVO(ai,8),j.KVO(j.Agw),j.KVO(j.SKi),j.KVO(oe.u0),j.KVO(vr,8),j.KVO(Rt,8),j.KVO(st,8),j.KVO(fn,8),j.KVO(Xt,8),j.KVO(ut,8),j.KVO(we,8),j.KVO(_e,8),j.KVO(Pe,8),j.KVO(oe.Jv,8))}),(0,l.A)(G,"\u0275prov",j.jDH({token:ht,factory:ht.\u0275fac,providedIn:"any"})),G})()},9253:(un,it,F)=>{"use strict";F.d(it,{BM:()=>ke,Gt:()=>ye,bf:()=>Oe,e7:()=>re,iB:()=>de,rx:()=>We,uP:()=>le});var l=F(9842),b=F(4438),j=F(5407),oe=F(7935);const he=["ngOnDestroy"],ye=($e,at,Fe,je={})=>new Proxy($e,{get:(He,Ye)=>Fe.runOutsideAngular(()=>{var fe;if($e[Ye])return null!=je&&null!==(fe=je.spy)&&void 0!==fe&&fe.get&&je.spy.get(Ye,$e[Ye]),$e[Ye];if(he.indexOf(Ye)>-1)return()=>{};const U=at.toPromise().then(be=>{const Me=null==be?void 0:be[Ye];return"function"==typeof Me?Me.bind(be):null!=Me&&Me.then?Me.then(ze=>Fe.run(()=>ze)):Fe.run(()=>Me)});return new Proxy(()=>{},{get:(be,Me)=>U[Me],apply:(be,Me,ze)=>U.then(Ze=>{var dt;const $t=null==Ze?void 0:Ze(...ze);return null!=je&&null!==(dt=je.spy)&&void 0!==dt&&dt.apply&&je.spy.apply(Ye,ze,$t),$t})})})}),re=($e,at)=>{at.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(je=>{Object.defineProperty($e.prototype,je,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,je))})})};class Ee{constructor(at){return at}}const We=new b.nKC("angularfire2.app.options"),le=new b.nKC("angularfire2.app.name");function de($e,at,Fe){const He="object"==typeof Fe&&Fe||{};He.name=He.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const fe=oe.A.apps.filter(U=>U&&U.name===He.name)[0]||at.runOutsideAngular(()=>oe.A.initializeApp($e,He));try{if(JSON.stringify($e)!==JSON.stringify(fe.options)){const U=!!module.hot;Ve("error",`${fe.name} Firebase App already initialized with different options${U?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ee(fe)}const Ve=($e,...at)=>{(0,b.naY)()&&typeof console<"u"&&console[$e](...at)},Ue={provide:Ee,useFactory:de,deps:[We,b.SKi,[new b.Xx1,le]]};let Oe=(()=>{var $e;class at{static initializeApp(je,He){return{ngModule:at,providers:[{provide:We,useValue:je},{provide:le,useValue:He}]}}constructor(je){oe.A.registerVersion("angularfire",j.xv.full,"core"),oe.A.registerVersion("angularfire",j.xv.full,"app-compat"),oe.A.registerVersion("angular",b.xvI.full,je.toString())}}return $e=at,(0,l.A)(at,"\u0275fac",function(je){return new(je||$e)(b.KVO(b.Agw))}),(0,l.A)(at,"\u0275mod",b.$C({type:$e})),(0,l.A)(at,"\u0275inj",b.G2t({providers:[Ue]})),at})();function ke($e,at,Fe,je,He){const[,Ye,fe]=globalThis.\u0275AngularfireInstanceCache.find(U=>U[0]===$e)||[];if(Ye)return function ct($e,at){try{return $e.toString()===at.toString()}catch{return $e===at}}(He,fe)||(Re("error",`${at} was already initialized on the ${Fe} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:He,was:fe})),Ye;{const U=je();return globalThis.\u0275AngularfireInstanceCache.push([$e,U,He]),U}}const Le=typeof module<"u"&&!!module.hot,Re=($e,...at)=>{(0,b.naY)()&&typeof console<"u"&&console[$e](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(un,it,F)=>{"use strict";F.d(it,{xv:()=>ke,U0:()=>Ze,u0:()=>Ye,Jv:()=>$e,CA:()=>Re,lR:()=>Le,S3:()=>fn});var l=F(9842),b=F(4438),j=F(2214),oe=F(6780),ye=F(9687);const Ee=new class re extends ye.q{}(class he extends oe.R{constructor(ut,we){super(ut,we),this.scheduler=ut,this.work=we}schedule(ut,we=0){return we>0?super.schedule(ut,we):(this.delay=we,this.state=ut,this.scheduler.flush(this),this)}execute(ut,we){return we>0||this.closed?super.execute(ut,we):this._execute(ut,we)}requestAsyncId(ut,we,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(ut,we,_e):(ut.flush(this),0)}});var le=F(3236),de=F(1985),Ve=F(8141),Ue=F(6745),Oe=F(941);const ke=new b.RxE("ANGULARFIRE2_VERSION");function Le(Xt,ut,we){if(ut){if(1===ut.length)return ut[0];const Ae=ut.filter(st=>st.app===we);if(1===Ae.length)return Ae[0]}return we.container.getProvider(Xt).getImmediate({optional:!0})}const Re=(Xt,ut)=>{const we=ut?[ut]:(0,j.Dk)(),_e=[];return we.forEach(Pe=>{Pe.container.getProvider(Xt).instances.forEach(st=>{_e.includes(st)||_e.push(st)})}),_e};class $e{constructor(){return Re(at)}}const at="app-check";function Fe(){}class je{constructor(ut,we=Ee){(0,l.A)(this,"zone",void 0),(0,l.A)(this,"delegate",void 0),this.zone=ut,this.delegate=we}now(){return this.delegate.now()}schedule(ut,we,_e){const Pe=this.zone;return this.delegate.schedule(function(st){Pe.runGuarded(()=>{ut.apply(this,[st])})},we,_e)}}class He{constructor(ut){(0,l.A)(this,"zone",void 0),(0,l.A)(this,"task",null),this.zone=ut}call(ut,we){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)),we.pipe((0,Ve.M)({next:_e,complete:_e,error:_e})).subscribe(ut).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{var Xt;class ut{constructor(_e){(0,l.A)(this,"ngZone",void 0),(0,l.A)(this,"outsideAngular",void 0),(0,l.A)(this,"insideAngular",void 0),this.ngZone=_e,this.outsideAngular=_e.runOutsideAngular(()=>new je(Zone.current)),this.insideAngular=_e.run(()=>new je(Zone.current,le.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Xt=ut,(0,l.A)(ut,"\u0275fac",function(_e){return new(_e||Xt)(b.KVO(b.SKi))}),(0,l.A)(ut,"\u0275prov",b.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})),ut})();function fe(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function be(Xt){return fe().ngZone.run(()=>Xt())}function Ze(Xt){return function dt(Xt){return function(we){return(we=we.lift(new He(Xt.ngZone))).pipe((0,Ue._)(Xt.outsideAngular),(0,Oe.Q)(Xt.insideAngular))}}(fe())(Xt)}const $t=(Xt,ut)=>function(){const _e=arguments;return ut&&setTimeout(()=>{"scheduled"===ut.state&&ut.invoke()},10),be(()=>Xt.apply(void 0,_e))},fn=(Xt,ut)=>function(){let we;const _e=arguments;for(let Ae=0;Ae<arguments.length;Ae++)"function"==typeof _e[Ae]&&(ut&&(we||(we=be(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fe,{},Fe,Fe)))),_e[Ae]=$t(_e[Ae],we));const Pe=function U(Xt){return fe().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,_e));if(!ut){if(Pe instanceof de.c){const Ae=fe();return Pe.pipe((0,Ue._)(Ae.outsideAngular),(0,Oe.Q)(Ae.insideAngular))}return be(()=>Pe)}return Pe instanceof de.c?Pe.pipe(Ze):Pe instanceof Promise?be(()=>new Promise((Ae,st)=>Pe.then(xe=>be(()=>Ae(xe)),xe=>be(()=>st(xe))))):"function"==typeof Pe&&we?function(){return setTimeout(()=>{we&&"scheduled"===we.state&&we.invoke()},10),Pe.apply(this,arguments)}:be(()=>Pe)}},4341:(un,it,F)=>{"use strict";F.d(it,{YN:()=>Ea,zX:()=>ws,VZ:()=>Ki,cz:()=>Ye,kq:()=>ke,vO:()=>Tn,BC:()=>nr,vS:()=>Wt,X1:()=>Bs});var l=F(4438),b=F(177),j=F(8455),oe=F(1985),he=F(3073),ye=F(8750),re=F(3794),Ee=F(4360),We=F(6450),le=F(8496),Ve=F(6354);let Ue=(()=>{var L;class P{constructor(V,X){this._renderer=V,this._elementRef=X,this.onChange=Ct=>{},this.onTouched=()=>{}}setProperty(V,X){this._renderer.setProperty(this._elementRef.nativeElement,V,X)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return(L=P).\u0275fac=function(V){return new(V||L)(l.rXU(l.sFG),l.rXU(l.aKT))},L.\u0275dir=l.FsC({type:L}),P})(),Oe=(()=>{var L;class P extends Ue{}return(L=P).\u0275fac=(()=>{let se;return function(X){return(se||(se=l.xGo(L)))(X||L)}})(),L.\u0275dir=l.FsC({type:L,features:[l.Vt3]}),P})();const ke=new l.nKC(""),Re={provide:ke,useExisting:(0,l.Rfq)(()=>Fe),multi:!0},at=new l.nKC("");let Fe=(()=>{var L;class P extends Ue{constructor(V,X,Ct){super(V,X),this._compositionMode=Ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $e(){const L=(0,b.QT)()?(0,b.QT)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(V){this.setProperty("value",null==V?"":V)}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return(L=P).\u0275fac=function(V){return new(V||L)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(at,8))},L.\u0275dir=l.FsC({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,X){1&V&&l.bIt("input",function(jt){return X._handleInput(jt.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(jt){return X._compositionEnd(jt.target.value)})},features:[l.Jv_([Re]),l.Vt3]}),P})();function je(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}const Ye=new l.nKC(""),fe=new l.nKC("");function we(L){return null}function _e(L){return null!=L}function Pe(L){return(0,l.jNT)(L)?(0,j.H)(L):L}function Ae(L){let P={};return L.forEach(se=>{P=null!=se?{...P,...se}:P}),0===Object.keys(P).length?null:P}function st(L,P){return P.map(se=>se(L))}function zt(L){return L.map(P=>function xe(L){return!L.validate}(P)?P:se=>P.validate(se))}function Kt(L){return null!=L?function rn(L){if(!L)return null;const P=L.filter(_e);return 0==P.length?null:function(se){return Ae(st(se,P))}}(zt(L)):null}function An(L){return null!=L?function Ft(L){if(!L)return null;const P=L.filter(_e);return 0==P.length?null:function(se){return function de(...L){const P=(0,re.ms)(L),{args:se,keys:V}=(0,he.D)(L),X=new oe.c(Ct=>{const{length:jt}=se;if(!jt)return void Ct.complete();const on=new Array(jt);let Jn=jt,jr=jt;for(let Ri=0;Ri<jt;Ri++){let bs=!1;(0,ye.Tg)(se[Ri]).subscribe((0,Ee._)(Ct,Ca=>{bs||(bs=!0,jr--),on[Ri]=Ca},()=>Jn--,void 0,()=>{(!Jn||!bs)&&(jr||Ct.next(V?(0,le.e)(V,on):on),Ct.complete())}))}});return P?X.pipe((0,We.I)(P)):X}(st(se,P).map(Pe)).pipe((0,Ve.T)(Ae))}}(zt(L)):null}function Qn(L,P){return null===L?[P]:Array.isArray(L)?[...L,P]:[L,P]}function kn(L){return L?Array.isArray(L)?L:[L]:[]}function St(L,P){return Array.isArray(L)?L.includes(P):L===P}function Et(L,P){const se=kn(P);return kn(L).forEach(X=>{St(se,X)||se.push(X)}),se}function Dt(L,P){return kn(P).filter(se=>!St(L,se))}class It{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,se){return!!this.control&&this.control.hasError(P,se)}getError(P,se){return this.control?this.control.getError(P,se):null}}class hn extends It{get formDirective(){return null}get path(){return null}}class Tn extends It{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let nr=(()=>{var L;class P extends Fn{constructor(V){super(V)}}return(L=P).\u0275fac=function(V){return new(V||L)(l.rXU(Tn,2))},L.\u0275dir=l.FsC({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,X){2&V&&l.AVh("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[l.Vt3]}),P})();const Qe="VALID",Ge="INVALID",yt="PENDING",qe="DISABLED";function q(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class cn{constructor(P,se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(se)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Qe}get invalid(){return this.status===Ge}get pending(){return this.status==yt}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(Et(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Et(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(Dt(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(Dt(P,this._rawAsyncValidators))}hasValidator(P){return St(this._rawValidators,P)}hasAsyncValidator(P){return St(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(se=>{se.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(se=>{se.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=yt,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const se=this._parentMarkedDirty(P.onlySelf);this.status=qe,this.errors=null,this._forEachChild(V=>{V.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:se}),this._onDisabledChange.forEach(V=>V(!0))}enable(P={}){const se=this._parentMarkedDirty(P.onlySelf);this.status=Qe,this._forEachChild(V=>{V.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:se}),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qe||this.status===yt)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(se=>se._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator=!0;const se=Pe(this.asyncValidator(this));this._asyncValidationSubscription=se.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,se={}){this.errors=P,this._updateControlsErrors(!1!==se.emitEvent)}get(P){let se=P;return null==se||(Array.isArray(se)||(se=se.split(".")),0===se.length)?null:se.reduce((V,X)=>V&&V._find(X),this)}getError(P,se){const V=se?this.get(se):this;return V&&V.errors?V.errors[P]:null}hasError(P,se){return!!this.getError(P,se)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?Ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Ge)?Ge:Qe}_anyControlsHaveStatus(P){return this._anyControls(se=>se.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){q(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function ue(L){return Array.isArray(L)?Kt(L):L||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function Q(L){return Array.isArray(L)?An(L):L||null}(this._rawAsyncValidators)}}const vr=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ai}),ai="always";function vt(L,P,se=ai){var V,X;(function G(L,P){const se=function $n(L){return L._rawValidators}(L);null!==P.validator?L.setValidators(Qn(se,P.validator)):"function"==typeof se&&L.setValidators([se]);const V=function Tt(L){return L._rawAsyncValidators}(L);null!==P.asyncValidator?L.setAsyncValidators(Qn(V,P.asyncValidator)):"function"==typeof V&&L.setAsyncValidators([V]);const X=()=>L.updateValueAndValidity();gn(P._rawValidators,X),gn(P._rawAsyncValidators,X)})(L,P),P.valueAccessor.writeValue(L.value),(L.disabled||"always"===se)&&(null===(V=(X=P.valueAccessor).setDisabledState)||void 0===V||V.call(X,L.disabled)),function tt(L,P){P.valueAccessor.registerOnChange(se=>{L._pendingValue=se,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&yn(L,P)})}(L,P),function Wn(L,P){const se=(V,X)=>{P.valueAccessor.writeValue(V),X&&P.viewToModelUpdate(V)};L.registerOnChange(se),P._registerOnDestroy(()=>{L._unregisterOnChange(se)})}(L,P),function Ot(L,P){P.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&yn(L,P),"submit"!==L.updateOn&&L.markAsTouched()})}(L,P),function ht(L,P){if(P.valueAccessor.setDisabledState){const se=V=>{P.valueAccessor.setDisabledState(V)};L.registerOnDisabledChange(se),P._registerOnDestroy(()=>{L._unregisterOnDisabledChange(se)})}}(L,P)}function gn(L,P){L.forEach(se=>{se.registerOnValidatorChange&&se.registerOnValidatorChange(P)})}function yn(L,P){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Un(L,P){const se=L.indexOf(P);se>-1&&L.splice(se,1)}function $r(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}Promise.resolve();const _t=class extends cn{constructor(P=null,se,V){super(function ie(L){return(q(L)?L.validators:L)||null}(se),function K(L,P){return(q(P)?P.asyncValidators:L)||null}(V,se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(se)&&(se.nonNullable||se.initialValueIsDefault)&&(this.defaultValue=$r(P)?P.value:P)}setValue(P,se={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==se.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==se.emitViewToModelChange)),this.updateValueAndValidity(se)}patchValue(P,se={}){this.setValue(P,se)}reset(P=this.defaultValue,se={}){this._applyFormState(P),this.markAsPristine(se),this.markAsUntouched(se),this.setValue(this.value,se),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Un(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Un(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){$r(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},qt={provide:Tn,useExisting:(0,l.Rfq)(()=>Wt)},an=Promise.resolve();let Wt=(()=>{var L;class P extends Tn{constructor(V,X,Ct,jt,on,Jn){super(),this._changeDetectorRef=on,this.callSetDisabledState=Jn,this.control=new _t,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=V,this._setValidators(X),this._setAsyncValidators(Ct),this.valueAccessor=function ge(L,P){if(!P)return null;let se,V,X;return Array.isArray(P),P.forEach(Ct=>{Ct.constructor===Fe?se=Ct:function Ce(L){return Object.getPrototypeOf(L.constructor)===Oe}(Ct)?V=Ct:X=Ct}),X||V||se||null}(0,jt)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const X=V.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),function Ie(L,P){if(!L.hasOwnProperty("model"))return!1;const se=L.model;return!!se.isFirstChange()||!Object.is(P,se.currentValue)}(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){an.then(()=>{var X;this.control.setValue(V,{emitViewToModelChange:!1}),null===(X=this._changeDetectorRef)||void 0===X||X.markForCheck()})}_updateDisabled(V){const X=V.isDisabled.currentValue,Ct=0!==X&&(0,l.L39)(X);an.then(()=>{var jt;Ct&&!this.control.disabled?this.control.disable():!Ct&&this.control.disabled&&this.control.enable(),null===(jt=this._changeDetectorRef)||void 0===jt||jt.markForCheck()})}_getPath(V){return this._parent?function Rt(L,P){return[...P.path,L]}(V,this._parent):[V]}}return(L=P).\u0275fac=function(V){return new(V||L)(l.rXU(hn,9),l.rXU(Ye,10),l.rXU(fe,10),l.rXU(ke,10),l.rXU(l.gRc,8),l.rXU(vr,8))},L.\u0275dir=l.FsC({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[l.Mj6.None,"disabled","isDisabled"],model:[l.Mj6.None,"ngModel","model"],options:[l.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([qt]),l.Vt3,l.OA$]}),P})();const Vn=new l.nKC("");function wi(L){return"number"==typeof L?L:parseFloat(L)}let Pi=(()=>{var L;class P{constructor(){this._validator=we}ngOnChanges(V){if(this.inputName in V){const X=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):we,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return(L=P).\u0275fac=function(V){return new(V||L)},L.\u0275dir=l.FsC({type:L,features:[l.OA$]}),P})();const ya={provide:Ye,useExisting:(0,l.Rfq)(()=>ws),multi:!0};let ws=(()=>{var L;class P extends Pi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=V=>wi(V),this.createValidator=V=>function ze(L){return P=>{if(je(P.value)||je(L))return null;const se=parseFloat(P.value);return!isNaN(se)&&se>L?{max:{max:L,actual:P.value}}:null}}(V)}}return(L=P).\u0275fac=(()=>{let se;return function(X){return(se||(se=l.xGo(L)))(X||L)}})(),L.\u0275dir=l.FsC({type:L,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(V,X){2&V&&l.BMQ("max",X._enabled?X.max:null)},inputs:{max:"max"},features:[l.Jv_([ya]),l.Vt3]}),P})();const Us={provide:Ye,useExisting:(0,l.Rfq)(()=>Ki),multi:!0};let Ki=(()=>{var L;class P extends Pi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>wi(V),this.createValidator=V=>function Me(L){return P=>{if(je(P.value)||je(L))return null;const se=parseFloat(P.value);return!isNaN(se)&&se<L?{min:{min:L,actual:P.value}}:null}}(V)}}return(L=P).\u0275fac=(()=>{let se;return function(X){return(se||(se=l.xGo(L)))(X||L)}})(),L.\u0275dir=l.FsC({type:L,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,X){2&V&&l.BMQ("min",X._enabled?X.min:null)},inputs:{min:"min"},features:[l.Jv_([Us]),l.Vt3]}),P})(),To=(()=>{var L;class P{}return(L=P).\u0275fac=function(V){return new(V||L)},L.\u0275mod=l.$C({type:L}),L.\u0275inj=l.G2t({}),P})(),Ea=(()=>{var L;class P{static withConfig(V){var X;return{ngModule:P,providers:[{provide:vr,useValue:null!==(X=V.callSetDisabledState)&&void 0!==X?X:ai}]}}}return(L=P).\u0275fac=function(V){return new(V||L)},L.\u0275mod=l.$C({type:L}),L.\u0275inj=l.G2t({imports:[To]}),P})(),Bs=(()=>{var L;class P{static withConfig(V){var X,Ct;return{ngModule:P,providers:[{provide:Vn,useValue:null!==(X=V.warnOnNgModelWithFormControl)&&void 0!==X?X:"always"},{provide:vr,useValue:null!==(Ct=V.callSetDisabledState)&&void 0!==Ct?Ct:ai}]}}}return(L=P).\u0275fac=function(V){return new(V||L)},L.\u0275mod=l.$C({type:L}),L.\u0275inj=l.G2t({imports:[To]}),P})()},345:(un,it,F)=>{"use strict";F.d(it,{Bb:()=>kn,hE:()=>Dt,sG:()=>An});var l=F(4438),b=F(177);class j extends b.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends j{static makeCurrent(){(0,b.ZD)(new oe)}onAndCancel(Ge,yt,qe){return Ge.addEventListener(yt,qe),()=>{Ge.removeEventListener(yt,qe)}}dispatchEvent(Ge,yt){Ge.dispatchEvent(yt)}remove(Ge){Ge.parentNode&&Ge.parentNode.removeChild(Ge)}createElement(Ge,yt){return(yt=yt||this.getDefaultDocument()).createElement(Ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ge){return Ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ge){return Ge instanceof DocumentFragment}getGlobalEventTarget(Ge,yt){return"window"===yt?window:"document"===yt?Ge:"body"===yt?Ge.body:null}getBaseHref(Ge){const yt=function ye(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==yt?null:function re(Qe){return new URL(Qe,document.baseURI).pathname}(yt)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ge){return(0,b._b)(document.cookie,Ge)}}let he=null,We=(()=>{var Qe;class Ge{build(){return new XMLHttpRequest}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();const le=new l.nKC("");let de=(()=>{var Qe;class Ge{constructor(qe,ie){this._zone=ie,this._eventNameToPlugin=new Map,qe.forEach(ue=>{ue.manager=this}),this._plugins=qe.slice().reverse()}addEventListener(qe,ie,ue){return this._findPluginFor(ie).addEventListener(qe,ie,ue)}getZone(){return this._zone}_findPluginFor(qe){let ie=this._eventNameToPlugin.get(qe);if(ie)return ie;if(ie=this._plugins.find(K=>K.supports(qe)),!ie)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(qe,ie),ie}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(le),l.KVO(l.SKi))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();class Ve{constructor(Ge){this._doc=Ge}}const Ue="ng-app-id";let Oe=(()=>{var Qe;class Ge{constructor(qe,ie,ue,K={}){this.doc=qe,this.appId=ie,this.nonce=ue,this.platformId=K,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,b.Vy)(K),this.resetHostNodes()}addStyles(qe){for(const ie of qe)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(qe){for(const ie of qe)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const qe=this.styleNodesInDOM;qe&&(qe.forEach(ie=>ie.remove()),qe.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(qe){this.hostNodes.add(qe);for(const ie of this.getAllStyles())this.addStyleToHost(qe,ie)}removeHost(qe){this.hostNodes.delete(qe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(qe){for(const ie of this.hostNodes)this.addStyleToHost(ie,qe)}onStyleRemoved(qe){var ie;const ue=this.styleRef;null===(ie=ue.get(qe))||void 0===ie||null===(ie=ie.elements)||void 0===ie||ie.forEach(K=>K.remove()),ue.delete(qe)}collectServerRenderedStyles(){var qe;const ie=null===(qe=this.doc.head)||void 0===qe?void 0:qe.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(null!=ie&&ie.length){const ue=new Map;return ie.forEach(K=>{null!=K.textContent&&ue.set(K.textContent,K)}),ue}return null}changeUsageCount(qe,ie){const ue=this.styleRef;if(ue.has(qe)){const K=ue.get(qe);return K.usage+=ie,K.usage}return ue.set(qe,{usage:ie,elements:[]}),ie}getStyleElement(qe,ie){const ue=this.styleNodesInDOM,K=null==ue?void 0:ue.get(ie);if((null==K?void 0:K.parentNode)===qe)return ue.delete(ie),K.removeAttribute(Ue),K;{const Q=this.doc.createElement("style");return this.nonce&&Q.setAttribute("nonce",this.nonce),Q.textContent=ie,this.platformIsServer&&Q.setAttribute(Ue,this.appId),qe.appendChild(Q),Q}}addStyleToHost(qe,ie){var ue;const K=this.getStyleElement(qe,ie),Q=this.styleRef,q=null===(ue=Q.get(ie))||void 0===ue?void 0:ue.elements;q?q.push(K):Q.set(ie,{elements:[K],usage:1})}resetHostNodes(){const qe=this.hostNodes;qe.clear(),qe.add(this.doc.head)}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(b.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g,Fe=new l.nKC("",{providedIn:"root",factory:()=>!0});function Ye(Qe,Ge){return Ge.map(yt=>yt.replace(ct,Qe))}let fe=(()=>{var Qe;class Ge{constructor(qe,ie,ue,K,Q,q,Ke,wt=null){this.eventManager=qe,this.sharedStylesHost=ie,this.appId=ue,this.removeStylesOnCompDestroy=K,this.doc=Q,this.platformId=q,this.ngZone=Ke,this.nonce=wt,this.rendererByCompId=new Map,this.platformIsServer=(0,b.Vy)(q),this.defaultRenderer=new U(qe,Q,Ke,this.platformIsServer)}createRenderer(qe,ie){if(!qe||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===l.gXe.ShadowDom&&(ie={...ie,encapsulation:l.gXe.Emulated});const ue=this.getOrCreateRenderer(qe,ie);return ue instanceof $t?ue.applyToHost(qe):ue instanceof dt&&ue.applyStyles(),ue}getOrCreateRenderer(qe,ie){const ue=this.rendererByCompId;let K=ue.get(ie.id);if(!K){const Q=this.doc,q=this.ngZone,Ke=this.eventManager,wt=this.sharedStylesHost,cn=this.removeStylesOnCompDestroy,Mn=this.platformIsServer;switch(ie.encapsulation){case l.gXe.Emulated:K=new $t(Ke,wt,ie,this.appId,cn,Q,q,Mn);break;case l.gXe.ShadowDom:return new Ze(Ke,wt,qe,ie,Q,q,this.nonce,Mn);default:K=new dt(Ke,wt,ie,cn,Q,q,Mn)}ue.set(ie.id,K)}return K}ngOnDestroy(){this.rendererByCompId.clear()}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(de),l.KVO(Oe),l.KVO(l.sZ2),l.KVO(Fe),l.KVO(b.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();class U{constructor(Ge,yt,qe,ie){this.eventManager=Ge,this.doc=yt,this.ngZone=qe,this.platformIsServer=ie,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ge,yt){return yt?this.doc.createElementNS(ke[yt]||yt,Ge):this.doc.createElement(Ge)}createComment(Ge){return this.doc.createComment(Ge)}createText(Ge){return this.doc.createTextNode(Ge)}appendChild(Ge,yt){(ze(Ge)?Ge.content:Ge).appendChild(yt)}insertBefore(Ge,yt,qe){Ge&&(ze(Ge)?Ge.content:Ge).insertBefore(yt,qe)}removeChild(Ge,yt){Ge&&Ge.removeChild(yt)}selectRootElement(Ge,yt){let qe="string"==typeof Ge?this.doc.querySelector(Ge):Ge;if(!qe)throw new l.wOt(-5104,!1);return yt||(qe.textContent=""),qe}parentNode(Ge){return Ge.parentNode}nextSibling(Ge){return Ge.nextSibling}setAttribute(Ge,yt,qe,ie){if(ie){yt=ie+":"+yt;const ue=ke[ie];ue?Ge.setAttributeNS(ue,yt,qe):Ge.setAttribute(yt,qe)}else Ge.setAttribute(yt,qe)}removeAttribute(Ge,yt,qe){if(qe){const ie=ke[qe];ie?Ge.removeAttributeNS(ie,yt):Ge.removeAttribute(`${qe}:${yt}`)}else Ge.removeAttribute(yt)}addClass(Ge,yt){Ge.classList.add(yt)}removeClass(Ge,yt){Ge.classList.remove(yt)}setStyle(Ge,yt,qe,ie){ie&(l.czy.DashCase|l.czy.Important)?Ge.style.setProperty(yt,qe,ie&l.czy.Important?"important":""):Ge.style[yt]=qe}removeStyle(Ge,yt,qe){qe&l.czy.DashCase?Ge.style.removeProperty(yt):Ge.style[yt]=""}setProperty(Ge,yt,qe){null!=Ge&&(Ge[yt]=qe)}setValue(Ge,yt){Ge.nodeValue=yt}listen(Ge,yt,qe){if("string"==typeof Ge&&!(Ge=(0,b.QT)().getGlobalEventTarget(this.doc,Ge)))throw new Error(`Unsupported event target ${Ge} for event ${yt}`);return this.eventManager.addEventListener(Ge,yt,this.decoratePreventDefault(qe))}decoratePreventDefault(Ge){return yt=>{if("__ngUnwrap__"===yt)return Ge;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ge(yt)):Ge(yt))&&yt.preventDefault()}}}function ze(Qe){return"TEMPLATE"===Qe.tagName&&void 0!==Qe.content}class Ze extends U{constructor(Ge,yt,qe,ie,ue,K,Q,q){super(Ge,ue,K,q),this.sharedStylesHost=yt,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ke=Ye(ie.id,ie.styles);for(const wt of Ke){const cn=document.createElement("style");Q&&cn.setAttribute("nonce",Q),cn.textContent=wt,this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(Ge){return Ge===this.hostEl?this.shadowRoot:Ge}appendChild(Ge,yt){return super.appendChild(this.nodeOrShadowRoot(Ge),yt)}insertBefore(Ge,yt,qe){return super.insertBefore(this.nodeOrShadowRoot(Ge),yt,qe)}removeChild(Ge,yt){return super.removeChild(this.nodeOrShadowRoot(Ge),yt)}parentNode(Ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ge)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dt extends U{constructor(Ge,yt,qe,ie,ue,K,Q,q){super(Ge,ue,K,Q),this.sharedStylesHost=yt,this.removeStylesOnCompDestroy=ie,this.styles=q?Ye(q,qe.styles):qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $t extends dt{constructor(Ge,yt,qe,ie,ue,K,Q,q){const Ke=ie+"-"+qe.id;super(Ge,yt,qe,ue,K,Q,q,Ke),this.contentAttr=function je(Qe){return"_ngcontent-%COMP%".replace(ct,Qe)}(Ke),this.hostAttr=function He(Qe){return"_nghost-%COMP%".replace(ct,Qe)}(Ke)}applyToHost(Ge){this.applyStyles(),this.setAttribute(Ge,this.hostAttr,"")}createElement(Ge,yt){const qe=super.createElement(Ge,yt);return super.setAttribute(qe,this.contentAttr,""),qe}}let fn=(()=>{var Qe;class Ge extends Ve{constructor(qe){super(qe)}supports(qe){return!0}addEventListener(qe,ie,ue){return qe.addEventListener(ie,ue,!1),()=>this.removeEventListener(qe,ie,ue)}removeEventListener(qe,ie,ue){return qe.removeEventListener(ie,ue)}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(b.qQ))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();const Xt=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},we={alt:Qe=>Qe.altKey,control:Qe=>Qe.ctrlKey,meta:Qe=>Qe.metaKey,shift:Qe=>Qe.shiftKey};let _e=(()=>{var Qe;class Ge extends Ve{constructor(qe){super(qe)}supports(qe){return null!=Ge.parseEventName(qe)}addEventListener(qe,ie,ue){const K=Ge.parseEventName(ie),Q=Ge.eventCallback(K.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.QT)().onAndCancel(qe,K.domEventName,Q))}static parseEventName(qe){const ie=qe.toLowerCase().split("."),ue=ie.shift();if(0===ie.length||"keydown"!==ue&&"keyup"!==ue)return null;const K=Ge._normalizeKey(ie.pop());let Q="",q=ie.indexOf("code");if(q>-1&&(ie.splice(q,1),Q="code."),Xt.forEach(wt=>{const cn=ie.indexOf(wt);cn>-1&&(ie.splice(cn,1),Q+=wt+".")}),Q+=K,0!=ie.length||0===K.length)return null;const Ke={};return Ke.domEventName=ue,Ke.fullKey=Q,Ke}static matchEventFullKeyCode(qe,ie){let ue=ut[qe.key]||qe.key,K="";return ie.indexOf("code.")>-1&&(ue=qe.code,K="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Xt.forEach(Q=>{Q!==ue&&(0,we[Q])(qe)&&(K+=Q+".")}),K+=ue,K===ie)}static eventCallback(qe,ie,ue){return K=>{Ge.matchEventFullKeyCode(K,qe)&&ue.runGuarded(()=>ie(K))}}static _normalizeKey(qe){return"esc"===qe?"escape":qe}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(b.qQ))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac}),Ge})();const An=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:b.AJ},{provide:l.PLl,useValue:function zt(){oe.makeCurrent()},multi:!0},{provide:b.qQ,useFactory:function Kt(){return(0,l.TL$)(document),document},deps:[]}]),Qn=new l.nKC(""),$n=[{provide:l.e01,useClass:class Ee{addToWindow(Ge){l.JZv.getAngularTestability=(qe,ie=!0)=>{const ue=Ge.findTestabilityInTree(qe,ie);if(null==ue)throw new l.wOt(5103,!1);return ue},l.JZv.getAllAngularTestabilities=()=>Ge.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>Ge.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(qe=>{const ie=l.JZv.getAllAngularTestabilities();let ue=ie.length;const K=function(){ue--,0==ue&&qe()};ie.forEach(Q=>{Q.whenStable(K)})})}findTestabilityInTree(Ge,yt,qe){if(null==yt)return null;const ie=Ge.getTestability(yt);return null!=ie?ie:qe?(0,b.QT)().isShadowRoot(yt)?this.findTestabilityInTree(Ge,yt.host,!0):this.findTestabilityInTree(Ge,yt.parentElement,!0):null}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],Tt=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function rn(){return new l.zcH},deps:[]},{provide:le,useClass:fn,multi:!0,deps:[b.qQ,l.SKi,l.Agw]},{provide:le,useClass:_e,multi:!0,deps:[b.qQ]},fe,Oe,de,{provide:l._9s,useExisting:fe},{provide:b.N0,useClass:We,deps:[]},[]];let kn=(()=>{var Qe;class Ge{constructor(qe){}static withServerTransition(qe){return{ngModule:Ge,providers:[{provide:l.sZ2,useValue:qe.appId}]}}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(Qn,12))},Qe.\u0275mod=l.$C({type:Qe}),Qe.\u0275inj=l.G2t({providers:[...Tt,...$n],imports:[b.MD,l.Hbi]}),Ge})(),Dt=(()=>{var Qe;class Ge{constructor(qe){this._doc=qe}getTitle(){return this._doc.title}setTitle(qe){this._doc.title=qe||""}}return(Qe=Ge).\u0275fac=function(qe){return new(qe||Qe)(l.KVO(b.qQ))},Qe.\u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Ge})()},4964:(un,it,F)=>{"use strict";F.d(it,{nX:()=>Ei,Zp:()=>Br,Z:()=>rt,Xk:()=>Ft,Kp:()=>ti,b:()=>sn,Ix:()=>nn,Wk:()=>_i,iI:()=>_s,Sd:()=>Cn});var l=F(4438),b=F(1985),j=F(8071),he=F(8455),ye=F(7673),re=F(4412),Ee=F(4572),We=F(9350),le=F(8793),de=F(8750);function Ve(_){return new b.c(A=>{(0,de.Tg)(_()).subscribe(A)})}var Ue=F(1203);function Oe(_,A){const R=(0,j.T)(_)?_:()=>_,D=N=>N.error(R());return new b.c(A?N=>A.schedule(D,0,N):D)}var ke=F(983),ct=F(8359),Le=F(9974),Re=F(4360);function $e(){return(0,Le.N)((_,A)=>{let R=null;_._refCount++;const D=(0,Re._)(A,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(R=null);const N=_._connection,J=R;R=null,N&&(!J||N===J)&&N.unsubscribe(),A.unsubscribe()});_.subscribe(D),D.closed||(R=_.connect())})}class at extends b.c{constructor(A,R){super(),this.source=A,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,Le.S)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new ct.yU;const R=this.getSubject();A.add(this.source.subscribe((0,Re._)(R,void 0,()=>{this._teardown(),R.complete()},D=>{this._teardown(),R.error(D)},()=>this._teardown()))),A.closed&&(this._connection=null,A=ct.yU.EMPTY)}return A}refCount(){return $e()(this)}}var Fe=F(1413),je=F(177),He=F(6354),Ye=F(5558),fe=F(6697),U=F(9172),be=F(5964),Me=F(1397),ze=F(1594);function Ze(_,A){return(0,j.T)(A)?(0,Me.Z)(_,A,1):(0,Me.Z)(_,1)}var dt=F(8141);function $t(_){return(0,Le.N)((A,R)=>{let J,D=null,N=!1;D=A.subscribe((0,Re._)(R,void 0,void 0,me=>{J=(0,de.Tg)(_(me,$t(_)(A))),D?(D.unsubscribe(),D=null,J.subscribe(R)):N=!0})),N&&(D.unsubscribe(),D=null,J.subscribe(R))})}var fn=F(2816),Xt=F(9901);function ut(_){return _<=0?()=>ke.w:(0,Le.N)((A,R)=>{let D=[];A.subscribe((0,Re._)(R,N=>{D.push(N),_<D.length&&D.shift()},()=>{for(const N of D)R.next(N);R.complete()},void 0,()=>{D=null}))})}var we=F(3774),_e=F(3669);function st(_){return(0,Le.N)((A,R)=>{try{A.subscribe(R)}finally{R.add(_)}})}var xe=F(5343),rn=F(6365),Kt=F(345);const Ft="primary",An=Symbol("RouteTitle");class Qn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const R=this.params[A];return Array.isArray(R)?R[0]:R}return null}getAll(A){if(this.has(A)){const R=this.params[A];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function $n(_){return new Qn(_)}function Tt(_,A,R){const D=R.path.split("/");if(D.length>_.length||"full"===R.pathMatch&&(A.hasChildren()||D.length<_.length))return null;const N={};for(let J=0;J<D.length;J++){const me=D[J],mt=_[J];if(me.startsWith(":"))N[me.substring(1)]=mt;else if(me!==mt.path)return null}return{consumed:_.slice(0,D.length),posParams:N}}function St(_,A){const R=_?Et(_):void 0,D=A?Et(A):void 0;if(!R||!D||R.length!=D.length)return!1;let N;for(let J=0;J<R.length;J++)if(N=R[J],!Dt(_[N],A[N]))return!1;return!0}function Et(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function Dt(_,A){if(Array.isArray(_)&&Array.isArray(A)){if(_.length!==A.length)return!1;const R=[..._].sort(),D=[...A].sort();return R.every((N,J)=>D[J]===N)}return _===A}function It(_){return _.length>0?_[_.length-1]:null}function hn(_){return function oe(_){return!!_&&(_ instanceof b.c||(0,j.T)(_.lift)&&(0,j.T)(_.subscribe))}(_)?_:(0,l.jNT)(_)?(0,he.H)(Promise.resolve(_)):(0,ye.of)(_)}const Tn={exact:function nr(_,A,R){if(!Sn(_.segments,A.segments)||!Nr(_.segments,A.segments,R)||_.numberOfChildren!==A.numberOfChildren)return!1;for(const D in A.children)if(!_.children[D]||!nr(_.children[D],A.children[D],R))return!1;return!0},subset:wn},Fn={exact:function Yn(_,A){return St(_,A)},subset:function mn(_,A){return Object.keys(A).length<=Object.keys(_).length&&Object.keys(A).every(R=>Dt(_[R],A[R]))},ignored:()=>!0};function qn(_,A,R){return Tn[R.paths](_.root,A.root,R.matrixParams)&&Fn[R.queryParams](_.queryParams,A.queryParams)&&!("exact"===R.fragment&&_.fragment!==A.fragment)}function wn(_,A,R){return Tr(_,A,A.segments,R)}function Tr(_,A,R,D){if(_.segments.length>R.length){const N=_.segments.slice(0,R.length);return!(!Sn(N,R)||A.hasChildren()||!Nr(N,R,D))}if(_.segments.length===R.length){if(!Sn(_.segments,R)||!Nr(_.segments,R,D))return!1;for(const N in A.children)if(!_.children[N]||!wn(_.children[N],A.children[N],D))return!1;return!0}{const N=R.slice(0,_.segments.length),J=R.slice(_.segments.length);return!!(Sn(_.segments,N)&&Nr(_.segments,N,D)&&_.children[Ft])&&Tr(_.children[Ft],A,J,D)}}function Nr(_,A,R){return A.every((D,N)=>Fn[R](_[N].parameters,D.parameters))}class dr{constructor(A=new Ln([],{}),R={},D=null){this.root=A,this.queryParams=R,this.fragment=D}get queryParamMap(){var A;return null!==(A=this._queryParamMap)&&void 0!==A||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return Dr.serialize(this)}}class Ln{constructor(A,R){this.segments=A,this.children=R,this.parent=null,Object.values(R).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class or{constructor(A,R){this.path=A,this.parameters=R}get parameterMap(){var A;return null!==(A=this._parameterMap)&&void 0!==A||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return qe(this)}}function Sn(_,A){return _.length===A.length&&_.every((R,D)=>R.path===A[D].path)}let Cn=(()=>{var _;class A{}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:()=>new Zn,providedIn:"root"}),A})();class Zn{parse(A){const R=new pr(A);return new dr(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(A){const R=`/${jn(A.root,!0)}`,D=function ue(_){const A=Object.entries(_).map(([R,D])=>Array.isArray(D)?D.map(N=>`${Sr(R)}=${Sr(N)}`).join("&"):`${Sr(R)}=${Sr(D)}`).filter(R=>R);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${R}${D}${"string"==typeof A.fragment?`#${function Lr(_){return encodeURI(_)}(A.fragment)}`:""}`}}const Dr=new Zn;function Gn(_){return _.segments.map(A=>qe(A)).join("/")}function jn(_,A){if(!_.hasChildren())return Gn(_);if(A){const R=_.children[Ft]?jn(_.children[Ft],!1):"",D=[];return Object.entries(_.children).forEach(([N,J])=>{N!==Ft&&D.push(`${N}:${jn(J,!1)}`)}),D.length>0?`${R}(${D.join("//")})`:R}{const R=function gr(_,A){let R=[];return Object.entries(_.children).forEach(([D,N])=>{D===Ft&&(R=R.concat(A(N,D)))}),Object.entries(_.children).forEach(([D,N])=>{D!==Ft&&(R=R.concat(A(N,D)))}),R}(_,(D,N)=>N===Ft?[jn(_.children[Ft],!1)]:[`${N}:${jn(D,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Ft]?`${Gn(_)}/${R[0]}`:`${Gn(_)}/(${R.join("//")})`}}function wr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(_){return wr(_).replace(/%3B/gi,";")}function Qe(_){return wr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ge(_){return decodeURIComponent(_)}function yt(_){return Ge(_.replace(/\+/g,"%20"))}function qe(_){return`${Qe(_.path)}${function ie(_){return Object.entries(_).map(([A,R])=>`;${Qe(A)}=${Qe(R)}`).join("")}(_.parameters)}`}const K=/^[^\/()?;#]+/;function Q(_){const A=_.match(K);return A?A[0]:""}const q=/^[^\/()?;=#]+/,wt=/^[^=?&#]+/,Mn=/^[^&#]+/;class pr{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(A.length>0||Object.keys(R).length>0)&&(D[Ft]=new Ln(A,R)),D}parseSegment(){const A=Q(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(A),new or(Ge(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const R=function Ke(_){const A=_.match(q);return A?A[0]:""}(this.remaining);if(!R)return;this.capture(R);let D="";if(this.consumeOptional("=")){const N=Q(this.remaining);N&&(D=N,this.capture(D))}A[Ge(R)]=Ge(D)}parseQueryParam(A){const R=function cn(_){const A=_.match(wt);return A?A[0]:""}(this.remaining);if(!R)return;this.capture(R);let D="";if(this.consumeOptional("=")){const me=function Hn(_){const A=_.match(Mn);return A?A[0]:""}(this.remaining);me&&(D=me,this.capture(D))}const N=yt(R),J=yt(D);if(A.hasOwnProperty(N)){let me=A[N];Array.isArray(me)||(me=[me],A[N]=me),me.push(J)}else A[N]=J}parseParens(A){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Q(this.remaining),N=this.remaining[D.length];if("/"!==N&&")"!==N&&";"!==N)throw new l.wOt(4010,!1);let J;D.indexOf(":")>-1?(J=D.slice(0,D.indexOf(":")),this.capture(J),this.capture(":")):A&&(J=Ft);const me=this.parseChildren();R[J]=1===Object.keys(me).length?me[Ft]:new Ln([],me),this.consumeOptional("//")}return R}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new l.wOt(4011,!1)}}function Pn(_){return _.segments.length>0?new Ln([],{[Ft]:_}):_}function dn(_){const A={};for(const[D,N]of Object.entries(_.children)){const J=dn(N);if(D===Ft&&0===J.segments.length&&J.hasChildren())for(const[me,mt]of Object.entries(J.children))A[me]=mt;else(J.segments.length>0||J.hasChildren())&&(A[D]=J)}return function sr(_){if(1===_.numberOfChildren&&_.children[Ft]){const A=_.children[Ft];return new Ln(_.segments.concat(A.segments),A.children)}return _}(new Ln(_.segments,A))}function vr(_){return _ instanceof dr}function Rt(_){var A;let R;const J=Pn(function D(me){const mt={};for(const At of me.children){const Rn=D(At);mt[At.outlet]=Rn}const Qt=new Ln(me.url,mt);return me===_&&(R=Qt),Qt}(_.root));return null!==(A=R)&&void 0!==A?A:J}function vt(_,A,R,D){let N=_;for(;N.parent;)N=N.parent;if(0===A.length)return ht(N,N,N,R,D);const J=function tt(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new De(!0,0,_);let A=0,R=!1;const D=_.reduce((N,J,me)=>{if("object"==typeof J&&null!=J){if(J.outlets){const mt={};return Object.entries(J.outlets).forEach(([Qt,At])=>{mt[Qt]="string"==typeof At?At.split("/"):At}),[...N,{outlets:mt}]}if(J.segmentPath)return[...N,J.segmentPath]}return"string"!=typeof J?[...N,J]:0===me?(J.split("/").forEach((mt,Qt)=>{0==Qt&&"."===mt||(0==Qt&&""===mt?R=!0:".."===mt?A++:""!=mt&&N.push(mt))}),N):[...N,J]},[]);return new De(R,A,D)}(A);if(J.toRoot())return ht(N,N,new Ln([],{}),R,D);const me=function yn(_,A,R){if(_.isAbsolute)return new Ot(A,!0,0);if(!R)return new Ot(A,!1,NaN);if(null===R.parent)return new Ot(R,!0,0);const D=Mt(_.commands[0])?0:1;return function Wn(_,A,R){let D=_,N=A,J=R;for(;J>N;){if(J-=N,D=D.parent,!D)throw new l.wOt(4005,!1);N=D.segments.length}return new Ot(D,!1,N-J)}(R,R.segments.length-1+D,_.numberOfDoubleDots)}(J,N,_),mt=me.processChildren?Ur(me.segmentGroup,me.index,J.commands):En(me.segmentGroup,me.index,J.commands);return ht(N,me.segmentGroup,mt,R,D)}function Mt(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function gn(_){return"object"==typeof _&&null!=_&&_.outlets}function ht(_,A,R,D,N){let me,J={};D&&Object.entries(D).forEach(([Qt,At])=>{J[Qt]=Array.isArray(At)?At.map(Rn=>`${Rn}`):`${At}`}),me=_===A?R:G(_,A,R);const mt=Pn(dn(me));return new dr(mt,J,N)}function G(_,A,R){const D={};return Object.entries(_.children).forEach(([N,J])=>{D[N]=J===A?R:G(J,A,R)}),new Ln(_.segments,D)}class De{constructor(A,R,D){if(this.isAbsolute=A,this.numberOfDoubleDots=R,this.commands=D,A&&D.length>0&&Mt(D[0]))throw new l.wOt(4003,!1);const N=D.find(gn);if(N&&N!==It(D))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ot{constructor(A,R,D){this.segmentGroup=A,this.processChildren=R,this.index=D}}function En(_,A,R){var D;if(null!==(D=_)&&void 0!==D||(_=new Ln([],{})),0===_.segments.length&&_.hasChildren())return Ur(_,A,R);const N=function Nn(_,A,R){let D=0,N=A;const J={match:!1,pathIndex:0,commandIndex:0};for(;N<_.segments.length;){if(D>=R.length)return J;const me=_.segments[N],mt=R[D];if(gn(mt))break;const Qt=`${mt}`,At=D<R.length-1?R[D+1]:null;if(N>0&&void 0===Qt)break;if(Qt&&At&&"object"==typeof At&&void 0===At.outlets){if(!Ie(Qt,At,me))return J;D+=2}else{if(!Ie(Qt,{},me))return J;D++}N++}return{match:!0,pathIndex:N,commandIndex:D}}(_,A,R),J=R.slice(N.commandIndex);if(N.match&&N.pathIndex<_.segments.length){const me=new Ln(_.segments.slice(0,N.pathIndex),{});return me.children[Ft]=new Ln(_.segments.slice(N.pathIndex),_.children),Ur(me,0,J)}return N.match&&0===J.length?new Ln(_.segments,{}):N.match&&!_.hasChildren()?ur(_,A,R):N.match?Ur(_,0,J):ur(_,A,R)}function Ur(_,A,R){if(0===R.length)return new Ln(_.segments,{});{const D=function Xn(_){return gn(_[0])?_[0].outlets:{[Ft]:_}}(R),N={};if(Object.keys(D).some(J=>J!==Ft)&&_.children[Ft]&&1===_.numberOfChildren&&0===_.children[Ft].segments.length){const J=Ur(_.children[Ft],A,R);return new Ln(_.segments,J.children)}return Object.entries(D).forEach(([J,me])=>{"string"==typeof me&&(me=[me]),null!==me&&(N[J]=En(_.children[J],A,me))}),Object.entries(_.children).forEach(([J,me])=>{void 0===D[J]&&(N[J]=me)}),new Ln(_.segments,N)}}function ur(_,A,R){const D=_.segments.slice(0,A);let N=0;for(;N<R.length;){const J=R[N];if(gn(J)){const Qt=bn(J.outlets);return new Ln(D,Qt)}if(0===N&&Mt(R[0])){D.push(new or(_.segments[A].path,hi(R[0]))),N++;continue}const me=gn(J)?J.outlets[Ft]:`${J}`,mt=N<R.length-1?R[N+1]:null;me&&mt&&Mt(mt)?(D.push(new or(me,hi(mt))),N+=2):(D.push(new or(me,{})),N++)}return new Ln(D,{})}function bn(_){const A={};return Object.entries(_).forEach(([R,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(A[R]=ur(new Ln([],{}),0,D))}),A}function hi(_){const A={};return Object.entries(_).forEach(([R,D])=>A[R]=`${D}`),A}function Ie(_,A,R){return _==R.path&&St(A,R.parameters)}const Ce="imperative";var H=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(H||{});class ge{constructor(A,R){this.id=A,this.url=R}}class rt extends ge{constructor(A,R,D="imperative",N=null){super(A,R),this.type=H.NavigationStart,this.navigationTrigger=D,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kt extends ge{constructor(A,R,D){super(A,R),this.urlAfterRedirects=D,this.type=H.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bt=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(Bt||{}),Jt=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(Jt||{});class _n extends ge{constructor(A,R,D,N){super(A,R),this.reason=D,this.code=N,this.type=H.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Un extends ge{constructor(A,R,D,N){super(A,R),this.reason=D,this.code=N,this.type=H.NavigationSkipped}}class $r extends ge{constructor(A,R,D,N){super(A,R),this.error=D,this.target=N,this.type=H.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _t extends ge{constructor(A,R,D,N){super(A,R),this.urlAfterRedirects=D,this.state=N,this.type=H.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends ge{constructor(A,R,D,N){super(A,R),this.urlAfterRedirects=D,this.state=N,this.type=H.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends ge{constructor(A,R,D,N,J){super(A,R),this.urlAfterRedirects=D,this.state=N,this.shouldActivate=J,this.type=H.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Be extends ge{constructor(A,R,D,N){super(A,R),this.urlAfterRedirects=D,this.state=N,this.type=H.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends ge{constructor(A,R,D,N){super(A,R),this.urlAfterRedirects=D,this.state=N,this.type=H.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt{constructor(A){this.route=A,this.type=H.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(A){this.route=A,this.type=H.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lt{constructor(A){this.snapshot=A,this.type=H.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(A){this.snapshot=A,this.type=H.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(A){this.snapshot=A,this.type=H.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(A){this.snapshot=A,this.type=H.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(A,R,D){this.routerEvent=A,this.position=R,this.anchor=D,this.type=H.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wt{}class On{constructor(A){this.url=A}}class yr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{var _;class A{constructor(){this.contexts=new Map}onChildOutletCreated(D,N){const J=this.getOrCreateContext(D);J.outlet=N,this.contexts.set(D,J)}onChildOutletDestroyed(D){const N=this.getContext(D);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let N=this.getContext(D);return N||(N=new yr,this.contexts.set(D,N)),N}getContext(D){return this.contexts.get(D)||null}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();class E{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const R=this.pathFromRoot(A);return R.length>1?R[R.length-2]:null}children(A){const R=ne(A,this._root);return R?R.children.map(D=>D.value):[]}firstChild(A){const R=ne(A,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(A){const R=x(A,this._root);return R.length<2?[]:R[R.length-2].children.map(N=>N.value).filter(N=>N!==A)}pathFromRoot(A){return x(A,this._root).map(R=>R.value)}}function ne(_,A){if(_===A.value)return A;for(const R of A.children){const D=ne(_,R);if(D)return D}return null}function x(_,A){if(_===A.value)return[A];for(const R of A.children){const D=x(_,R);if(D.length)return D.unshift(A),D}return[]}class ae{constructor(A,R){this.value=A,this.children=R}toString(){return`TreeNode(${this.value})`}}function et(_){const A={};return _&&_.children.forEach(R=>A[R.value.outlet]=R),A}class Vn extends E{constructor(A,R){super(A),this.snapshot=R,ea(this,A)}toString(){return this.snapshot.toString()}}function Wr(_){const A=function Ii(_){const J=new Ts([],{},{},"",{},Ft,_,null,{});return new Wi("",new ae(J,[]))}(_),R=new re.t([new or("",{})]),D=new re.t({}),N=new re.t({}),J=new re.t({}),me=new re.t(""),mt=new Ei(R,D,J,me,N,Ft,_,A.root);return mt.snapshot=A.root,new Vn(new ae(mt,[]),A)}class Ei{constructor(A,R,D,N,J,me,mt,Qt){var At,Rn;this.urlSubject=A,this.paramsSubject=R,this.queryParamsSubject=D,this.fragmentSubject=N,this.dataSubject=J,this.outlet=me,this.component=mt,this._futureSnapshot=Qt,this.title=null!==(At=null===(Rn=this.dataSubject)||void 0===Rn?void 0:Rn.pipe((0,He.T)(Er=>Er[An])))&&void 0!==At?At:(0,ye.of)(void 0),this.url=A,this.params=R,this.queryParams=D,this.fragment=N,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var A;return null!==(A=this._paramMap)&&void 0!==A||(this._paramMap=this.params.pipe((0,He.T)(R=>$n(R)))),this._paramMap}get queryParamMap(){var A;return null!==(A=this._queryParamMap)&&void 0!==A||(this._queryParamMap=this.queryParams.pipe((0,He.T)(R=>$n(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oi(_,A,R="emptyOnly"){var D;let N;const{routeConfig:J}=_;var me;return N=null===A||"always"!==R&&""!==(null==J?void 0:J.path)&&(A.component||null!==(D=A.routeConfig)&&void 0!==D&&D.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,...null!==(me=_._resolvedData)&&void 0!==me?me:{}}}:{params:{...A.params,..._.params},data:{...A.data,..._.data},resolve:{..._.data,...A.data,...null==J?void 0:J.data,..._._resolvedData}},J&&to(J)&&(N.resolve[An]=J.title),N}class Ts{get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[An]}constructor(A,R,D,N,J,me,mt,Qt,At){this.url=A,this.params=R,this.queryParams=D,this.fragment=N,this.data=J,this.outlet=me,this.component=mt,this.routeConfig=Qt,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var A;return null!==(A=this._paramMap)&&void 0!==A||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){var A;return null!==(A=this._queryParamMap)&&void 0!==A||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends E{constructor(A,R){super(R),this.url=A,ea(this,R)}toString(){return fi(this._root)}}function ea(_,A){A.value._routerState=_,A.children.forEach(R=>ea(_,R))}function fi(_){const A=_.children.length>0?` { ${_.children.map(fi).join(", ")} } `:"";return`${_.value}${A}`}function Go(_){if(_.snapshot){const A=_.snapshot,R=_._futureSnapshot;_.snapshot=R,St(A.queryParams,R.queryParams)||_.queryParamsSubject.next(R.queryParams),A.fragment!==R.fragment&&_.fragmentSubject.next(R.fragment),St(A.params,R.params)||_.paramsSubject.next(R.params),function kn(_,A){if(_.length!==A.length)return!1;for(let R=0;R<_.length;++R)if(!St(_[R],A[R]))return!1;return!0}(A.url,R.url)||_.urlSubject.next(R.url),St(A.data,R.data)||_.dataSubject.next(R.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function er(_,A){const R=St(_.params,A.params)&&function mr(_,A){return Sn(_,A)&&_.every((R,D)=>St(R.parameters,A[D].parameters))}(_.url,A.url);return R&&!(!_.parent!=!A.parent)&&(!_.parent||er(_.parent,A.parent))}function to(_){return"string"==typeof _.title||null===_.title}let us=(()=>{var _;class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Br),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(Fo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:N,previousValue:J}=D.name;if(N)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var N;return(null===(N=this.parentContexts.getContext(D))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,N){var J;this.activated=D,this._activatedRoute=N,this.location.insert(D.hostView),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,N){var J;if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=D;const me=this.location,Qt=D.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,Rn=new Ko(D,At,me.injector);this.activated=me.createComponent(Qt,{index:me.length,injector:Rn,environmentInjector:null!=N?N:this.environmentInjector}),this.changeDetector.markForCheck(),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275dir=l.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]}),A})();class Ko{constructor(A,R,D){this.route=A,this.childContexts=R,this.parent=D}get(A,R){return A===Ei?this.route:A===Br?this.childContexts:this.parent.get(A,R)}}const Fo=new l.nKC("");let Gi=(()=>{var _;class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var N;null===(N=this.outletDataSubscriptions.get(D))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:N}=D,J=(0,Ee.z)([N.queryParams,N.params,N.data]).pipe((0,Ye.n)(([me,mt,Qt],At)=>(Qt={...me,...mt,...Qt},0===At?(0,ye.of)(Qt):Promise.resolve(Qt)))).subscribe(me=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(D);const mt=(0,l.HJs)(N.component);if(mt)for(const{templateName:Qt}of mt.inputs)D.activatedComponentRef.setInput(Qt,me[Qt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,J)}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac}),A})();function qo(_,A,R){if(R&&_.shouldReuseRoute(A.value,R.value.snapshot)){const D=R.value;D._futureSnapshot=A.value;const N=function cs(_,A,R){return A.children.map(D=>{for(const N of R.children)if(_.shouldReuseRoute(D.value,N.value.snapshot))return qo(_,D,N);return qo(_,D)})}(_,A,R);return new ae(D,N)}{if(_.shouldAttach(A.value)){const J=_.retrieve(A.value);if(null!==J){const me=J.route;return me.value._futureSnapshot=A.value,me.children=A.children.map(mt=>qo(_,mt)),me}}const D=function fo(_){return new Ei(new re.t(_.url),new re.t(_.params),new re.t(_.queryParams),new re.t(_.fragment),new re.t(_.data),_.outlet,_.component,_)}(A.value),N=A.children.map(J=>qo(_,J));return new ae(D,N)}}const Ls="ngNavigationCancelingError";function ds(_,A){const{redirectTo:R,navigationBehaviorOptions:D}=vr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,N=po(!1,Bt.Redirect);return N.url=R,N.navigationBehaviorOptions=D,N}function po(_,A){const R=new Error(`NavigationCancelingError: ${_||""}`);return R[Ls]=!0,R.cancellationCode=A,R}function wi(_){return!!_&&_[Ls]}let Pi=(()=>{var _;class A{}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275cmp=l.VBU({type:_,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(D,N){1&D&&l.nrm(0,"router-outlet")},dependencies:[us],encapsulation:2}),A})();function li(_){const A=_.children&&_.children.map(li),R=A?{..._,children:A}:{..._};return!R.component&&!R.loadComponent&&(A||R.loadChildren)&&R.outlet&&R.outlet!==Ft&&(R.component=Pi),R}function bi(_){return _.outlet||Ft}function Rr(_){var A;if(!_)return null;if(null!==(A=_.routeConfig)&&void 0!==A&&A._injector)return _.routeConfig._injector;for(let R=_.parent;R;R=R.parent){const D=R.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class ta{constructor(A,R,D,N,J){this.routeReuseStrategy=A,this.futureState=R,this.currState=D,this.forwardEvent=N,this.inputBindingEnabled=J}activate(A){const R=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,D,A),Go(this.futureState.root),this.activateChildRoutes(R,D,A)}deactivateChildRoutes(A,R,D){const N=et(R);A.children.forEach(J=>{const me=J.value.outlet;this.deactivateRoutes(J,N[me],D),delete N[me]}),Object.values(N).forEach(J=>{this.deactivateRouteAndItsChildren(J,D)})}deactivateRoutes(A,R,D){const N=A.value,J=R?R.value:null;if(N===J)if(N.component){const me=D.getContext(N.outlet);me&&this.deactivateChildRoutes(A,R,me.children)}else this.deactivateChildRoutes(A,R,D);else J&&this.deactivateRouteAndItsChildren(R,D)}deactivateRouteAndItsChildren(A,R){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,R):this.deactivateRouteAndOutlet(A,R)}detachAndStoreRouteSubtree(A,R){const D=R.getContext(A.value.outlet),N=D&&A.value.component?D.children:R,J=et(A);for(const me of Object.values(J))this.deactivateRouteAndItsChildren(me,N);if(D&&D.outlet){const me=D.outlet.detach(),mt=D.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:me,route:A,contexts:mt})}}deactivateRouteAndOutlet(A,R){const D=R.getContext(A.value.outlet),N=D&&A.value.component?D.children:R,J=et(A);for(const me of Object.values(J))this.deactivateRouteAndItsChildren(me,N);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(A,R,D){const N=et(R);A.children.forEach(J=>{this.activateRoutes(J,N[J.value.outlet],D),this.forwardEvent(new qt(J.value.snapshot))}),A.children.length&&this.forwardEvent(new en(A.value.snapshot))}activateRoutes(A,R,D){const N=A.value,J=R?R.value:null;if(Go(N),N===J)if(N.component){const me=D.getOrCreateContext(N.outlet);this.activateChildRoutes(A,R,me.children)}else this.activateChildRoutes(A,R,D);else if(N.component){const me=D.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const mt=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),me.children.onOutletReAttached(mt.contexts),me.attachRef=mt.componentRef,me.route=mt.route.value,me.outlet&&me.outlet.attach(mt.componentRef,mt.route.value),Go(mt.route.value),this.activateChildRoutes(A,null,me.children)}else{const mt=Rr(N.snapshot);me.attachRef=null,me.route=N,me.injector=mt,me.outlet&&me.outlet.activateWith(N,me.injector),this.activateChildRoutes(A,null,me.children)}}else this.activateChildRoutes(A,null,D)}}class Lo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Yo{constructor(A,R){this.component=A,this.route=R}}function ps(_,A,R){const D=_._root;return Zo(D,A?A._root:null,R,[D.value])}function Si(_,A){const R=Symbol(),D=A.get(_,R);return D===R?"function"!=typeof _||(0,l.LfX)(_)?A.get(_):_:D}function Zo(_,A,R,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const J=et(A);return _.children.forEach(me=>{(function ui(_,A,R,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const J=_.value,me=A?A.value:null,mt=R?R.getContext(_.value.outlet):null;if(me&&J.routeConfig===me.routeConfig){const Qt=function Ia(_,A,R){if("function"==typeof R)return R(_,A);switch(R){case"pathParamsChange":return!Sn(_.url,A.url);case"pathParamsOrQueryParamsChange":return!Sn(_.url,A.url)||!St(_.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(_,A)||!St(_.queryParams,A.queryParams);default:return!er(_,A)}}(me,J,J.routeConfig.runGuardsAndResolvers);Qt?N.canActivateChecks.push(new Lo(D)):(J.data=me.data,J._resolvedData=me._resolvedData),Zo(_,A,J.component?mt?mt.children:null:R,D,N),Qt&&mt&&mt.outlet&&mt.outlet.isActivated&&N.canDeactivateChecks.push(new Yo(mt.outlet.component,me))}else me&&$s(A,mt,N),N.canActivateChecks.push(new Lo(D)),Zo(_,null,J.component?mt?mt.children:null:R,D,N)})(me,J[me.value.outlet],R,D.concat([me.value]),N),delete J[me.value.outlet]}),Object.entries(J).forEach(([me,mt])=>$s(mt,R.getContext(me),N)),N}function $s(_,A,R){const D=et(_),N=_.value;Object.entries(D).forEach(([J,me])=>{$s(me,N.component?A?A.children.getContext(J):null:A,R)}),R.canDeactivateChecks.push(new Yo(N.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,N))}function ao(_){return"function"==typeof _}function se(_){return _ instanceof We.G||"EmptyError"===(null==_?void 0:_.name)}const V=Symbol("INITIAL_VALUE");function X(){return(0,Ye.n)(_=>(0,Ee.z)(_.map(A=>A.pipe((0,fe.s)(1),(0,U.Z)(V)))).pipe((0,He.T)(A=>{for(const R of A)if(!0!==R){if(R===V)return V;if(!1===R||R instanceof dr)return R}return!0}),(0,be.p)(A=>A!==V),(0,fe.s)(1)))}function Jo(_){return(0,Ue.F)((0,dt.M)(A=>{if(vr(A))throw ds(0,A)}),(0,He.T)(A=>!0===A))}class js{constructor(A){this.segmentGroup=A||null}}class Ya extends Error{constructor(A){super(),this.urlTree=A}}function Uo(_){return Oe(new js(_))}class ci{constructor(A,R){this.urlSerializer=A,this.urlTree=R}lineralizeSegments(A,R){let D=[],N=R.root;for(;;){if(D=D.concat(N.segments),0===N.numberOfChildren)return(0,ye.of)(D);if(N.numberOfChildren>1||!N.children[Ft])return Oe(new l.wOt(4e3,!1));N=N.children[Ft]}}applyRedirectCommands(A,R,D){const N=this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),A,D);if(R.startsWith("/"))throw new Ya(N);return N}applyRedirectCreateUrlTree(A,R,D,N){const J=this.createSegmentGroup(A,R.root,D,N);return new dr(J,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(A,R){const D={};return Object.entries(A).forEach(([N,J])=>{if("string"==typeof J&&J.startsWith(":")){const mt=J.substring(1);D[N]=R[mt]}else D[N]=J}),D}createSegmentGroup(A,R,D,N){const J=this.createSegments(A,R.segments,D,N);let me={};return Object.entries(R.children).forEach(([mt,Qt])=>{me[mt]=this.createSegmentGroup(A,Qt,D,N)}),new Ln(J,me)}createSegments(A,R,D,N){return R.map(J=>J.path.startsWith(":")?this.findPosParam(A,J,N):this.findOrReturn(J,D))}findPosParam(A,R,D){const N=D[R.path.substring(1)];if(!N)throw new l.wOt(4001,!1);return N}findOrReturn(A,R){let D=0;for(const N of R){if(N.path===A.path)return R.splice(D),N;D++}return A}}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $i(_,A,R,D,N){const J=no(_,A,R);return J.matched?(D=function ya(_,A){var R;return _.providers&&!_._injector&&(_._injector=(0,l.Ol2)(_.providers,A,`Route: ${_.path}`)),null!==(R=_._injector)&&void 0!==R?R:A}(A,D),function Eu(_,A,R,D){const N=A.canMatch;if(!N||0===N.length)return(0,ye.of)(!0);const J=N.map(me=>{const mt=Si(me,_);return hn(function P(_){return _&&ao(_.canMatch)}(mt)?mt.canMatch(A,R):(0,l.N4e)(_,()=>mt(A,R)))});return(0,ye.of)(J).pipe(X(),Jo())}(D,A,R).pipe((0,He.T)(me=>!0===me?J:{...qi}))):(0,ye.of)(J)}function no(_,A,R){var D,N;if("**"===A.path)return function Hs(_){return{matched:!0,parameters:_.length>0?It(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(R);if(""===A.path)return"full"===A.pathMatch&&(_.hasChildren()||R.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const me=(A.matcher||Tt)(R,_,A);if(!me)return{...qi};const mt={};Object.entries(null!==(D=me.posParams)&&void 0!==D?D:{}).forEach(([At,Rn])=>{mt[At]=Rn.path});const Qt=me.consumed.length>0?{...mt,...me.consumed[me.consumed.length-1].parameters}:mt;return{matched:!0,consumedSegments:me.consumed,remainingSegments:R.slice(me.consumed.length),parameters:Qt,positionalParamSegments:null!==(N=me.posParams)&&void 0!==N?N:{}}}function Gr(_,A,R,D){return R.length>0&&function Xi(_,A,R){return R.some(D=>es(_,A,D)&&bi(D)!==Ft)}(_,R,D)?{segmentGroup:new Ln(A,ql(D,new Ln(R,_.children))),slicedSegments:[]}:0===R.length&&function Za(_,A,R){return R.some(D=>es(_,A,D))}(_,R,D)?{segmentGroup:new Ln(_.segments,Kl(_,R,D,_.children)),slicedSegments:R}:{segmentGroup:new Ln(_.segments,_.children),slicedSegments:R}}function Kl(_,A,R,D){const N={};for(const J of R)if(es(_,A,J)&&!D[bi(J)]){const me=new Ln([],{});N[bi(J)]=me}return{...D,...N}}function ql(_,A){const R={};R[Ft]=A;for(const D of _)if(""===D.path&&bi(D)!==Ft){const N=new Ln([],{});R[bi(D)]=N}return R}function es(_,A,R){return(!(_.hasChildren()||A.length>0)||"full"!==R.pathMatch)&&""===R.path}class dc{}class Fi{constructor(A,R,D,N,J,me,mt){this.injector=A,this.configLoader=R,this.rootComponentType=D,this.config=N,this.urlTree=J,this.paramsInheritanceStrategy=me,this.urlSerializer=mt,this.applyRedirects=new ci(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(A){return new l.wOt(4002,`'${A.segmentGroup}'`)}recognize(){const A=Gr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(A).pipe((0,He.T)(R=>{const D=new Ts([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),N=new ae(D,R),J=new Wi("",N),me=function ai(_,A,R=null,D=null){return vt(Rt(_),A,R,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return me.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(me),this.inheritParamsAndData(J._root,null),{state:J,tree:me}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A,Ft).pipe($t(D=>{if(D instanceof Ya)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof js?this.noMatchError(D):D}))}inheritParamsAndData(A,R){const D=A.value,N=Oi(D,R,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data),A.children.forEach(J=>this.inheritParamsAndData(J,D))}processSegmentGroup(A,R,D,N){return 0===D.segments.length&&D.hasChildren()?this.processChildren(A,R,D):this.processSegment(A,R,D,D.segments,N,!0).pipe((0,He.T)(J=>J instanceof ae?[J]:[]))}processChildren(A,R,D){const N=[];for(const J of Object.keys(D.children))"primary"===J?N.unshift(J):N.push(J);return(0,he.H)(N).pipe(Ze(J=>{const me=D.children[J],mt=function Qo(_,A){const R=_.filter(D=>bi(D)===A);return R.push(..._.filter(D=>bi(D)!==A)),R}(R,J);return this.processSegmentGroup(A,mt,me,J)}),(0,fn.S)((J,me)=>(J.push(...me),J)),(0,Xt.U)(null),function Pe(_,A){const R=arguments.length>=2;return D=>D.pipe(_?(0,be.p)((N,J)=>_(N,J,D)):_e.D,ut(1),R?(0,Xt.U)(A):(0,we.v)(()=>new We.G))}(),(0,Me.Z)(J=>{if(null===J)return Uo(D);const me=bo(J);return function ra(_){_.sort((A,R)=>A.value.outlet===Ft?-1:R.value.outlet===Ft?1:A.value.outlet.localeCompare(R.value.outlet))}(me),(0,ye.of)(me)}))}processSegment(A,R,D,N,J,me){return(0,he.H)(R).pipe(Ze(mt=>{var Qt;return this.processSegmentAgainstRoute(null!==(Qt=mt._injector)&&void 0!==Qt?Qt:A,R,mt,D,N,J,me).pipe($t(At=>{if(At instanceof js)return(0,ye.of)(null);throw At}))}),(0,ze.$)(mt=>!!mt),$t(mt=>{if(se(mt))return function zs(_,A,R){return 0===A.length&&!_.children[R]}(D,N,J)?(0,ye.of)(new dc):Uo(D);throw mt}))}processSegmentAgainstRoute(A,R,D,N,J,me,mt){return function na(_,A,R,D){return!!(bi(_)===D||D!==Ft&&es(A,R,_))&&no(A,_,R).matched}(D,N,J,me)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(A,N,D,J,me):this.allowRedirects&&mt?this.expandSegmentAgainstRouteUsingRedirect(A,N,R,D,J,me):Uo(N):Uo(N)}expandSegmentAgainstRouteUsingRedirect(A,R,D,N,J,me){const{matched:mt,consumedSegments:Qt,positionalParamSegments:At,remainingSegments:Rn}=no(R,N,J);if(!mt)return Uo(R);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Er=this.applyRedirects.applyRedirectCommands(Qt,N.redirectTo,At);return this.applyRedirects.lineralizeSegments(N,Er).pipe((0,Me.Z)(Di=>this.processSegment(A,D,R,Di.concat(Rn),me,!1)))}matchSegmentAgainstRoute(A,R,D,N,J){const me=$i(R,D,N,A);return"**"===D.path&&(R.children={}),me.pipe((0,Ye.n)(mt=>{var Qt;return mt.matched?(A=null!==(Qt=D._injector)&&void 0!==Qt?Qt:A,this.getChildConfig(A,D,N).pipe((0,Ye.n)(({routes:At})=>{var Rn,Er,Di;const Zr=null!==(Rn=D._loadedInjector)&&void 0!==Rn?Rn:A,{consumedSegments:io,remainingSegments:xs,parameters:Ja}=mt,gl=new Ts(io,Ja,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function hl(_){return _.data||{}}(D),bi(D),null!==(Er=null!==(Di=D.component)&&void 0!==Di?Di:D._loadedComponent)&&void 0!==Er?Er:null,D,function Bo(_){return _.resolve||{}}(D)),{segmentGroup:ml,slicedSegments:sa}=Gr(R,io,xs,At);if(0===sa.length&&ml.hasChildren())return this.processChildren(Zr,At,ml).pipe((0,He.T)(Na=>null===Na?null:new ae(gl,Na)));if(0===At.length&&0===sa.length)return(0,ye.of)(new ae(gl,[]));const Tu=bi(D)===J;return this.processSegment(Zr,At,ml,sa,Tu?Ft:J,!0).pipe((0,He.T)(Na=>new ae(gl,Na instanceof ae?[Na]:[])))}))):Uo(R)}))}getChildConfig(A,R,D){return R.children?(0,ye.of)({routes:R.children,injector:A}):R.loadChildren?void 0!==R._loadedRoutes?(0,ye.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function dl(_,A,R,D){const N=A.canLoad;if(void 0===N||0===N.length)return(0,ye.of)(!0);const J=N.map(me=>{const mt=Si(me,_);return hn(function ms(_){return _&&ao(_.canLoad)}(mt)?mt.canLoad(A,R):(0,l.N4e)(_,()=>mt(A,R)))});return(0,ye.of)(J).pipe(X(),Jo())}(A,R,D).pipe((0,Me.Z)(N=>N?this.configLoader.loadChildren(A,R).pipe((0,dt.M)(J=>{R._loadedRoutes=J.routes,R._loadedInjector=J.injector})):function pi(_){return Oe(po(!1,Bt.GuardRejected))}())):(0,ye.of)({routes:[],injector:A})}}function Da(_){const A=_.value.routeConfig;return A&&""===A.path}function bo(_){const A=[],R=new Set;for(const D of _){if(!Da(D)){A.push(D);continue}const N=A.find(J=>D.value.routeConfig===J.value.routeConfig);void 0!==N?(N.children.push(...D.children),R.add(N)):A.push(D)}for(const D of R){const N=bo(D.children);A.push(new ae(D.value,N))}return A.filter(D=>!R.has(D))}function Ws(_){const A=_.children.map(R=>Ws(R)).flat();return[_,...A]}function Cu(_){return(0,Ye.n)(A=>{const R=_(A);return R?(0,he.H)(R).pipe((0,He.T)(()=>A)):(0,ye.of)(A)})}let ia=(()=>{var _;class A{buildTitle(D){let N,J=D.root;for(;void 0!==J;){var me;N=null!==(me=this.getResolvedTitleForRoute(J))&&void 0!==me?me:N,J=J.children.find(mt=>mt.outlet===Ft)}return N}getResolvedTitleForRoute(D){return D.data[An]}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(Du),providedIn:"root"}),A})(),Du=(()=>{var _;class A extends ia{constructor(D){super(),this.title=D}updateTitle(D){const N=this.buildTitle(D);void 0!==N&&this.title.setTitle(N)}}return(_=A).\u0275fac=function(D){return new(D||_)(l.KVO(Kt.hE))},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();const Ro=new l.nKC("",{providedIn:"root",factory:()=>({})}),ts=new l.nKC("");let fl=(()=>{var _;class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,ye.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const N=hn(D.loadComponent()).pipe((0,He.T)(ns),(0,dt.M)(me=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=me}),st(()=>{this.componentLoaders.delete(D)})),J=new at(N,()=>new Fe.B).pipe($e());return this.componentLoaders.set(D,J),J}loadChildren(D,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ye.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const me=function Vi(_,A,R,D){return hn(_.loadChildren()).pipe((0,He.T)(ns),(0,Me.Z)(N=>N instanceof l.Co$||Array.isArray(N)?(0,ye.of)(N):(0,he.H)(A.compileModuleAsync(N))),(0,He.T)(N=>{D&&D(_);let J,me,mt=!1;return Array.isArray(N)?(me=N,!0):(J=N.create(R).injector,me=J.get(ts,[],{optional:!0,self:!0}).flat()),{routes:me.map(li),injector:J}}))}(N,this.compiler,D,this.onLoadEndListener).pipe(st(()=>{this.childrenLoaders.delete(N)})),mt=new at(me,()=>new Fe.B).pipe($e());return this.childrenLoaders.set(N,mt),mt}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();function ns(_){return function mo(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let vo=(()=>{var _;class A{}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(C),providedIn:"root"}),A})(),C=(()=>{var _;class A{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,N){return D}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();const S=new l.nKC(""),ve=new l.nKC("");function k(_,A,R){const D=_.get(ve),N=_.get(je.qQ);return _.get(l.SKi).runOutsideAngular(()=>{if(!N.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,Promise.resolve();let J;const me=new Promise(At=>{J=At}),mt=N.startViewTransition(()=>(J(),function te(_){return new Promise(A=>{(0,l.mal)(A,{injector:_})})}(_))),{onViewTransitionCreated:Qt}=D;return Qt&&(0,l.N4e)(_,()=>Qt({transition:mt,from:A,to:R})),me})}let pe=(()=>{var _;class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.B,this.transitionAbortSubject=new Fe.B,this.configLoader=(0,l.WQX)(fl),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Cn),this.rootContexts=(0,l.WQX)(Br),this.location=(0,l.WQX)(je.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(Fo,{optional:!0}),this.titleStrategy=(0,l.WQX)(ia),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(vo),this.createViewTransition=(0,l.WQX)(S,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Pt(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new nt(J))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var N;const J=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...D,id:J})}setupNavigations(D,N,J){return this.transitions=new re.t({id:0,currentUrlTree:N,currentRawUrl:N,extractedUrl:this.urlHandlingStrategy.extract(N),urlAfterRedirects:this.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ce,restoredState:null,currentSnapshot:J.snapshot,targetSnapshot:null,currentRouterState:J,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,be.p)(me=>0!==me.id),(0,He.T)(me=>({...me,extractedUrl:this.urlHandlingStrategy.extract(me.rawUrl)})),(0,Ye.n)(me=>{let mt=!1,Qt=!1;return(0,ye.of)(me).pipe((0,Ye.n)(At=>{var Rn;if(this.navigationId>me.id)return this.cancelNavigationTransition(me,"",Bt.SupersededByNewNavigation),ke.w;this.currentTransition=me,this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Er=!D.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Di=null!==(Rn=At.extras.onSameUrlNavigation)&&void 0!==Rn?Rn:D.onSameUrlNavigation;if(!Er&&"reload"!==Di){const Zr="";return this.events.next(new Un(At.id,this.urlSerializer.serialize(At.rawUrl),Zr,Jt.IgnoredSameUrlNavigation)),At.resolve(null),ke.w}if(this.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,ye.of)(At).pipe((0,Ye.n)(Zr=>{var io,xs;const Ja=null===(io=this.transitions)||void 0===io?void 0:io.getValue();return this.events.next(new rt(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),Zr.source,Zr.restoredState)),Ja!==(null===(xs=this.transitions)||void 0===xs?void 0:xs.getValue())?ke.w:Promise.resolve(Zr)}),function hc(_,A,R,D,N,J){return(0,Me.Z)(me=>function wo(_,A,R,D,N,J,me="emptyOnly"){return new Fi(_,A,R,D,N,me,J).recognize()}(_,A,R,D,me.extractedUrl,N,J).pipe((0,He.T)(({state:mt,tree:Qt})=>({...me,targetSnapshot:mt,urlAfterRedirects:Qt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,dt.M)(Zr=>{me.targetSnapshot=Zr.targetSnapshot,me.urlAfterRedirects=Zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zr.urlAfterRedirects};const io=new _t(Zr.id,this.urlSerializer.serialize(Zr.extractedUrl),this.urlSerializer.serialize(Zr.urlAfterRedirects),Zr.targetSnapshot);this.events.next(io)}));if(Er&&this.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:Zr,extractedUrl:io,source:xs,restoredState:Ja,extras:gl}=At,ml=new rt(Zr,this.urlSerializer.serialize(io),xs,Ja);this.events.next(ml);const sa=Wr(this.rootComponentType).snapshot;return this.currentTransition=me={...At,targetSnapshot:sa,urlAfterRedirects:io,extras:{...gl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=io,(0,ye.of)(me)}{const Zr="";return this.events.next(new Un(At.id,this.urlSerializer.serialize(At.extractedUrl),Zr,Jt.IgnoredByUrlHandlingStrategy)),At.resolve(null),ke.w}}),(0,dt.M)(At=>{const Rn=new B(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Rn)}),(0,He.T)(At=>(this.currentTransition=me={...At,guards:ps(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},me)),function Ct(_,A){return(0,Me.Z)(R=>{const{targetSnapshot:D,currentSnapshot:N,guards:{canActivateChecks:J,canDeactivateChecks:me}}=R;return 0===me.length&&0===J.length?(0,ye.of)({...R,guardsResult:!0}):function jt(_,A,R,D){return(0,he.H)(_).pipe((0,Me.Z)(N=>function Ca(_,A,R,D,N){const J=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,ye.of)(!0);const me=J.map(mt=>{var Qt;const At=null!==(Qt=Rr(A))&&void 0!==Qt?Qt:N,Rn=Si(mt,At);return hn(function L(_){return _&&ao(_.canDeactivate)}(Rn)?Rn.canDeactivate(_,A,R,D):(0,l.N4e)(At,()=>Rn(_,A,R,D))).pipe((0,ze.$)())});return(0,ye.of)(me).pipe(X())}(N.component,N.route,R,A,D)),(0,ze.$)(N=>!0!==N,!0))}(me,D,N,_).pipe((0,Me.Z)(mt=>mt&&function gs(_){return"boolean"==typeof _}(mt)?function on(_,A,R,D){return(0,he.H)(A).pipe(Ze(N=>(0,le.x)(function jr(_,A){return null!==_&&A&&A(new Lt(_)),(0,ye.of)(!0)}(N.route.parent,D),function Jn(_,A){return null!==_&&A&&A(new Yt(_)),(0,ye.of)(!0)}(N.route,D),function bs(_,A,R){const D=A[A.length-1],J=A.slice(0,A.length-1).reverse().map(me=>function To(_){const A=_.routeConfig?_.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:_,guards:A}:null}(me)).filter(me=>null!==me).map(me=>Ve(()=>{const mt=me.guards.map(Qt=>{var At;const Rn=null!==(At=Rr(me.node))&&void 0!==At?At:R,Er=Si(Qt,Rn);return hn(function Bs(_){return _&&ao(_.canActivateChild)}(Er)?Er.canActivateChild(D,_):(0,l.N4e)(Rn,()=>Er(D,_))).pipe((0,ze.$)())});return(0,ye.of)(mt).pipe(X())}));return(0,ye.of)(J).pipe(X())}(_,N.path,R),function Ri(_,A,R){const D=A.routeConfig?A.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ye.of)(!0);const N=D.map(J=>Ve(()=>{var me;const mt=null!==(me=Rr(A))&&void 0!==me?me:R,Qt=Si(J,mt);return hn(function Ea(_){return _&&ao(_.canActivate)}(Qt)?Qt.canActivate(A,_):(0,l.N4e)(mt,()=>Qt(A,_))).pipe((0,ze.$)())}));return(0,ye.of)(N).pipe(X())}(_,N.route,R))),(0,ze.$)(N=>!0!==N,!0))}(D,J,_,A):(0,ye.of)(mt)),(0,He.T)(mt=>({...R,guardsResult:mt})))})}(this.environmentInjector,At=>this.events.next(At)),(0,dt.M)(At=>{if(me.guardsResult=At.guardsResult,vr(At.guardsResult))throw ds(0,At.guardsResult);const Rn=new Y(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(Rn)}),(0,be.p)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",Bt.GuardRejected),!1)),Cu(At=>{if(At.guards.canActivateChecks.length)return(0,ye.of)(At).pipe((0,dt.M)(Rn=>{const Er=new Be(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Er)}),(0,Ye.n)(Rn=>{let Er=!1;return(0,ye.of)(Rn).pipe(function Ta(_,A){return(0,Me.Z)(R=>{const{targetSnapshot:D,guards:{canActivateChecks:N}}=R;if(!N.length)return(0,ye.of)(R);const J=new Set(N.map(Qt=>Qt.route)),me=new Set;for(const Qt of J)if(!me.has(Qt))for(const At of Ws(Qt))me.add(At);let mt=0;return(0,he.H)(me).pipe(Ze(Qt=>J.has(Qt)?function So(_,A,R,D){const N=_.routeConfig,J=_._resolve;return void 0!==(null==N?void 0:N.title)&&!to(N)&&(J[An]=N.title),function wa(_,A,R,D){const N=Et(_);if(0===N.length)return(0,ye.of)({});const J={};return(0,he.H)(N).pipe((0,Me.Z)(me=>function ba(_,A,R,D){var N;const J=null!==(N=Rr(A))&&void 0!==N?N:D,me=Si(_,J);return hn(me.resolve?me.resolve(A,R):(0,l.N4e)(J,()=>me(A,R)))}(_[me],A,R,D).pipe((0,ze.$)(),(0,dt.M)(mt=>{J[me]=mt}))),ut(1),function Ae(_){return(0,He.T)(()=>_)}(J),$t(me=>se(me)?ke.w:Oe(me)))}(J,_,A,D).pipe((0,He.T)(me=>(_._resolvedData=me,_.data=Oi(_,_.parent,R).resolve,null)))}(Qt,D,_,A):(Qt.data=Oi(Qt,Qt.parent,_).resolve,(0,ye.of)(void 0))),(0,dt.M)(()=>mt++),ut(1),(0,Me.Z)(Qt=>mt===me.size?(0,ye.of)(R):ke.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,dt.M)({next:()=>Er=!0,complete:()=>{Er||this.cancelNavigationTransition(Rn,"",Bt.NoDataFromResolver)}}))}),(0,dt.M)(Rn=>{const Er=new Ne(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Er)}))}),Cu(At=>{const Rn=Er=>{var Di;const Zr=[];null!==(Di=Er.routeConfig)&&void 0!==Di&&Di.loadComponent&&!Er.routeConfig._loadedComponent&&Zr.push(this.configLoader.loadComponent(Er.routeConfig).pipe((0,dt.M)(io=>{Er.component=io}),(0,He.T)(()=>{})));for(const io of Er.children)Zr.push(...Rn(io));return Zr};return(0,Ee.z)(Rn(At.targetSnapshot.root)).pipe((0,Xt.U)(null),(0,fe.s)(1))}),Cu(()=>this.afterPreactivation()),(0,Ye.n)(()=>{var At;const{currentSnapshot:Rn,targetSnapshot:Er}=me,Di=null===(At=this.createViewTransition)||void 0===At?void 0:At.call(this,this.environmentInjector,Rn.root,Er.root);return Di?(0,he.H)(Di).pipe((0,He.T)(()=>me)):(0,ye.of)(me)}),(0,He.T)(At=>{const Rn=function Ao(_,A,R){const D=qo(_,A._root,R?R._root:void 0);return new Vn(D,A)}(D.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=me={...At,targetRouterState:Rn},this.currentNavigation.targetRouterState=Rn,me}),(0,dt.M)(()=>{this.events.next(new Wt)}),((_,A,R,D)=>(0,He.T)(N=>(new ta(A,N.targetRouterState,N.currentRouterState,R,D).activate(_),N)))(this.rootContexts,D.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,fe.s)(1),(0,dt.M)({next:At=>{var Rn;mt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kt(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),null===(Rn=this.titleStrategy)||void 0===Rn||Rn.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{mt=!0}}),function zt(_){return(0,Le.N)((A,R)=>{(0,de.Tg)(_).subscribe((0,Re._)(R,()=>R.complete(),xe.l)),!R.closed&&A.subscribe(R)})}(this.transitionAbortSubject.pipe((0,dt.M)(At=>{throw At}))),st(()=>{var At;!mt&&!Qt&&this.cancelNavigationTransition(me,"",Bt.SupersededByNewNavigation),(null===(At=this.currentTransition)||void 0===At?void 0:At.id)===me.id&&(this.currentNavigation=null,this.currentTransition=null)}),$t(At=>{if(Qt=!0,wi(At))this.events.next(new _n(me.id,this.urlSerializer.serialize(me.extractedUrl),At.message,At.cancellationCode)),function hs(_){return wi(_)&&vr(_.url)}(At)?this.events.next(new On(At.url)):me.resolve(!1);else{var Rn;this.events.next(new $r(me.id,this.urlSerializer.serialize(me.extractedUrl),At,null!==(Rn=me.targetSnapshot)&&void 0!==Rn?Rn:void 0));try{me.resolve(D.errorHandler(At))}catch(Er){this.options.resolveNavigationPromiseOnError?me.resolve(!1):me.reject(Er)}}return ke.w}))}))}cancelNavigationTransition(D,N,J){const me=new _n(D.id,this.urlSerializer.serialize(D.extractedUrl),N,J);this.events.next(me),D.resolve(!1)}isUpdatingInternalState(){var D,N;return(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())!==(null===(N=this.currentTransition)||void 0===N?void 0:N.currentUrlTree.toString())}isUpdatedBrowserUrl(){var D,N;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())&&!(null!==(N=this.currentTransition)&&void 0!==N&&N.extras.skipLocationChange)}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();function lt(_){return _!==Ce}let sn=(()=>{var _;class A{}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(ft),providedIn:"root"}),A})();class Ht{shouldDetach(A){return!1}store(A,R){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,R){return A.routeConfig===R.routeConfig}}let ft=(()=>{var _;class A extends Ht{}return(_=A).\u0275fac=(()=>{let R;return function(N){return(R||(R=l.xGo(_)))(N||_)}})(),_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})(),Nt=(()=>{var _;class A{}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(Kn),providedIn:"root"}),A})(),Kn=(()=>{var _;class A extends Nt{constructor(){super(...arguments),this.location=(0,l.WQX)(je.aZ),this.urlSerializer=(0,l.WQX)(Cn),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(vo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var D,N;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(D=null===(N=this.restoredState())||void 0===N?void 0:N.\u0275routerPageId)&&void 0!==D?D:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(D){return this.location.subscribe(N=>{"popstate"===N.type&&D(N.url,N.state)})}handleRouterEvent(D,N){if(D instanceof rt)this.stateMemento=this.createStateMemento();else if(D instanceof Un)this.rawUrlTree=N.initialUrl;else if(D instanceof _t){if("eager"===this.urlUpdateStrategy&&!N.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl);this.setBrowserUrl(J,N)}}else D instanceof Wt?(this.currentUrlTree=N.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(N.finalUrl,N.initialUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N))):D instanceof _n&&(D.code===Bt.GuardRejected||D.code===Bt.NoDataFromResolver)?this.restoreHistory(N):D instanceof $r?this.restoreHistory(N,!0):D instanceof kt&&(this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId)}setBrowserUrl(D,N){const J=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(J)||N.extras.replaceUrl){const mt={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(J,"",mt)}else{const me={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(J,"",me)}}restoreHistory(D,N=!1){if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-this.browserPageId;0!==me?this.location.historyGo(me):this.currentUrlTree===D.finalUrl&&0===me&&(this.resetState(D),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){var N;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(N=D.finalUrl)&&void 0!==N?N:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,N){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:N}:{navigationId:D}}}return(_=A).\u0275fac=(()=>{let R;return function(N){return(R||(R=l.xGo(_)))(N||_)}})(),_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();var Kr=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Kr||{});function Yr(_,A){_.events.pipe((0,be.p)(R=>R instanceof kt||R instanceof _n||R instanceof $r||R instanceof Un),(0,He.T)(R=>R instanceof kt||R instanceof Un?Kr.COMPLETE:R instanceof _n&&(R.code===Bt.Redirect||R.code===Bt.SupersededByNewNavigation)?Kr.REDIRECTING:Kr.FAILED),(0,be.p)(R=>R!==Kr.REDIRECTING),(0,fe.s)(1)).subscribe(()=>{A()})}function xi(_){throw _}const rs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{var _;class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var D,N;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Nt),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(pe),this.urlSerializer=(0,l.WQX)(Cn),this.location=(0,l.WQX)(je.aZ),this.urlHandlingStrategy=(0,l.WQX)(vo),this._events=new Fe.B,this.errorHandler=this.options.errorHandler||xi,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(sn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(D=null===(N=(0,l.WQX)(ts,{optional:!0}))||void 0===N?void 0:N.flat())&&void 0!==D?D:[],this.componentInputBindingEnabled=!!(0,l.WQX)(Fo,{optional:!0}),this.eventsSubscription=new ct.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:J=>{this.console.warn(J)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(N=>{try{const J=this.navigationTransitions.currentTransition,me=this.navigationTransitions.currentNavigation;if(null!==J&&null!==me)if(this.stateManager.handleRouterEvent(N,me),N instanceof _n&&N.code!==Bt.Redirect&&N.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof kt)this.navigated=!0;else if(N instanceof On){const mt=this.urlHandlingStrategy.merge(N.url,J.currentRawUrl),Qt={info:J.extras.info,skipLocationChange:J.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lt(J.source)};this.scheduleNavigation(mt,Ce,null,Qt,{resolve:J.resolve,reject:J.reject,promise:J.promise})}(function Hr(_){return!(_ instanceof Wt||_ instanceof On)})(N)&&this._events.next(N)}catch(J){this.navigationTransitions.transitionAbortSubject.next(J)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ce,this.stateManager.restoredState())}setUpLocationChangeListener(){var D;null!==(D=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==D||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((N,J)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(N,"popstate",J)},0)}))}navigateToSyncWithBrowser(D,N,J){const me={replaceUrl:!0},mt=null!=J&&J.navigationId?J:null;if(J){const At={...J};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(me.state=At)}const Qt=this.parseUrl(D);this.scheduleNavigation(Qt,N,mt,me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(li),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,N={}){const{relativeTo:J,queryParams:me,fragment:mt,queryParamsHandling:Qt,preserveFragment:At}=N,Rn=At?this.currentUrlTree.fragment:mt;let Di,Er=null;switch(Qt){case"merge":Er={...this.currentUrlTree.queryParams,...me};break;case"preserve":Er=this.currentUrlTree.queryParams;break;default:Er=me||null}null!==Er&&(Er=this.removeEmptyProps(Er));try{Di=Rt(J?J.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),Di=this.currentUrlTree.root}return vt(Di,D,Er,null!=Rn?Rn:null)}navigateByUrl(D,N={skipLocationChange:!1}){const J=vr(D)?D:this.parseUrl(D),me=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(me,Ce,null,N)}navigate(D,N={skipLocationChange:!1}){return function Bn(_){for(let A=0;A<_.length;A++)if(null==_[A])throw new l.wOt(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,N),N)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){try{return this.urlSerializer.parse(D)}catch{return this.urlSerializer.parse("/")}}isActive(D,N){let J;if(J=!0===N?{...rs}:!1===N?{...qr}:N,vr(D))return qn(this.currentUrlTree,D,J);const me=this.parseUrl(D);return qn(this.currentUrlTree,me,J)}removeEmptyProps(D){return Object.entries(D).reduce((N,[J,me])=>(null!=me&&(N[J]=me),N),{})}scheduleNavigation(D,N,J,me,mt){if(this.disposed)return Promise.resolve(!1);let Qt,At,Rn;mt?(Qt=mt.resolve,At=mt.reject,Rn=mt.promise):Rn=new Promise((Di,Zr)=>{Qt=Di,At=Zr});const Er=this.pendingTasks.add();return Yr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Er))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:me,resolve:Qt,reject:At,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Di=>Promise.reject(Di))}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})(),_i=(()=>{var _;class A{constructor(D,N,J,me,mt,Qt){var At;this.router=D,this.route=N,this.tabIndexAttribute=J,this.renderer=me,this.el=mt,this.locationStrategy=Qt,this.href=null,this.commands=null,this.onChanges=new Fe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Rn=null===(At=mt.nativeElement.tagName)||void 0===At?void 0:At.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=D.events.subscribe(Er=>{Er instanceof kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,N,J,me,mt){const Qt=this.urlTree;return!!(null===Qt||this.isAnchorElement&&(0!==D||N||J||me||mt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Qt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;const N=this.urlTree;this.href=null!==N&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(N)):null;const J=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",J)}applyAttributeValue(D,N){const J=this.renderer,me=this.el.nativeElement;null!==N?J.setAttribute(me,D,N):J.removeAttribute(me,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(_=A).\u0275fac=function(D){return new(D||_)(l.rXU(nn),l.rXU(Ei),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(je.hb))},_.\u0275dir=l.FsC({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,N){1&D&&l.bIt("click",function(me){return N.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&D&&l.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[l.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[l.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]}),A})();class cr{}let ti=(()=>{var _;class A{preload(D,N){return N().pipe($t(()=>(0,ye.of)(null)))}}return(_=A).\u0275fac=function(D){return new(D||_)},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})(),Xr=(()=>{var _;class A{constructor(D,N,J,me,mt){this.router=D,this.injector=J,this.preloadingStrategy=me,this.loader=mt}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.p)(D=>D instanceof kt),Ze(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,N){const J=[];for(const At of N){var me,mt;At.providers&&!At._injector&&(At._injector=(0,l.Ol2)(At.providers,D,`Route: ${At.path}`));const Rn=null!==(me=At._injector)&&void 0!==me?me:D,Er=null!==(mt=At._loadedInjector)&&void 0!==mt?mt:Rn;var Qt;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&J.push(this.preloadConfig(Rn,At)),(At.children||At._loadedRoutes)&&J.push(this.processRoutes(Er,null!==(Qt=At.children)&&void 0!==Qt?Qt:At._loadedRoutes))}return(0,he.H)(J).pipe((0,rn.U)())}preloadConfig(D,N){return this.preloadingStrategy.preload(N,()=>{let J;J=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(D,N):(0,ye.of)(null);const me=J.pipe((0,Me.Z)(mt=>{var Qt;return null===mt?(0,ye.of)(void 0):(N._loadedRoutes=mt.routes,N._loadedInjector=mt.injector,this.processRoutes(null!==(Qt=mt.injector)&&void 0!==Qt?Qt:D,mt.routes))}));if(N.loadComponent&&!N._loadedComponent){const mt=this.loader.loadComponent(N);return(0,he.H)([me,mt]).pipe((0,rn.U)())}return me})}}return(_=A).\u0275fac=function(D){return new(D||_)(l.KVO(nn),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(cr),l.KVO(fl))},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),A})();const Zt=new l.nKC("");let is=(()=>{var _;class A{constructor(D,N,J,me,mt={}){this.urlSerializer=D,this.transitions=N,this.viewportScroller=J,this.zone=me,this.options=mt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},mt.scrollPositionRestoration||(mt.scrollPositionRestoration="disabled"),mt.anchorScrolling||(mt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof kt?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof Un&&D.code===Jt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof an&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new an(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var D,N;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return(_=A).\u0275fac=function(D){l.QTQ()},_.\u0275prov=l.jDH({token:_,factory:_.\u0275fac}),A})();function rr(_,A){return{\u0275kind:_,\u0275providers:A}}function Xl(){const _=(0,l.WQX)(l.zZn);return A=>{var R,D;const N=_.get(l.o8S);if(A!==N.components[0])return;const J=_.get(nn),me=_.get(Mo);1===_.get(Ks)&&J.initialNavigation(),null===(R=_.get(Yi,null,l.$GK.Optional))||void 0===R||R.setUpPreloading(),null===(D=_.get(Zt,null,l.$GK.Optional))||void 0===D||D.init(),J.resetRootComponentType(N.componentTypes[0]),me.closed||(me.next(),me.complete(),me.unsubscribe())}}const Mo=new l.nKC("",{factory:()=>new Fe.B}),Ks=new l.nKC("",{providedIn:"root",factory:()=>1}),Yi=new l.nKC("");function ei(_){return rr(0,[{provide:Yi,useExisting:Xr},{provide:cr,useExisting:_}])}function pt(_){return rr(9,[{provide:S,useValue:k},{provide:ve,useValue:{skipNextTransition:!(null==_||!_.skipInitialTransition),..._}}])}const lo=new l.nKC("ROUTER_FORROOT_GUARD"),Ma=[je.aZ,{provide:Cn,useClass:Zn},nn,Br,{provide:Ei,useFactory:function Rs(_){return _.routerState.root},deps:[nn]},fl,[]];let _s=(()=>{var _;class A{constructor(D){}static forRoot(D,N){return{ngModule:A,providers:[Ma,[],{provide:ts,multi:!0,useValue:D},{provide:lo,useFactory:fc,deps:[[nn,new l.Xx1,new l.kdw]]},{provide:Ro,useValue:N||{}},null!=N&&N.useHash?{provide:je.hb,useClass:je.fw}:{provide:je.hb,useClass:je.Sm},{provide:Zt,useFactory:()=>{const _=(0,l.WQX)(je.Xr),A=(0,l.WQX)(l.SKi),R=(0,l.WQX)(Ro),D=(0,l.WQX)(pe),N=(0,l.WQX)(Cn);return R.scrollOffset&&_.setOffset(R.scrollOffset),new is(N,D,_,A,R)}},null!=N&&N.preloadingStrategy?ei(N.preloadingStrategy).\u0275providers:[],null!=N&&N.initialNavigation?xa(N):[],null!=N&&N.bindToComponentInputs?rr(8,[Gi,{provide:Fo,useExisting:Gi}]).\u0275providers:[],null!=N&&N.enableViewTransitions?pt().\u0275providers:[],[{provide:Yl,useFactory:Xl},{provide:l.iLQ,multi:!0,useExisting:Yl}]]}}static forChild(D){return{ngModule:A,providers:[{provide:ts,multi:!0,useValue:D}]}}}return(_=A).\u0275fac=function(D){return new(D||_)(l.KVO(lo,8))},_.\u0275mod=l.$C({type:_}),_.\u0275inj=l.G2t({}),A})();function fc(_){return"guarded"}function xa(_){return["disabled"===_.initialNavigation?rr(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const A=(0,l.WQX)(nn);return()=>{A.setUpLocationChangeListener()}}},{provide:Ks,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?rr(2,[{provide:Ks,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:A=>{const R=A.get(je.hj,Promise.resolve());return()=>R.then(()=>new Promise(D=>{const N=A.get(nn),J=A.get(Mo);Yr(N,()=>{D(!0)}),A.get(pe).afterPreactivation=()=>(D(!0),J.closed?(0,ye.of)(void 0):J),N.initialNavigation()}))}}]).\u0275providers:[]]}const Yl=new l.nKC("")},3345:(un,it,F)=>{"use strict";F.d(it,{A:()=>ke});var l=F(1076),b=F(1362),j=F(7852),oe=F(8041);class he{constructor(Le,Re){this._delegate=Le,this.firebase=Re,(0,j._addComponent)(Le,new b.uA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Le,Re=j._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Le);return!at.isInitialized()&&"EXPLICIT"===(null===($e=at.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&at.initialize(),at.getImmediate({identifier:Re})}_removeServiceInstance(Le,Re=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Re)}_addComponent(Le){(0,j._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,j._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function We(){const ct=function Ee(ct){const Le={},Re={__esModule:!0,initializeApp:function Fe(fe,U={}){const be=j.initializeApp(fe,U);if((0,l.gR)(Le,be.name))return Le[be.name];const Me=new ct(be,Re);return Le[be.name]=Me,Me},app:at,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function He(fe){const U=fe.name,be=U.replace("-compat","");if(j._registerComponent(fe)&&"PUBLIC"===fe.type){const Me=(ze=at())=>{if("function"!=typeof ze[be])throw re.create("invalid-app-argument",{appName:U});return ze[be]()};void 0!==fe.serviceProps&&(0,l.zw)(Me,fe.serviceProps),Re[be]=Me,ct.prototype[be]=function(...ze){return this._getService.bind(this,U).apply(this,fe.multipleInstances?ze:[])}}return"PUBLIC"===fe.type?Re[be]:null},removeApp:function $e(fe){delete Le[fe]},useAsService:function Ye(fe,U){return"serverAuth"===U?null:U},modularAPIs:j}};function at(fe){if(!(0,l.gR)(Le,fe=fe||j._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:fe});return Le[fe]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function je(){return Object.keys(Le).map(fe=>Le[fe])}}),at.App=ct,Re}(he);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function Le(Re){(0,l.zw)(ct,Re)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),ct}(),de=new oe.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=le;!function Oe(ct){(0,j.registerVersion)("@firebase/app-compat","0.2.29",ct)}()},7852:(un,it,F)=>{"use strict";F.r(it),F.d(it,{FirebaseError:()=>oe.g,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>Tr,_addOrOverwriteComponent:()=>Nr,_apps:()=>mn,_clearComponents:()=>mr,_components:()=>wn,_getProvider:()=>Ln,_registerComponent:()=>dr,_removeServiceInstance:()=>or,deleteApp:()=>wr,getApp:()=>Gn,getApps:()=>jn,initializeApp:()=>Dr,onLog:()=>Qe,registerVersion:()=>Lr,setLogLevel:()=>Ge});var l=F(467),b=F(1362),j=F(8041),oe=F(1076);const he=(Rt,vt)=>vt.some(Mt=>Rt instanceof Mt);let ye,re;const le=new WeakMap,de=new WeakMap,Ve=new WeakMap,Ue=new WeakMap,Oe=new WeakMap;let Le={get(Rt,vt,Mt){if(Rt instanceof IDBTransaction){if("done"===vt)return de.get(Rt);if("objectStoreNames"===vt)return Rt.objectStoreNames||Ve.get(Rt);if("store"===vt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return Fe(Rt[vt])},set:(Rt,vt,Mt)=>(Rt[vt]=Mt,!0),has:(Rt,vt)=>Rt instanceof IDBTransaction&&("done"===vt||"store"===vt)||vt in Rt};function at(Rt){return"function"==typeof Rt?function $e(Rt){return Rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Rt)?function(...vt){return Rt.apply(je(this),vt),Fe(le.get(this))}:function(...vt){return Fe(Rt.apply(je(this),vt))}:function(vt,...Mt){const gn=Rt.call(je(this),vt,...Mt);return Ve.set(gn,vt.sort?vt.sort():[vt]),Fe(gn)}}(Rt):(Rt instanceof IDBTransaction&&function ct(Rt){if(de.has(Rt))return;const vt=new Promise((Mt,gn)=>{const ht=()=>{Rt.removeEventListener("complete",G),Rt.removeEventListener("error",De),Rt.removeEventListener("abort",De)},G=()=>{Mt(),ht()},De=()=>{gn(Rt.error||new DOMException("AbortError","AbortError")),ht()};Rt.addEventListener("complete",G),Rt.addEventListener("error",De),Rt.addEventListener("abort",De)});de.set(Rt,vt)}(Rt),he(Rt,function Ee(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Rt,Le):Rt)}function Fe(Rt){if(Rt instanceof IDBRequest)return function ke(Rt){const vt=new Promise((Mt,gn)=>{const ht=()=>{Rt.removeEventListener("success",G),Rt.removeEventListener("error",De)},G=()=>{Mt(Fe(Rt.result)),ht()},De=()=>{gn(Rt.error),ht()};Rt.addEventListener("success",G),Rt.addEventListener("error",De)});return vt.then(Mt=>{Mt instanceof IDBCursor&&le.set(Mt,Rt)}).catch(()=>{}),Oe.set(vt,Rt),vt}(Rt);if(Ue.has(Rt))return Ue.get(Rt);const vt=at(Rt);return vt!==Rt&&(Ue.set(Rt,vt),Oe.set(vt,Rt)),vt}const je=Rt=>Oe.get(Rt),fe=["get","getKey","getAll","getAllKeys","count"],U=["put","add","delete","clear"],be=new Map;function Me(Rt,vt){if(!(Rt instanceof IDBDatabase)||vt in Rt||"string"!=typeof vt)return;if(be.get(vt))return be.get(vt);const Mt=vt.replace(/FromIndex$/,""),gn=vt!==Mt,ht=U.includes(Mt);if(!(Mt in(gn?IDBIndex:IDBObjectStore).prototype)||!ht&&!fe.includes(Mt))return;const G=function(){var De=(0,l.A)(function*(tt,...Ot){const yn=this.transaction(tt,ht?"readwrite":"readonly");let Wn=yn.store;return gn&&(Wn=Wn.index(Ot.shift())),(yield Promise.all([Wn[Mt](...Ot),ht&&yn.done]))[0]});return function(Ot){return De.apply(this,arguments)}}();return be.set(vt,G),G}!function Re(Rt){Le=Rt(Le)}(Rt=>({...Rt,get:(vt,Mt,gn)=>Me(vt,Mt)||Rt.get(vt,Mt,gn),has:(vt,Mt)=>!!Me(vt,Mt)||Rt.has(vt,Mt)}));class ze{constructor(vt){this.container=vt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function Ze(Rt){const vt=Rt.getComponent();return"VERSION"===(null==vt?void 0:vt.type)}(Mt)){const gn=Mt.getImmediate();return`${gn.library}/${gn.version}`}return null}).filter(Mt=>Mt).join(" ")}}const dt="@firebase/app",fn=new j.Vy("@firebase/app"),Yn="[DEFAULT]",nr={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,wn=new Map;function Tr(Rt,vt){try{Rt.container.addComponent(vt)}catch(Mt){fn.debug(`Component ${vt.name} failed to register with FirebaseApp ${Rt.name}`,Mt)}}function Nr(Rt,vt){Rt.container.addOrOverwriteComponent(vt)}function dr(Rt){const vt=Rt.name;if(wn.has(vt))return fn.debug(`There were multiple attempts to register component ${vt}.`),!1;wn.set(vt,Rt);for(const Mt of mn.values())Tr(Mt,Rt);return!0}function Ln(Rt,vt){const Mt=Rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Rt.container.getProvider(vt)}function or(Rt,vt,Mt=Yn){Ln(Rt,vt).clearInstance(Mt)}function mr(){wn.clear()}const gr=new oe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(vt,Mt,gn){this._isDeleted=!1,this._options=Object.assign({},vt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=gn,this.container.addComponent(new b.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(vt){this._isDeleted=vt}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Zn="10.9.0";function Dr(Rt,vt={}){let Mt=Rt;"object"!=typeof vt&&(vt={name:vt});const gn=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},vt),ht=gn.name;if("string"!=typeof ht||!ht)throw gr.create("bad-app-name",{appName:String(ht)});if(Mt||(Mt=(0,oe.T9)()),!Mt)throw gr.create("no-options");const G=mn.get(ht);if(G){if((0,oe.bD)(Mt,G.options)&&(0,oe.bD)(gn,G.config))return G;throw gr.create("duplicate-app",{appName:ht})}const De=new b.h1(ht);for(const Ot of wn.values())De.addComponent(Ot);const tt=new Cn(Mt,gn,De);return mn.set(ht,tt),tt}function Gn(Rt=Yn){const vt=mn.get(Rt);if(!vt&&Rt===Yn&&(0,oe.T9)())return Dr();if(!vt)throw gr.create("no-app",{appName:Rt});return vt}function jn(){return Array.from(mn.values())}function wr(Rt){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.A)(function*(Rt){const vt=Rt.name;mn.has(vt)&&(mn.delete(vt),yield Promise.all(Rt.container.getProviders().map(Mt=>Mt.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function Lr(Rt,vt,Mt){var gn;let ht=null!==(gn=nr[Rt])&&void 0!==gn?gn:Rt;Mt&&(ht+=`-${Mt}`);const G=ht.match(/\s|\//),De=vt.match(/\s|\//);if(G||De){const tt=[`Unable to register library "${ht}" with version "${vt}":`];return G&&tt.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),G&&De&&tt.push("and"),De&&tt.push(`version name "${vt}" contains illegal characters (whitespace or "/")`),void fn.warn(tt.join(" "))}dr(new b.uA(`${ht}-version`,()=>({library:ht,version:vt}),"VERSION"))}function Qe(Rt,vt){if(null!==Rt&&"function"!=typeof Rt)throw gr.create("invalid-log-argument");(0,j.Ey)(Rt,vt)}function Ge(Rt){(0,j.He)(Rt)}const yt="firebase-heartbeat-database",qe=1,ie="firebase-heartbeat-store";let ue=null;function K(){return ue||(ue=function He(Rt,vt,{blocked:Mt,upgrade:gn,blocking:ht,terminated:G}={}){const De=indexedDB.open(Rt,vt),tt=Fe(De);return gn&&De.addEventListener("upgradeneeded",Ot=>{gn(Fe(De.result),Ot.oldVersion,Ot.newVersion,Fe(De.transaction),Ot)}),Mt&&De.addEventListener("blocked",Ot=>Mt(Ot.oldVersion,Ot.newVersion,Ot)),tt.then(Ot=>{G&&Ot.addEventListener("close",()=>G()),ht&&Ot.addEventListener("versionchange",yn=>ht(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),tt}(yt,qe,{upgrade:(Rt,vt)=>{if(0===vt)try{Rt.createObjectStore(ie)}catch(Mt){console.warn(Mt)}}}).catch(Rt=>{throw gr.create("idb-open",{originalErrorMessage:Rt.message})})),ue}function q(){return(q=(0,l.A)(function*(Rt){try{const Mt=(yield K()).transaction(ie),gn=yield Mt.objectStore(ie).get(cn(Rt));return yield Mt.done,gn}catch(vt){if(vt instanceof oe.g)fn.warn(vt.message);else{const Mt=gr.create("idb-get",{originalErrorMessage:null==vt?void 0:vt.message});fn.warn(Mt.message)}}})).apply(this,arguments)}function Ke(Rt,vt){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.A)(function*(Rt,vt){try{const gn=(yield K()).transaction(ie,"readwrite");yield gn.objectStore(ie).put(vt,cn(Rt)),yield gn.done}catch(Mt){if(Mt instanceof oe.g)fn.warn(Mt.message);else{const gn=gr.create("idb-set",{originalErrorMessage:null==Mt?void 0:Mt.message});fn.warn(gn.message)}}})).apply(this,arguments)}function cn(Rt){return`${Rt.name}!${Rt.options.appId}`}class pr{constructor(vt){this.container=vt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new sr(Mt),this._heartbeatsCachePromise=this._storage.read().then(gn=>(this._heartbeatsCache=gn,gn))}triggerHeartbeat(){var vt=this;return(0,l.A)(function*(){var Mt,gn;const G=vt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),De=Pn();if((null!=(null===(Mt=vt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||(vt._heartbeatsCache=yield vt._heartbeatsCachePromise,null!=(null===(gn=vt._heartbeatsCache)||void 0===gn?void 0:gn.heartbeats)))&&vt._heartbeatsCache.lastSentHeartbeatDate!==De&&!vt._heartbeatsCache.heartbeats.some(tt=>tt.date===De))return vt._heartbeatsCache.heartbeats.push({date:De,agent:G}),vt._heartbeatsCache.heartbeats=vt._heartbeatsCache.heartbeats.filter(tt=>{const Ot=new Date(tt.date).valueOf();return Date.now()-Ot<=2592e6}),vt._storage.overwrite(vt._heartbeatsCache)})()}getHeartbeatsHeader(){var vt=this;return(0,l.A)(function*(){var Mt;if(null===vt._heartbeatsCache&&(yield vt._heartbeatsCachePromise),null==(null===(Mt=vt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===vt._heartbeatsCache.heartbeats.length)return"";const gn=Pn(),{heartbeatsToSend:ht,unsentEntries:G}=function dn(Rt,vt=1024){const Mt=[];let gn=Rt.slice();for(const ht of Rt){const G=Mt.find(De=>De.agent===ht.agent);if(G){if(G.dates.push(ht.date),vr(Mt)>vt){G.dates.pop();break}}else if(Mt.push({agent:ht.agent,dates:[ht.date]}),vr(Mt)>vt){Mt.pop();break}gn=gn.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:gn}}(vt._heartbeatsCache.heartbeats),De=(0,oe.Uj)(JSON.stringify({version:2,heartbeats:ht}));return vt._heartbeatsCache.lastSentHeartbeatDate=gn,G.length>0?(vt._heartbeatsCache.heartbeats=G,yield vt._storage.overwrite(vt._heartbeatsCache)):(vt._heartbeatsCache.heartbeats=[],vt._storage.overwrite(vt._heartbeatsCache)),De})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class sr{constructor(vt){this.app=vt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,oe.zW)()&&(0,oe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var vt=this;return(0,l.A)(function*(){if(yield vt._canUseIndexedDBPromise){const gn=yield function Q(Rt){return q.apply(this,arguments)}(vt.app);return null!=gn&&gn.heartbeats?gn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(vt){var Mt=this;return(0,l.A)(function*(){var gn;if(yield Mt._canUseIndexedDBPromise){const G=yield Mt.read();return Ke(Mt.app,{lastSentHeartbeatDate:null!==(gn=vt.lastSentHeartbeatDate)&&void 0!==gn?gn:G.lastSentHeartbeatDate,heartbeats:vt.heartbeats})}})()}add(vt){var Mt=this;return(0,l.A)(function*(){var gn;if(yield Mt._canUseIndexedDBPromise){const G=yield Mt.read();return Ke(Mt.app,{lastSentHeartbeatDate:null!==(gn=vt.lastSentHeartbeatDate)&&void 0!==gn?gn:G.lastSentHeartbeatDate,heartbeats:[...G.heartbeats,...vt.heartbeats]})}})()}}function vr(Rt){return(0,oe.Uj)(JSON.stringify({version:2,heartbeats:Rt})).length}!function ai(Rt){dr(new b.uA("platform-logger",vt=>new ze(vt),"PRIVATE")),dr(new b.uA("heartbeat",vt=>new pr(vt),"PRIVATE")),Lr(dt,"0.9.29",Rt),Lr(dt,"0.9.29","esm2017"),Lr("fire-js","")}("")},1362:(un,it,F)=>{"use strict";F.d(it,{h1:()=>Ee,uA:()=>j});var l=F(467),b=F(1076);class j{constructor(le,de,Ve){this.name=le,this.instanceFactory=de,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const oe="[DEFAULT]";class he{constructor(le,de){this.name=le,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const de=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(de)){const Ve=new b.cY;if(this.instancesDeferred.set(de,Ve),this.isInitialized(de)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:de});Ue&&Ve.resolve(Ue)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(le){var de;const Ve=this.normalizeInstanceIdentifier(null==le?void 0:le.identifier),Ue=null!==(de=null==le?void 0:le.optional)&&void 0!==de&&de;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch(Oe){if(Ue)return null;throw Oe}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function re(We){return"EAGER"===We.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[de,Ve]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(de);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ue});Ve.resolve(Oe)}catch{}}}}clearInstance(le=oe){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,l.A)(function*(){const de=Array.from(le.instances.values());yield Promise.all([...de.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...de.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=oe){return this.instances.has(le)}getOptions(le=oe){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:de={}}=le,Ve=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Ve,options:de});for(const[Oe,ke]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier(Oe)&&ke.resolve(Ue);return Ue}onInit(le,de){var Ve;const Ue=this.normalizeInstanceIdentifier(de),Oe=null!==(Ve=this.onInitCallbacks.get(Ue))&&void 0!==Ve?Ve:new Set;Oe.add(le),this.onInitCallbacks.set(Ue,Oe);const ke=this.instances.get(Ue);return ke&&le(ke,Ue),()=>{Oe.delete(le)}}invokeOnInitCallbacks(le,de){const Ve=this.onInitCallbacks.get(de);if(Ve)for(const Ue of Ve)try{Ue(le,de)}catch{}}getOrInitializeService({instanceIdentifier:le,options:de={}}){let Ve=this.instances.get(le);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(We=le,We===oe?void 0:We),options:de}),this.instances.set(le,Ve),this.instancesOptions.set(le,de),this.invokeOnInitCallbacks(Ve,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Ve)}catch{}var We;return Ve||null}normalizeInstanceIdentifier(le=oe){return this.component?this.component.multipleInstances?le:oe:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const de=this.getProvider(le.name);if(de.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);de.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const de=new he(le,this);return this.providers.set(le,de),de}getProviders(){return Array.from(this.providers.values())}}},8041:(un,it,F)=>{"use strict";F.d(it,{$b:()=>b,Ey:()=>We,He:()=>Ee,Vy:()=>re});const l=[];var b=function(le){return le[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",le}(b||{});const j={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},oe=b.INFO,he={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},ye=(le,de,...Ve)=>{if(de<le.logLevel)return;const Ue=(new Date).toISOString(),Oe=he[de];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Oe](`[${Ue}]  ${le.name}:`,...Ve)};class re{constructor(de){this.name=de,this._logLevel=oe,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in b))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?j[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...de),this._logHandler(this,b.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...de),this._logHandler(this,b.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,b.INFO,...de),this._logHandler(this,b.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,b.WARN,...de),this._logHandler(this,b.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...de),this._logHandler(this,b.ERROR,...de)}}function Ee(le){l.forEach(de=>{de.setLogLevel(le)})}function We(le,de){for(const Ve of l){let Ue=null;de&&de.level&&(Ue=j[de.level]),Ve.userLogHandler=null===le?null:(Oe,ke,...ct)=>{const Le=ct.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");ke>=(null!=Ue?Ue:Oe.logLevel)&&le({level:b[ke].toLowerCase(),message:Le,args:ct,type:Oe.name})}}}},7157:(un,it,F)=>{"use strict";F.d(it,{Yq:()=>dr,TS:()=>mn,sR:()=>wn,el:()=>gn,Sb:()=>qe,QE:()=>Ot,CF:()=>Qe,Rg:()=>dn,p4:()=>yn,jM:()=>bn,q9:()=>Fn,Kb:()=>hi,CE:()=>ht,pF:()=>G,fL:()=>Xn,YV:()=>Rt,er:()=>Wn,z3:()=>En});var l=F(467),b=F(4438),j=F(4964),oe=F(177);class he{constructor(){this.m=new Map}reset(Ce){this.m=new Map(Object.entries(Ce))}get(Ce,H){const ge=this.m.get(Ce);return void 0!==ge?ge:H}getBoolean(Ce,H=!1){const ge=this.m.get(Ce);return void 0===ge?H:"string"==typeof ge?"true"===ge:!!ge}getNumber(Ce,H){const ge=parseFloat(this.m.get(Ce));return isNaN(ge)?void 0!==H?H:NaN:ge}set(Ce,H){this.m.set(Ce,H)}}const ye=new he,Ue=Ie=>ke(Ie),ke=(Ie=window)=>{if(typeof Ie>"u")return[];Ie.Ionic=Ie.Ionic||{};let Ce=Ie.Ionic.platforms;return null==Ce&&(Ce=Ie.Ionic.platforms=ct(Ie),Ce.forEach(H=>Ie.document.documentElement.classList.add(`plt-${H}`))),Ce},ct=Ie=>{const Ce=ye.get("platform");return Object.keys(Xt).filter(H=>{const ge=null==Ce?void 0:Ce[H];return"function"==typeof ge?ge(Ie):Xt[H](Ie)})},Re=Ie=>!!($t(Ie,/iPad/i)||$t(Ie,/Macintosh/i)&&fe(Ie)),Fe=Ie=>$t(Ie,/android|sink/i),fe=Ie=>fn(Ie,"(any-pointer:coarse)"),be=Ie=>Me(Ie)||ze(Ie),Me=Ie=>!!(Ie.cordova||Ie.phonegap||Ie.PhoneGap),ze=Ie=>{const Ce=Ie.Capacitor;return!(null==Ce||!Ce.isNative)},$t=(Ie,Ce)=>Ce.test(Ie.navigator.userAgent),fn=(Ie,Ce)=>{var H;return null===(H=Ie.matchMedia)||void 0===H?void 0:H.call(Ie,Ce).matches},Xt={ipad:Re,iphone:Ie=>$t(Ie,/iPhone/i),ios:Ie=>$t(Ie,/iPhone|iPod/i)||Re(Ie),android:Fe,phablet:Ie=>{const Ce=Ie.innerWidth,H=Ie.innerHeight,ge=Math.min(Ce,H),rt=Math.max(Ce,H);return ge>390&&ge<520&&rt>620&&rt<800},tablet:Ie=>{const Ce=Ie.innerWidth,H=Ie.innerHeight,ge=Math.min(Ce,H),rt=Math.max(Ce,H);return Re(Ie)||(Ie=>Fe(Ie)&&!$t(Ie,/mobile/i))(Ie)||ge>460&&ge<820&&rt>780&&rt<1400},cordova:Me,capacitor:ze,electron:Ie=>$t(Ie,/electron/i),pwa:Ie=>{var Ce;return!!(null!==(Ce=Ie.matchMedia)&&void 0!==Ce&&Ce.call(Ie,"(display-mode: standalone)").matches||Ie.navigator.standalone)},mobile:fe,mobileweb:Ie=>fe(Ie)&&!be(Ie),desktop:Ie=>!fe(Ie),hybrid:be};var Pe=F(6031),Ae=F(1656),st=F(1413),xe=F(3726),zt=F(4412),rn=F(4572),Kt=F(7673),Ft=F(1635),An=F(5964),Qn=F(5558),$n=F(3294),Tt=F(4341);const kn=["tabsInner"];let It=(()=>{class Ie{constructor(H,ge){this.doc=H,this.backButton=new st.B,this.keyboardDidShow=new st.B,this.keyboardDidHide=new st.B,this.pause=new st.B,this.resume=new st.B,this.resize=new st.B,ge.run(()=>{var rt;let kt;this.win=H.defaultView,this.backButton.subscribeWithPriority=function(Bt,Jt){return this.subscribe(_n=>_n.register(Bt,Un=>ge.run(()=>Jt(Un))))},Tn(this.pause,H,"pause",ge),Tn(this.resume,H,"resume",ge),Tn(this.backButton,H,"ionBackButton",ge),Tn(this.resize,this.win,"resize",ge),Tn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ge),Tn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ge),this._readyPromise=new Promise(Bt=>{kt=Bt}),null!==(rt=this.win)&&void 0!==rt&&rt.cordova?H.addEventListener("deviceready",()=>{kt("cordova")},{once:!0}):kt("dom")})}is(H){return((Ie,Ce)=>("string"==typeof Ie&&(Ce=Ie,Ie=void 0),Ue(Ie).includes(Ce)))(this.win,H)}platforms(){return Ue(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(H){return hn(this.win.location.href,H)}isLandscape(){return!this.isPortrait()}isPortrait(){var H,ge;return null===(H=(ge=this.win).matchMedia)||void 0===H?void 0:H.call(ge,"(orientation: portrait)").matches}testUserAgent(H){const ge=this.win.navigator;return!!(null!=ge&&ge.userAgent&&ge.userAgent.indexOf(H)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.KVO(oe.qQ),b.KVO(b.SKi))},Ie.\u0275prov=b.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const hn=(Ie,Ce)=>{Ce=Ce.replace(/[[\]\\]/g,"\\$&");const ge=new RegExp("[\\?&]"+Ce+"=([^&#]*)").exec(Ie);return ge?decodeURIComponent(ge[1].replace(/\+/g," ")):null},Tn=(Ie,Ce,H,ge)=>{Ce&&Ce.addEventListener(H,rt=>{ge.run(()=>{Ie.next(null!=rt?rt.detail:void 0)})})};let Fn=(()=>{class Ie{constructor(H,ge,rt,kt){this.location=ge,this.serializer=rt,this.router=kt,this.direction=Yn,this.animated=nr,this.guessDirection="forward",this.lastNavId=-1,kt&&kt.events.subscribe(Bt=>{if(Bt instanceof j.Z){const Jt=Bt.restoredState?Bt.restoredState.navigationId:Bt.id;this.guessDirection=Jt<this.lastNavId?"back":"forward",this.guessAnimation=Bt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Bt.id:Jt}}),H.backButton.subscribeWithPriority(0,Bt=>{this.pop(),Bt()})}navigateForward(H,ge={}){return this.setDirection("forward",ge.animated,ge.animationDirection,ge.animation),this.navigate(H,ge)}navigateBack(H,ge={}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.navigate(H,ge)}navigateRoot(H,ge={}){return this.setDirection("root",ge.animated,ge.animationDirection,ge.animation),this.navigate(H,ge)}back(H={animated:!0,animationDirection:"back"}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.location.back()}pop(){var H=this;return(0,l.A)(function*(){let ge=H.topOutlet;for(;ge;){if(yield ge.pop())return!0;ge=ge.parentOutlet}return!1})()}setDirection(H,ge,rt,kt){this.direction=H,this.animated=qn(H,ge,rt),this.animationBuilder=kt}setTopOutlet(H){this.topOutlet=H}consumeTransition(){let ge,H="root";const rt=this.animationBuilder;return"auto"===this.direction?(H=this.guessDirection,ge=this.guessAnimation):(ge=this.animated,H=this.direction),this.direction=Yn,this.animated=nr,this.animationBuilder=void 0,{direction:H,animation:ge,animationBuilder:rt}}navigate(H,ge){if(Array.isArray(H))return this.router.navigate(H,ge);{const rt=this.serializer.parse(H.toString());return void 0!==ge.queryParams&&(rt.queryParams={...ge.queryParams}),void 0!==ge.fragment&&(rt.fragment=ge.fragment),this.router.navigateByUrl(rt,ge)}}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.KVO(It),b.KVO(oe.aZ),b.KVO(j.Sd),b.KVO(j.Ix,8))},Ie.\u0275prov=b.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const qn=(Ie,Ce,H)=>{if(!1!==Ce){if(void 0!==H)return H;if("forward"===Ie||"back"===Ie)return Ie;if("root"===Ie&&!0===Ce)return"forward"}},Yn="auto",nr=void 0;let mn=(()=>{class Ie{get(H,ge){const rt=Tr();return rt?rt.get(H,ge):null}getBoolean(H,ge){const rt=Tr();return!!rt&&rt.getBoolean(H,ge)}getNumber(H,ge){const rt=Tr();return rt?rt.getNumber(H,ge):0}}return Ie.\u0275fac=function(H){return new(H||Ie)},Ie.\u0275prov=b.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const wn=new b.nKC("USERCONFIG"),Tr=()=>{if(typeof window<"u"){const Ie=window.Ionic;if(null!=Ie&&Ie.config)return Ie.config}return null};class Nr{constructor(Ce={}){this.data=Ce}get(Ce){return this.data[Ce]}}let dr=(()=>{class Ie{constructor(){this.zone=(0,b.WQX)(b.SKi),this.applicationRef=(0,b.WQX)(b.o8S)}create(H,ge,rt){return new Ln(H,ge,this.applicationRef,this.zone,rt)}}return Ie.\u0275fac=function(H){return new(H||Ie)},Ie.\u0275prov=b.jDH({token:Ie,factory:Ie.\u0275fac}),Ie})();class Ln{constructor(Ce,H,ge,rt,kt){this.environmentInjector=Ce,this.injector=H,this.applicationRef=ge,this.zone=rt,this.elementReferenceKey=kt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Ce,H,ge,rt){return this.zone.run(()=>new Promise(kt=>{const Bt={...ge};void 0!==this.elementReferenceKey&&(Bt[this.elementReferenceKey]=Ce),kt(or(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ce,H,Bt,rt,this.elementReferenceKey))}))}removeViewFromDom(Ce,H){return this.zone.run(()=>new Promise(ge=>{const rt=this.elRefMap.get(H);if(rt){rt.destroy(),this.elRefMap.delete(H);const kt=this.elEventsMap.get(H);kt&&(kt(),this.elEventsMap.delete(H))}ge()}))}}const or=(Ie,Ce,H,ge,rt,kt,Bt,Jt,_n,Un,$r)=>{const _t=b.zZn.create({providers:Cn(_n),parent:H}),B=(0,b.a0P)(Jt,{environmentInjector:Ce,elementInjector:_t}),Y=B.instance,Be=B.location.nativeElement;if(_n&&($r&&void 0!==Y[$r]&&console.error(`[Ionic Error]: ${$r} is a reserved property when using ${Bt.tagName.toLowerCase()}. Rename or remove the "${$r}" property from ${Jt.name}.`),Object.assign(Y,_n)),Un)for(const nt of Un)Be.classList.add(nt);const Ne=Sn(Ie,Y,Be);return Bt.appendChild(Be),ge.attachView(B.hostView),rt.set(Be,B),kt.set(Be,Ne),Be},mr=[Pe.L,Pe.a,Pe.b,Pe.c,Pe.d],Sn=(Ie,Ce,H)=>Ie.run(()=>{const ge=mr.filter(rt=>"function"==typeof Ce[rt]).map(rt=>{const kt=Bt=>Ce[rt](Bt.detail);return H.addEventListener(rt,kt),()=>H.removeEventListener(rt,kt)});return()=>ge.forEach(rt=>rt())}),gr=new b.nKC("NavParamsToken"),Cn=Ie=>[{provide:gr,useValue:Ie},{provide:Nr,useFactory:Zn,deps:[gr]}],Zn=Ie=>new Nr(Ie),Dr=(Ie,Ce)=>{const H=Ie.prototype;Ce.forEach(ge=>{Object.defineProperty(H,ge,{get(){return this.el[ge]},set(rt){this.z.runOutsideAngular(()=>this.el[ge]=rt)}})})},Gn=(Ie,Ce)=>{const H=Ie.prototype;Ce.forEach(ge=>{H[ge]=function(){const rt=arguments;return this.z.runOutsideAngular(()=>this.el[ge].apply(this.el,rt))}})},jn=(Ie,Ce,H)=>{H.forEach(ge=>Ie[ge]=(0,xe.R)(Ce,ge))};function wr(Ie){return function(H){const{defineCustomElementFn:ge,inputs:rt,methods:kt}=Ie;return void 0!==ge&&ge(),rt&&Dr(H,rt),kt&&Gn(H,kt),H}}const Sr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Lr=["present","dismiss","onDidDismiss","onWillDismiss"];let Qe=(()=>{let Ie=class{constructor(H,ge,rt){this.z=rt,this.isCmpOpen=!1,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),jn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(b.gRc),b.rXU(b.aKT),b.rXU(b.SKi))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["ion-popover"]],contentQueries:function(H,ge,rt){if(1&H&&b.wni(rt,b.C4Q,5),2&H){let kt;b.mGM(kt=b.lsd())&&(ge.template=kt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),Ie=(0,Ft.Cg)([wr({inputs:Sr,methods:Lr})],Ie),Ie})();const Ge=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],yt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let qe=(()=>{let Ie=class{constructor(H,ge,rt){this.z=rt,this.isCmpOpen=!1,this.el=ge.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),jn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(b.gRc),b.rXU(b.aKT),b.rXU(b.SKi))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["ion-modal"]],contentQueries:function(H,ge,rt){if(1&H&&b.wni(rt,b.C4Q,5),2&H){let kt;b.mGM(kt=b.lsd())&&(ge.template=kt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),Ie=(0,Ft.Cg)([wr({inputs:Ge,methods:yt})],Ie),Ie})();const ue=(Ie,Ce)=>((Ie=Ie.filter(H=>H.stackId!==Ce.stackId)).push(Ce),Ie),q=(Ie,Ce)=>{const H=Ie.createUrlTree(["."],{relativeTo:Ce});return Ie.serializeUrl(H)},Ke=(Ie,Ce)=>!Ce||Ie.stackId!==Ce.stackId,wt=(Ie,Ce)=>{if(!Ie)return;const H=cn(Ce);for(let ge=0;ge<H.length;ge++){if(ge>=Ie.length)return H[ge];if(H[ge]!==Ie[ge])return}},cn=Ie=>Ie.split("/").map(Ce=>Ce.trim()).filter(Ce=>""!==Ce),Mn=Ie=>{Ie&&(Ie.ref.destroy(),Ie.unlistenEvents())};class Hn{constructor(Ce,H,ge,rt,kt,Bt){this.containerEl=H,this.router=ge,this.navCtrl=rt,this.zone=kt,this.location=Bt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Ce?cn(Ce):void 0}createView(Ce,H){var ge;const rt=q(this.router,H),kt=null==Ce||null===(ge=Ce.location)||void 0===ge?void 0:ge.nativeElement,Bt=Sn(this.zone,Ce.instance,kt);return{id:this.nextId++,stackId:wt(this.tabsPrefix,rt),unlistenEvents:Bt,element:kt,ref:Ce,url:rt}}getExistingView(Ce){const H=q(this.router,Ce),ge=this.views.find(rt=>rt.url===H);return ge&&ge.ref.changeDetectorRef.reattach(),ge}setActive(Ce){var H,ge;const rt=this.navCtrl.consumeTransition();let{direction:kt,animation:Bt,animationBuilder:Jt}=rt;const _n=this.activeView,Un=Ke(Ce,_n);Un&&(kt="back",Bt=void 0);const $r=this.views.slice();let _t;const B=this.router;B.getCurrentNavigation?_t=B.getCurrentNavigation():null!==(H=B.navigations)&&void 0!==H&&H.value&&(_t=B.navigations.value),null!==(ge=_t)&&void 0!==ge&&null!==(ge=ge.extras)&&void 0!==ge&&ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Y=this.views.includes(Ce),Be=this.insertView(Ce,kt);Y||Ce.ref.changeDetectorRef.detectChanges();const Ne=Ce.animationBuilder;return void 0===Jt&&"back"===kt&&!Un&&void 0!==Ne&&(Jt=Ne),_n&&(_n.animationBuilder=Jt),this.zone.runOutsideAngular(()=>this.wait(()=>(_n&&_n.ref.changeDetectorRef.detach(),Ce.ref.changeDetectorRef.reattach(),this.transition(Ce,_n,Bt,this.canGoBack(1),!1,Jt).then(()=>pr(Ce,Be,$r,this.location,this.zone)).then(()=>({enteringView:Ce,direction:kt,animation:Bt,tabSwitch:Un})))))}canGoBack(Ce,H=this.getActiveStackId()){return this.getStack(H).length>Ce}pop(Ce,H=this.getActiveStackId()){return this.zone.run(()=>{const ge=this.getStack(H);if(ge.length<=Ce)return Promise.resolve(!1);const rt=ge[ge.length-Ce-1];let kt=rt.url;const Bt=rt.savedData;if(Bt){var Jt;const Un=Bt.get("primary");null!=Un&&null!==(Jt=Un.route)&&void 0!==Jt&&null!==(Jt=Jt._routerState)&&void 0!==Jt&&Jt.snapshot.url&&(kt=Un.route._routerState.snapshot.url)}const{animationBuilder:_n}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(kt,{...rt.savedExtras,animation:_n}).then(()=>!0)})}startBackTransition(){const Ce=this.activeView;if(Ce){const H=this.getStack(Ce.stackId),ge=H[H.length-2],rt=ge.animationBuilder;return this.wait(()=>this.transition(ge,Ce,"back",this.canGoBack(2),!0,rt))}return Promise.resolve()}endBackTransition(Ce){Ce?(this.skipTransition=!0,this.pop(1)):this.activeView&&Pn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ce){const H=this.getStack(Ce);return H.length>0?H[H.length-1]:void 0}getRootUrl(Ce){const H=this.getStack(Ce);return H.length>0?H[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Mn),this.activeView=void 0,this.views=[]}getStack(Ce){return this.views.filter(H=>H.stackId===Ce)}insertView(Ce,H){return this.activeView=Ce,this.views=((Ie,Ce,H)=>"root"===H?ue(Ie,Ce):"forward"===H?((Ie,Ce)=>(Ie.indexOf(Ce)>=0?Ie=Ie.filter(ge=>ge.stackId!==Ce.stackId||ge.id<=Ce.id):Ie.push(Ce),Ie))(Ie,Ce):((Ie,Ce)=>Ie.indexOf(Ce)>=0?Ie.filter(ge=>ge.stackId!==Ce.stackId||ge.id<=Ce.id):ue(Ie,Ce))(Ie,Ce))(this.views,Ce,H),this.views.slice()}transition(Ce,H,ge,rt,kt,Bt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(H===Ce)return Promise.resolve(!1);const Jt=Ce?Ce.element:void 0,_n=H?H.element:void 0,Un=this.containerEl;return Jt&&Jt!==_n&&(Jt.classList.add("ion-page"),Jt.classList.add("ion-page-invisible"),Jt.parentElement!==Un&&Un.appendChild(Jt),Un.commit)?Un.commit(Jt,_n,{duration:void 0===ge?0:void 0,direction:ge,showGoBack:rt,progressAnimation:kt,animationBuilder:Bt}):Promise.resolve(!1)}wait(Ce){var H=this;return(0,l.A)(function*(){void 0!==H.runningTask&&(yield H.runningTask,H.runningTask=void 0);const ge=H.runningTask=Ce();return ge.finally(()=>H.runningTask=void 0),ge})()}}const pr=(Ie,Ce,H,ge,rt)=>"function"==typeof requestAnimationFrame?new Promise(kt=>{requestAnimationFrame(()=>{Pn(Ie,Ce,H,ge,rt),kt()})}):Promise.resolve(),Pn=(Ie,Ce,H,ge,rt)=>{rt.run(()=>H.filter(kt=>!Ce.includes(kt)).forEach(Mn)),Ce.forEach(kt=>{const Jt=ge.path().split("?")[0].split("#")[0];if(kt!==Ie&&kt.url!==Jt){const _n=kt.element;_n.setAttribute("aria-hidden","true"),_n.classList.add("ion-page-hidden"),kt.ref.changeDetectorRef.detach()}})};let dn=(()=>{class Ie{constructor(H,ge,rt,kt,Bt,Jt,_n,Un){this.parentOutlet=Un,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new zt.t(null),this.activated=null,this._activatedRoute=null,this.name=j.Xk,this.stackWillChange=new b.bkB,this.stackDidChange=new b.bkB,this.activateEvents=new b.bkB,this.deactivateEvents=new b.bkB,this.parentContexts=(0,b.WQX)(j.Zp),this.location=(0,b.WQX)(b.c1b),this.environmentInjector=(0,b.WQX)(b.uvJ),this.inputBinder=(0,b.WQX)(vr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,b.WQX)(mn),this.navCtrl=(0,b.WQX)(Fn),this.nativeEl=kt.nativeElement,this.name=H||j.Xk,this.tabsPrefix="true"===ge?q(Bt,_n):void 0,this.stackCtrl=new Hn(this.tabsPrefix,this.nativeEl,Bt,this.navCtrl,Jt,rt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(H){this.nativeEl.animation=H}set animated(H){this.nativeEl.animated=H}set swipeGesture(H){this._swipeGesture=H,this.nativeEl.swipeHandler=H?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ge=>this.stackCtrl.endBackTransition(ge)}:void 0}ngOnDestroy(){var H;this.stackCtrl.destroy(),null===(H=this.inputBinder)||void 0===H||H.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const H=this.getContext();null!=H&&H.route&&this.activateWith(H.route,H.injector)}new Promise(H=>(0,Ae.c)(this.nativeEl,H)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(H,ge){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ge=this.getContext();this.activatedView.savedData=new Map(ge.children.contexts);const rt=this.activatedView.savedData.get("primary");if(rt&&ge.route&&(rt.route={...ge.route}),this.activatedView.savedExtras={},ge.route){const kt=ge.route.snapshot;this.activatedView.savedExtras.queryParams=kt.queryParams,this.activatedView.savedExtras.fragment=kt.fragment}}const H=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,ge){var rt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;let kt,Bt=this.stackCtrl.getExistingView(H);if(Bt){kt=this.activated=Bt.ref;const Un=Bt.savedData;Un&&(this.getContext().children.contexts=Un),this.updateActivatedRouteProxy(kt.instance,H)}else{var Jt;const Un=H._futureSnapshot,$r=this.parentContexts.getOrCreateContext(this.name).children,_t=new zt.t(null),B=this.createActivatedRouteProxy(_t,H),Y=new sr(B,$r,this.location.injector),Be=null!==(Jt=Un.routeConfig.component)&&void 0!==Jt?Jt:Un.component;kt=this.activated=this.location.createComponent(Be,{index:this.location.length,injector:Y,environmentInjector:null!=ge?ge:this.environmentInjector}),_t.next(kt.instance),Bt=this.stackCtrl.createView(this.activated,H),this.proxyMap.set(kt.instance,B),this.currentActivatedRoute$.next({component:kt.instance,activatedRoute:H})}null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activatedView=Bt,this.navCtrl.setTopOutlet(this);const _n=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Bt,tabSwitch:Ke(Bt,_n)}),this.stackCtrl.setActive(Bt).then(Un=>{this.activateEvents.emit(kt.instance),this.stackDidChange.emit(Un)})}canGoBack(H=1,ge){return this.stackCtrl.canGoBack(H,ge)}pop(H=1,ge){return this.stackCtrl.pop(H,ge)}getLastUrl(H){const ge=this.stackCtrl.getLastUrl(H);return ge?ge.url:void 0}getLastRouteView(H){return this.stackCtrl.getLastUrl(H)}getRootView(H){return this.stackCtrl.getRootUrl(H)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(H,ge){const rt=new j.nX;return rt._futureSnapshot=ge._futureSnapshot,rt._routerState=ge._routerState,rt.snapshot=ge.snapshot,rt.outlet=ge.outlet,rt.component=ge.component,rt._paramMap=this.proxyObservable(H,"paramMap"),rt._queryParamMap=this.proxyObservable(H,"queryParamMap"),rt.url=this.proxyObservable(H,"url"),rt.params=this.proxyObservable(H,"params"),rt.queryParams=this.proxyObservable(H,"queryParams"),rt.fragment=this.proxyObservable(H,"fragment"),rt.data=this.proxyObservable(H,"data"),rt}proxyObservable(H,ge){return H.pipe((0,An.p)(rt=>!!rt),(0,Qn.n)(rt=>this.currentActivatedRoute$.pipe((0,An.p)(kt=>null!==kt&&kt.component===rt),(0,Qn.n)(kt=>kt&&kt.activatedRoute[ge]),(0,$n.F)())))}updateActivatedRouteProxy(H,ge){const rt=this.proxyMap.get(H);if(!rt)throw new Error("Could not find activated route proxy for view");rt._futureSnapshot=ge._futureSnapshot,rt._routerState=ge._routerState,rt.snapshot=ge.snapshot,rt.outlet=ge.outlet,rt.component=ge.component,this.currentActivatedRoute$.next({component:H,activatedRoute:ge})}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.kS0("name"),b.kS0("tabs"),b.rXU(oe.aZ),b.rXU(b.aKT),b.rXU(j.Ix),b.rXU(b.SKi),b.rXU(j.nX),b.rXU(Ie,12))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ie})();class sr{constructor(Ce,H,ge){this.route=Ce,this.childContexts=H,this.parent=ge}get(Ce,H){return Ce===j.nX?this.route:Ce===j.Zp?this.childContexts:this.parent.get(Ce,H)}}const vr=new b.nKC("");let ai=(()=>{class Ie{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){var ge;null===(ge=this.outletDataSubscriptions.get(H))||void 0===ge||ge.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:ge}=H,rt=(0,rn.z)([ge.queryParams,ge.params,ge.data]).pipe((0,Qn.n)(([kt,Bt,Jt],_n)=>(Jt={...kt,...Bt,...Jt},0===_n?(0,Kt.of)(Jt):Promise.resolve(Jt)))).subscribe(kt=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==ge||null===ge.component)return void this.unsubscribeFromRouteData(H);const Bt=(0,b.HJs)(ge.component);if(Bt)for(const{templateName:Jt}of Bt.inputs)H.activatedComponentRef.setInput(Jt,kt[Jt]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,rt)}}return Ie.\u0275fac=function(H){return new(H||Ie)},Ie.\u0275prov=b.jDH({token:Ie,factory:Ie.\u0275fac}),Ie})();const Rt=()=>({provide:vr,useFactory:vt,deps:[j.Ix]});function vt(Ie){return null!=Ie&&Ie.componentInputBindingEnabled?new ai:null}const Mt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let gn=(()=>{let Ie=class{constructor(H,ge,rt,kt,Bt,Jt){this.routerOutlet=H,this.navCtrl=ge,this.config=rt,this.r=kt,this.z=Bt,Jt.detach(),this.el=this.r.nativeElement}onClick(H){var ge;const rt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ge=this.routerOutlet)&&void 0!==ge&&ge.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),H.preventDefault()):null!=rt&&(this.navCtrl.navigateBack(rt,{animation:this.routerAnimation}),H.preventDefault())}};return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(dn,8),b.rXU(Fn),b.rXU(mn),b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(b.gRc))},Ie.\u0275dir=b.FsC({type:Ie,hostBindings:function(H,ge){1&H&&b.bIt("click",function(kt){return ge.onClick(kt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),Ie=(0,Ft.Cg)([wr({inputs:Mt})],Ie),Ie})(),ht=(()=>{class Ie{constructor(H,ge,rt,kt,Bt){this.locationStrategy=H,this.navCtrl=ge,this.elementRef=rt,this.router=kt,this.routerLink=Bt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const ge=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ge}}onClick(H){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),H.preventDefault()}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(oe.hb),b.rXU(Fn),b.rXU(b.aKT),b.rXU(j.Ix),b.rXU(j.Wk,8))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(H,ge){1&H&&b.bIt("click",function(kt){return ge.onClick(kt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[b.OA$]}),Ie})(),G=(()=>{class Ie{constructor(H,ge,rt,kt,Bt){this.locationStrategy=H,this.navCtrl=ge,this.elementRef=rt,this.router=kt,this.routerLink=Bt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const ge=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ge}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(oe.hb),b.rXU(Fn),b.rXU(b.aKT),b.rXU(j.Ix),b.rXU(j.Wk,8))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(H,ge){1&H&&b.bIt("click",function(){return ge.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[b.OA$]}),Ie})();const De=["animated","animation","root","rootParams","swipeGesture"],tt=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Ot=(()=>{let Ie=class{constructor(H,ge,rt,kt,Bt,Jt){this.z=Bt,Jt.detach(),this.el=H.nativeElement,H.nativeElement.delegate=kt.create(ge,rt),jn(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(b.aKT),b.rXU(b.uvJ),b.rXU(b.zZn),b.rXU(dr),b.rXU(b.SKi),b.rXU(b.gRc))},Ie.\u0275dir=b.FsC({type:Ie,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),Ie=(0,Ft.Cg)([wr({inputs:De,methods:tt})],Ie),Ie})(),yn=(()=>{class Ie{constructor(H){this.navCtrl=H,this.ionTabsWillChange=new b.bkB,this.ionTabsDidChange=new b.bkB,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:H,tabSwitch:ge}){const rt=H.stackId;ge&&void 0!==rt&&this.ionTabsWillChange.emit({tab:rt})}onStackDidChange({enteringView:H,tabSwitch:ge}){const rt=H.stackId;ge&&void 0!==rt&&(this.tabBar&&(this.tabBar.selectedTab=rt),this.ionTabsDidChange.emit({tab:rt}))}select(H){const ge="string"==typeof H,rt=ge?H:H.detail.tab,kt=this.outlet.getActiveStackId()===rt,Bt=`${this.outlet.tabsPrefix}/${rt}`;if(ge||H.stopPropagation(),kt){const Jt=this.outlet.getActiveStackId(),_n=this.outlet.getLastRouteView(Jt);if((null==_n?void 0:_n.url)===Bt)return;const Un=this.outlet.getRootView(rt);return this.navCtrl.navigateRoot(Bt,{...Un&&Bt===Un.url&&Un.savedExtras,animated:!0,animationDirection:"back"})}{const Jt=this.outlet.getLastRouteView(rt);return this.navCtrl.navigateRoot((null==Jt?void 0:Jt.url)||Bt,{...null==Jt?void 0:Jt.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(H=>{const ge=H.el.getAttribute("slot");ge!==this.tabBarSlot&&(this.tabBarSlot=ge,this.relocateTabBar())})}relocateTabBar(){const H=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(H):this.tabsInner.nativeElement.after(H)}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(Fn))},Ie.\u0275dir=b.FsC({type:Ie,selectors:[["ion-tabs"]],viewQuery:function(H,ge){if(1&H&&b.GBs(kn,7,b.aKT),2&H){let rt;b.mGM(rt=b.lsd())&&(ge.tabsInner=rt.first)}},hostBindings:function(H,ge){1&H&&b.bIt("ionTabButtonClick",function(kt){return ge.select(kt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),Ie})();const Wn=Ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ie):setTimeout(Ie);let Xn=(()=>{class Ie{constructor(H,ge){this.injector=H,this.elementRef=ge,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(H){this.elementRef.nativeElement.value=this.lastValue=H,En(this.elementRef)}handleValueChange(H,ge){H===this.elementRef.nativeElement&&(ge!==this.lastValue&&(this.lastValue=ge,this.onChange(ge)),En(this.elementRef))}_handleBlurEvent(H){H===this.elementRef.nativeElement&&(this.onTouched(),En(this.elementRef))}registerOnChange(H){this.onChange=H}registerOnTouched(H){this.onTouched=H}setDisabledState(H){this.elementRef.nativeElement.disabled=H}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let H;try{H=this.injector.get(Tt.vO)}catch{}if(!H)return;H.statusChanges&&(this.statusChanges=H.statusChanges.subscribe(()=>En(this.elementRef)));const ge=H.control;ge&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(kt=>{if(typeof ge[kt]<"u"){const Bt=ge[kt].bind(ge);ge[kt]=(...Jt)=>{Bt(...Jt),En(this.elementRef)}}})}}return Ie.\u0275fac=function(H){return new(H||Ie)(b.rXU(b.zZn),b.rXU(b.aKT))},Ie.\u0275dir=b.FsC({type:Ie,hostBindings:function(H,ge){1&H&&b.bIt("ionBlur",function(kt){return ge._handleBlurEvent(kt.target)})}}),Ie})();const En=Ie=>{Wn(()=>{const Ce=Ie.nativeElement,H=null!=Ce.value&&Ce.value.toString().length>0,ge=Ur(Ce);Nn(Ce,ge);const rt=Ce.closest("ion-item");rt&&Nn(rt,H?[...ge,"item-has-value"]:ge)})},Ur=Ie=>{const Ce=Ie.classList,H=[];for(let ge=0;ge<Ce.length;ge++){const rt=Ce.item(ge);null!==rt&&ur(rt,"ng-")&&H.push(`ion-${rt.substring(3)}`)}return H},Nn=(Ie,Ce)=>{const H=Ie.classList;H.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),H.add(...Ce)},ur=(Ie,Ce)=>Ie.substring(0,Ce.length)===Ce;class bn{shouldDetach(Ce){return!1}shouldAttach(Ce){return!1}store(Ce,H){}retrieve(Ce){return null}shouldReuseRoute(Ce,H){if(Ce.routeConfig!==H.routeConfig)return!1;const ge=Ce.params,rt=H.params,kt=Object.keys(ge),Bt=Object.keys(rt);if(kt.length!==Bt.length)return!1;for(const Jt of kt)if(rt[Jt]!==ge[Jt])return!1;return!0}}class hi{constructor(Ce){this.ctrl=Ce}create(Ce){return this.ctrl.create(Ce||{})}dismiss(Ce,H,ge){return this.ctrl.dismiss(Ce,H,ge)}getTop(){return this.ctrl.getTop()}}},9364:(un,it,F)=>{"use strict";F.d(it,{hG:()=>Be,U1:()=>An,Jm:()=>Et,b_:()=>It,ME:()=>Tn,HW:()=>Fn,tN:()=>qn,hU:()=>mn,W9:()=>wn,M0:()=>mr,lO:()=>Sn,eU:()=>gr,iq:()=>Cn,$w:()=>jn,uz:()=>wr,he:()=>qe,To:()=>sr,Ki:()=>vr,Rg:()=>H,ln:()=>Mt,S1:()=>gn,Jq:()=>Xn,qW:()=>En,p4:()=>ge,BC:()=>bn,ai:()=>Ce,bv:()=>Br,su:()=>fn,N7:()=>Bt,Gw:()=>we});var l=F(4438),b=F(4341),j=F(7157),oe=F(1635),he=F(3726),ye=F(177),re=F(4964),Ue=(F(3503),F(1497),F(2604),F(3003),F(405),F(8436)),Oe=F(464),ct=(F(7818),F(4133)),Re=(F(8476),F(9081));F(8221),F(9457);var He=F(467);const Ye=Ue.i,fe=function(){var E=(0,He.A)(function*(ne,x){if(!(typeof window>"u"))return yield Ye(),(0,Re.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),x)});return function(x,ae){return E.apply(this,arguments)}}(),U=["*"],be=["outlet"],Me=[[["","slot","top"]],"*"],ze=["[slot=top]","*"];let fn=(()=>{class E extends j.fL{constructor(x,ae){super(x,ae)}handleInputEvent(x){this.handleValueChange(x,x.value)}registerOnChange(x){super.registerOnChange(ae=>{x(""===ae?null:parseFloat(ae))})}}return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.zZn),l.rXU(l.aKT))},E.\u0275dir=l.FsC({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(x,ae){1&x&&l.bIt("ionInput",function(Vn){return ae.handleInputEvent(Vn.target)})},features:[l.Jv_([{provide:b.kq,useExisting:E,multi:!0}]),l.Vt3]}),E})(),we=(()=>{class E extends j.fL{constructor(x,ae){super(x,ae)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.zZn),l.rXU(l.aKT))},E.\u0275dir=l.FsC({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(x,ae){1&x&&l.bIt("ionInput",function(Vn){return ae._handleInputEvent(Vn.target)})},features:[l.Jv_([{provide:b.kq,useExisting:E,multi:!0}]),l.Vt3]}),E})();const _e=(E,ne)=>{const x=E.prototype;ne.forEach(ae=>{Object.defineProperty(x,ae,{get(){return this.el[ae]},set(et){this.z.runOutsideAngular(()=>this.el[ae]=et)},configurable:!0})})},Pe=(E,ne)=>{const x=E.prototype;ne.forEach(ae=>{x[ae]=function(){const et=arguments;return this.z.runOutsideAngular(()=>this.el[ae].apply(this.el,et))}})},Ae=(E,ne,x)=>{x.forEach(ae=>E[ae]=(0,he.R)(ne,ae))};function xe(E){return function(x){const{defineCustomElementFn:ae,inputs:et,methods:Vn}=E;return void 0!==ae&&ae(),et&&_e(x,et),Vn&&Pe(x,Vn),x}}let An=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-app"]],ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({})],E),E})(),Et=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement,Ae(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),It=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Tn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode","translucent"]})],E),E})(),Fn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode"]})],E),E})(),qn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode"]})],E),E})(),mn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],E),E})(),wn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement,Ae(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),mr=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["collapse","mode","translucent"]})],E),E})(),Sn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["fixed"]})],E),E})(),gr=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["collapse","mode","translucent"]})],E),E})(),Cn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),jn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement,Ae(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),wr=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),qe=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode","position"]})],E),E})(),sr=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement,Ae(this,this.el,["ionRefresh","ionPull","ionStart"])}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",mode:"mode",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["closeDuration","disabled","mode","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],E),E})(),vr=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],E),E})(),Mt=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-row"]],ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({})],E),E})(),gn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement,Ae(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Xn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode","selectedTab","translucent"]})],E),E})(),En=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],E),E})(),bn=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","size"]})],E),E})(),Ce=(()=>{let E=class{constructor(x,ae,et){this.z=et,x.detach(),this.el=ae.nativeElement}};return E.\u0275fac=function(x){return new(x||E)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},E.\u0275cmp=l.VBU({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:U,decls:1,vars:0,template:function(x,ae){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),E=(0,oe.Cg)([xe({inputs:["color","mode"]})],E),E})(),H=(()=>{class E extends j.Rg{constructor(x,ae,et,Vn,Wr,Ii,Ei,Oi){super(x,ae,et,Vn,Wr,Ii,Ei,Oi),this.parentOutlet=Oi}}return E.\u0275fac=function(x){return new(x||E)(l.kS0("name"),l.kS0("tabs"),l.rXU(ye.aZ),l.rXU(l.aKT),l.rXU(re.Ix),l.rXU(l.SKi),l.rXU(re.nX),l.rXU(E,12))},E.\u0275dir=l.FsC({type:E,selectors:[["ion-router-outlet"]],features:[l.Vt3]}),E})(),ge=(()=>{class E extends j.p4{}return E.\u0275fac=(()=>{let ne;return function(ae){return(ne||(ne=l.xGo(E)))(ae||E)}})(),E.\u0275cmp=l.VBU({type:E,selectors:[["ion-tabs"]],contentQueries:function(x,ae,et){if(1&x&&(l.wni(et,Xn,5),l.wni(et,Xn,4)),2&x){let Vn;l.mGM(Vn=l.lsd())&&(ae.tabBar=Vn.first),l.mGM(Vn=l.lsd())&&(ae.tabBars=Vn)}},viewQuery:function(x,ae){if(1&x&&l.GBs(be,5,H),2&x){let et;l.mGM(et=l.lsd())&&(ae.outlet=et.first)}},features:[l.Vt3],ngContentSelectors:ze,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(x,ae){if(1&x){const et=l.RV6();l.NAR(Me),l.SdG(0),l.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),l.bIt("stackWillChange",function(Wr){return l.eBV(et),l.Njj(ae.onStackWillChange(Wr))})("stackDidChange",function(Wr){return l.eBV(et),l.Njj(ae.onStackDidChange(Wr))}),l.k0s()(),l.SdG(5,1)}},dependencies:[H],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),E})(),Bt=(()=>{class E extends j.CE{}return E.\u0275fac=(()=>{let ne;return function(ae){return(ne||(ne=l.xGo(E)))(ae||E)}})(),E.\u0275dir=l.FsC({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.Vt3]}),E})();const $r={provide:b.cz,useExisting:(0,l.Rfq)(()=>_t),multi:!0};let _t=(()=>{class E extends b.zX{}return E.\u0275fac=(()=>{let ne;return function(ae){return(ne||(ne=l.xGo(E)))(ae||E)}})(),E.\u0275dir=l.FsC({type:E,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,ae){2&x&&l.BMQ("max",ae._enabled?ae.max:null)},features:[l.Jv_([$r]),l.Vt3]}),E})();const B={provide:b.cz,useExisting:(0,l.Rfq)(()=>Y),multi:!0};let Y=(()=>{class E extends b.VZ{}return E.\u0275fac=(()=>{let ne;return function(ae){return(ne||(ne=l.xGo(E)))(ae||E)}})(),E.\u0275dir=l.FsC({type:E,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,ae){2&x&&l.BMQ("min",ae._enabled?ae.min:null)},features:[l.Jv_([B]),l.Vt3]}),E})(),Be=(()=>{class E extends j.Kb{constructor(){super(ct.a)}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Yt=(()=>{class E extends j.Kb{constructor(){super(ct.m),this.angularDelegate=(0,l.WQX)(j.Yq),this.injector=(0,l.WQX)(l.zZn),this.environmentInjector=(0,l.WQX)(l.uvJ)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275prov=l.jDH({token:E,factory:E.\u0275fac}),E})();class an extends j.Kb{constructor(){super(ct.c),this.angularDelegate=(0,l.WQX)(j.Yq),this.injector=(0,l.WQX)(l.zZn),this.environmentInjector=(0,l.WQX)(l.uvJ)}create(ne){return super.create({...ne,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const On=(E,ne,x)=>()=>{const ae=ne.defaultView;if(ae&&typeof window<"u"){(0,Oe.s)({...E,_zoneGate:Vn=>x.run(Vn)});const et="__zone_symbol__addEventListener"in ne.body?"__zone_symbol__addEventListener":"addEventListener";return function je(){var E=[];if(typeof window<"u"){var ne=window;(!ne.customElements||ne.Element&&(!ne.Element.prototype.closest||!ne.Element.prototype.matches||!ne.Element.prototype.remove||!ne.Element.prototype.getRootNode))&&E.push(F.e(7278).then(F.t.bind(F,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ne.NodeList&&!ne.NodeList.prototype.forEach||!ne.fetch||!function(){try{var ae=new URL("b","http://a");return ae.pathname="c%20d","http://a/c%20d"===ae.href&&ae.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&E.push(F.e(9329).then(F.t.bind(F,7783,23)))}return Promise.all(E)}().then(()=>fe(ae,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:j.er,jmp:Vn=>x.runOutsideAngular(Vn),ael(Vn,Wr,Ii,Ei){Vn[et](Wr,Ii,Ei)},rel(Vn,Wr,Ii,Ei){Vn.removeEventListener(Wr,Ii,Ei)}}))}};let Br=(()=>{class E{static forRoot(x){return{ngModule:E,providers:[{provide:j.sR,useValue:x},{provide:l.hnV,useFactory:On,multi:!0,deps:[j.sR,ye.qQ,l.SKi]},(0,j.YV)()]}}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275mod=l.$C({type:E}),E.\u0275inj=l.G2t({providers:[j.Yq,Yt,an],imports:[ye.MD]}),E})()},2214:(un,it,F)=>{"use strict";F.d(it,{Dk:()=>l.getApps,KO:()=>l.registerVersion,Sx:()=>l.getApp,Wp:()=>l.initializeApp});var l=F(7852);(0,l.registerVersion)("firebase","10.9.0","app")},7935:(un,it,F)=>{"use strict";F.d(it,{A:()=>l.A});var l=F(3345);l.A.registerVersion("firebase","10.9.0","app-compat")},2438:(un,it,F)=>{"use strict";F.r(it);var l=F(467),b=F(3345),j=F(306),oe=F(1076),re=(F(7852),F(8041),F(1362));function Ee(){return window}function de(){return de=(0,l.A)(function*(K,Q,q){var Ke;const{BuildInfo:wt}=Ee();(0,j.au)(Q.sessionId,"AuthEvent did not contain a session ID");const cn=yield function Re(K){return $e.apply(this,arguments)}(Q.sessionId),Mn={};return(0,j.av)()?Mn.ibi=wt.packageName:(0,j.aw)()?Mn.apn=wt.packageName:(0,j.ax)(K,"operation-not-supported-in-this-environment"),wt.displayName&&(Mn.appDisplayName=wt.displayName),Mn.sessionId=cn,(0,j.ay)(K,q,Q.type,void 0,null!==(Ke=Q.eventId)&&void 0!==Ke?Ke:void 0,Mn)}),de.apply(this,arguments)}function Ue(){return(Ue=(0,l.A)(function*(K){const{BuildInfo:Q}=Ee(),q={};(0,j.av)()?q.iosBundleId=Q.packageName:(0,j.aw)()?q.androidPackageName=Q.packageName:(0,j.ax)(K,"operation-not-supported-in-this-environment"),yield(0,j.az)(K,q)})).apply(this,arguments)}function ct(){return(ct=(0,l.A)(function*(K,Q,q){const{cordova:Ke}=Ee();let wt=()=>{};try{yield new Promise((cn,Mn)=>{let Hn=null;function pr(){var sr;cn();const vr=null===(sr=Ke.plugins.browsertab)||void 0===sr?void 0:sr.close;"function"==typeof vr&&vr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Pn(){Hn||(Hn=window.setTimeout(()=>{Mn((0,j.aB)(K,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===(null==document?void 0:document.visibilityState)&&Pn()}Q.addPassiveListener(pr),document.addEventListener("resume",Pn,!1),(0,j.aw)()&&document.addEventListener("visibilitychange",dn,!1),wt=()=>{Q.removePassiveListener(pr),document.removeEventListener("resume",Pn,!1),document.removeEventListener("visibilitychange",dn,!1),Hn&&window.clearTimeout(Hn)}})}finally{wt()}})).apply(this,arguments)}function $e(){return($e=(0,l.A)(function*(K){const Q=function at(K){if((0,j.au)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const Q=new ArrayBuffer(K.length),q=new Uint8Array(Q);for(let Ke=0;Ke<K.length;Ke++)q[Ke]=K.charCodeAt(Ke);return q}(K),q=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(q)).map(wt=>wt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class je extends j.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,l.A)(function*(){yield Q.initPromise})()}}function fe(K){return U.apply(this,arguments)}function U(){return(U=(0,l.A)(function*(K){const Q=yield ze()._get(Ze(K));return Q&&(yield ze()._remove(Ze(K))),Q})).apply(this,arguments)}function Me(){const K=[];for(let q=0;q<20;q++){const Ke=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ke))}return K.join("")}function ze(){return(0,j.aE)(j.b)}function Ze(K){return(0,j.aF)("authEvent",K.config.apiKey,K.name)}function fn(K){if(null==K||!K.includes("?"))return{};const[Q,...q]=K.split("?");return(0,oe.I9)(q.join("?"))}const we=class ut{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(Q){var q=this;return(0,l.A)(function*(){const Ke=Q._key();let wt=q.eventManagers.get(Ke);return wt||(wt=new je(Q),q.eventManagers.set(Ke,wt),q.attachCallbackListeners(Q,wt)),wt})()}_openPopup(Q){(0,j.ax)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,q,Ke,wt){var cn=this;return(0,l.A)(function*(){!function Le(K){var Q,q,Ke,wt,cn,Mn,Hn,pr,Pn,dn;const sr=Ee();(0,j.aC)("function"==typeof(null===(Q=null==sr?void 0:sr.universalLinks)||void 0===Q?void 0:Q.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aC)(typeof(null===(q=null==sr?void 0:sr.BuildInfo)||void 0===q?void 0:q.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aC)("function"==typeof(null===(cn=null===(wt=null===(Ke=null==sr?void 0:sr.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===cn?void 0:cn.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(pr=null===(Hn=null===(Mn=null==sr?void 0:sr.cordova)||void 0===Mn?void 0:Mn.plugins)||void 0===Hn?void 0:Hn.browsertab)||void 0===pr?void 0:pr.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(dn=null===(Pn=null==sr?void 0:sr.cordova)||void 0===Pn?void 0:Pn.InAppBrowser)||void 0===dn?void 0:dn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Mn=yield cn._initialize(Q);yield Mn.initialized(),Mn.resetRedirect(),(0,j.aI)(),yield cn._originValidation(Q);const Hn=function He(K,Q,q=null){return{type:Q,eventId:q,urlResponse:null,sessionId:Me(),postBody:null,tenantId:K.tenantId,error:(0,j.aB)(K,"no-auth-event")}}(Q,Ke,wt);yield function Ye(K,Q){return ze()._set(Ze(K),Q)}(Q,Hn);const pr=yield function le(K,Q,q){return de.apply(this,arguments)}(Q,Hn,q),Pn=yield function Oe(K){const{cordova:Q}=Ee();return new Promise(q=>{Q.plugins.browsertab.isAvailable(Ke=>{let wt=null;Ke?Q.plugins.browsertab.openUrl(K):wt=Q.InAppBrowser.open(K,(0,j.aA)()?"_blank":"_system","location=yes"),q(wt)})})}(pr);return function ke(K,Q,q){return ct.apply(this,arguments)}(Q,Mn,Pn)})()}_isIframeWebStorageSupported(Q,q){throw new Error("Method not implemented.")}_originValidation(Q){const q=Q._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function Ve(K){return Ue.apply(this,arguments)}(Q)),this.originValidationPromises[q]}attachCallbackListeners(Q,q){const{universalLinks:Ke,handleOpenURL:wt,BuildInfo:cn}=Ee(),Mn=setTimeout((0,l.A)(function*(){yield fe(Q),q.onEvent(_e())}),500),Hn=function(){var dn=(0,l.A)(function*(sr){clearTimeout(Mn);const vr=yield fe(Q);let ai=null;vr&&null!=sr&&sr.url&&(ai=function be(K,Q){var q,Ke;const wt=function $t(K){const Q=fn(K),q=Q.link?decodeURIComponent(Q.link):void 0,Ke=fn(q).link,wt=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return fn(wt).link||wt||Ke||q||K}(Q);if(wt.includes("/__/auth/callback")){const cn=fn(wt),Mn=cn.firebaseError?function dt(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(cn.firebaseError)):null,Hn=null===(Ke=null===(q=null==Mn?void 0:Mn.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ke?void 0:Ke[1],pr=Hn?(0,j.aB)(Hn):null;return pr?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:pr,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:wt,postBody:null}}return null}(vr,sr.url)),q.onEvent(ai||_e())});return function(vr){return dn.apply(this,arguments)}}();typeof Ke<"u"&&"function"==typeof Ke.subscribe&&Ke.subscribe(null,Hn);const pr=wt,Pn=`${cn.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var dn=(0,l.A)(function*(sr){if(sr.toLowerCase().startsWith(Pn)&&Hn({url:sr}),"function"==typeof pr)try{pr(sr)}catch(vr){console.error(vr)}});return function(sr){return dn.apply(this,arguments)}}()}};function _e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aB)("no-auth-event")}}function zt(){var K;return(null===(K=null==self?void 0:self.location)||void 0===K?void 0:K.protocol)||null}function Kt(K=(0,oe.ZQ)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tt(){try{const K=self.localStorage,Q=j.aN();if(K)return K.setItem(Q,"1"),K.removeItem(Q),!function $n(K=(0,oe.ZQ)()){return function An(){return(0,oe.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Qn(K=(0,oe.ZQ)()){return/Edge\/\d+/.test(K)}(K)}()||(0,oe.zW)()}catch{return kn()&&(0,oe.zW)()}return!1}function kn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function St(){return(function rn(){return"http:"===zt()||"https:"===zt()}()||(0,oe.sr)()||Kt())&&!function Ft(){return(0,oe.lV)()||(0,oe.Ll)()}()&&Tt()&&!kn()}function Et(){return Kt()&&typeof document<"u"}function It(){return(It=(0,l.A)(function*(){return!!Et()&&new Promise(K=>{const Q=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),K(!0)})})})).apply(this,arguments)}const Tn={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=j.aC,qn="persistence";function nr(K){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.A)(function*(K){yield K._initializationPromise;const Q=Tr(),q=j.aF(qn,K.config.apiKey,K.name);Q&&Q.setItem(q,K._getPersistence())})).apply(this,arguments)}function Tr(){var K;try{return(null===(K=function hn(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Nr=j.aC;class dr{constructor(){this.browserResolver=j.aE(j.k),this.cordovaResolver=j.aE(we),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(Q){var q=this;return(0,l.A)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,q,Ke,wt){var cn=this;return(0,l.A)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openPopup(Q,q,Ke,wt)})()}_openRedirect(Q,q,Ke,wt){var cn=this;return(0,l.A)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openRedirect(Q,q,Ke,wt)})()}_isIframeWebStorageSupported(Q,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,q)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Et()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,l.A)(function*(){if(Q.underlyingResolver)return;const q=yield function Dt(){return It.apply(this,arguments)}();Q.underlyingResolver=q?Q.cordovaResolver:Q.browserResolver})()}}function Ln(K){return K.unwrap()}function mr(K){return gr(K)}function gr(K){const{_tokenResponse:Q}=K instanceof oe.g?K.customData:K;if(!Q)return null;if(!(K instanceof oe.g)&&"temporaryProof"in Q&&"phoneNumber"in Q)return j.P.credentialFromResult(K);const q=Q.providerId;if(!q||q===j.p.PASSWORD)return null;let Ke;switch(q){case j.p.GOOGLE:Ke=j.X;break;case j.p.FACEBOOK:Ke=j.W;break;case j.p.GITHUB:Ke=j.Y;break;case j.p.TWITTER:Ke=j.$;break;default:const{oauthIdToken:wt,oauthAccessToken:cn,oauthTokenSecret:Mn,pendingToken:Hn,nonce:pr}=Q;return cn||Mn||wt||Hn?Hn?q.startsWith("saml.")?j.aQ._create(q,Hn):j.N._fromParams({providerId:q,signInMethod:q,pendingToken:Hn,idToken:wt,accessToken:cn}):new j.Z(q).credential({idToken:wt,accessToken:cn,rawNonce:pr}):null}return K instanceof oe.g?Ke.credentialFromError(K):Ke.credentialFromResult(K)}function Cn(K,Q){return Q.catch(q=>{throw q instanceof oe.g&&function Sn(K,Q){var q;const Ke=null===(q=Q.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null==Q?void 0:Q.code))Q.resolver=new Gn(K,j.as(K,Q));else if(Ke){const wt=gr(Q),cn=Q;wt&&(cn.credential=wt,cn.tenantId=Ke.tenantId||void 0,cn.email=Ke.email||void 0,cn.phoneNumber=Ke.phoneNumber||void 0)}}(K,q),q}).then(q=>{const wt=q.user;return{operationType:q.operationType,credential:mr(q),additionalUserInfo:j.aq(q),user:jn.getOrCreate(wt)}})}function Zn(K,Q){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.A)(function*(K,Q){const q=yield Q;return{verificationId:q.verificationId,confirm:Ke=>Cn(K,q.confirm(Ke))}})).apply(this,arguments)}class Gn{constructor(Q,q){this.resolver=q,this.auth=function or(K){return K.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return Cn(Ln(this.auth),this.resolver.resolveSignIn(Q))}}class jn{constructor(Q){this._delegate=Q,this.multiFactor=j.at(Q)}static getOrCreate(Q){return jn.USER_MAP.has(Q)||jn.USER_MAP.set(Q,new jn(Q)),jn.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var q=this;return(0,l.A)(function*(){return Cn(q.auth,j.a2(q._delegate,Q))})()}linkWithPhoneNumber(Q,q){var Ke=this;return(0,l.A)(function*(){return Zn(Ke.auth,j.l(Ke._delegate,Q,q))})()}linkWithPopup(Q){var q=this;return(0,l.A)(function*(){return Cn(q.auth,j.d(q._delegate,Q,dr))})()}linkWithRedirect(Q){var q=this;return(0,l.A)(function*(){return yield nr(j.aJ(q.auth)),j.g(q._delegate,Q,dr)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var q=this;return(0,l.A)(function*(){return Cn(q.auth,j.a3(q._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,q){return Zn(this.auth,j.r(this._delegate,Q,q))}reauthenticateWithPopup(Q){return Cn(this.auth,j.e(this._delegate,Q,dr))}reauthenticateWithRedirect(Q){var q=this;return(0,l.A)(function*(){return yield nr(j.aJ(q.auth)),j.h(q._delegate,Q,dr)})()}sendEmailVerification(Q){return j.ag(this._delegate,Q)}unlink(Q){var q=this;return(0,l.A)(function*(){return yield j.ap(q._delegate,Q),q})()}updateEmail(Q){return j.al(this._delegate,Q)}updatePassword(Q){return j.am(this._delegate,Q)}updatePhoneNumber(Q){return j.u(this._delegate,Q)}updateProfile(Q){return j.ak(this._delegate,Q)}verifyBeforeUpdateEmail(Q,q){return j.ah(this._delegate,Q,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const wr=j.aC;let Sr=(()=>{class K{constructor(q,Ke){if(this.app=q,Ke.isInitialized())return this._delegate=Ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:wt}=q.options;wr(wt,"invalid-api-key",{appName:q.name}),wr(wt,"invalid-api-key",{appName:q.name});const cn=typeof window<"u"?dr:void 0;this._delegate=Ke.initialize({options:{persistence:Qe(wt,q.name),popupRedirectResolver:cn}}),this._delegate._updateErrorMap(j.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ke){j.K(this._delegate,q,Ke)}applyActionCode(q){return j.a7(this._delegate,q)}checkActionCode(q){return j.a8(this._delegate,q)}confirmPasswordReset(q,Ke){return j.a6(this._delegate,q,Ke)}createUserWithEmailAndPassword(q,Ke){var wt=this;return(0,l.A)(function*(){return Cn(wt._delegate,j.aa(wt._delegate,q,Ke))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return j.af(this._delegate,q)}isSignInWithEmailLink(q){return j.ad(this._delegate,q)}getRedirectResult(){var q=this;return(0,l.A)(function*(){wr(St(),q._delegate,"operation-not-supported-in-this-environment");const Ke=yield j.j(q._delegate,dr);return Ke?Cn(q._delegate,Promise.resolve(Ke)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function Pe(K,Q){(0,j.aJ)(K)._logFramework(Q)}(this._delegate,q)}onAuthStateChanged(q,Ke,wt){const{next:cn,error:Mn,complete:Hn}=Lr(q,Ke,wt);return this._delegate.onAuthStateChanged(cn,Mn,Hn)}onIdTokenChanged(q,Ke,wt){const{next:cn,error:Mn,complete:Hn}=Lr(q,Ke,wt);return this._delegate.onIdTokenChanged(cn,Mn,Hn)}sendSignInLinkToEmail(q,Ke){return j.ac(this._delegate,q,Ke)}sendPasswordResetEmail(q,Ke){return j.a5(this._delegate,q,Ke||void 0)}setPersistence(q){var Ke=this;return(0,l.A)(function*(){let wt;switch(function Yn(K,Q){Fn(Object.values(Tn).includes(Q),K,"invalid-persistence-type"),(0,oe.lV)()?Fn(Q!==Tn.SESSION,K,"unsupported-persistence-type"):(0,oe.Ll)()?Fn(Q===Tn.NONE,K,"unsupported-persistence-type"):kn()?Fn(Q===Tn.NONE||Q===Tn.LOCAL&&(0,oe.zW)(),K,"unsupported-persistence-type"):Fn(Q===Tn.NONE||Tt(),K,"unsupported-persistence-type")}(Ke._delegate,q),q){case Tn.SESSION:wt=j.a;break;case Tn.LOCAL:wt=(yield j.aE(j.i)._isAvailable())?j.i:j.b;break;case Tn.NONE:wt=j.U;break;default:return j.ax("argument-error",{appName:Ke._delegate.name})}return Ke._delegate.setPersistence(wt)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Cn(this._delegate,j.a0(this._delegate))}signInWithCredential(q){return Cn(this._delegate,j.a1(this._delegate,q))}signInWithCustomToken(q){return Cn(this._delegate,j.a4(this._delegate,q))}signInWithEmailAndPassword(q,Ke){return Cn(this._delegate,j.ab(this._delegate,q,Ke))}signInWithEmailLink(q,Ke){return Cn(this._delegate,j.ae(this._delegate,q,Ke))}signInWithPhoneNumber(q,Ke){return Zn(this._delegate,j.s(this._delegate,q,Ke))}signInWithPopup(q){var Ke=this;return(0,l.A)(function*(){return wr(St(),Ke._delegate,"operation-not-supported-in-this-environment"),Cn(Ke._delegate,j.c(Ke._delegate,q,dr))})()}signInWithRedirect(q){var Ke=this;return(0,l.A)(function*(){return wr(St(),Ke._delegate,"operation-not-supported-in-this-environment"),yield nr(Ke._delegate),j.f(Ke._delegate,q,dr)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return j.a9(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=Tn,K})();function Lr(K,Q,q){let Ke=K;"function"!=typeof K&&({next:Ke,error:Q,complete:q}=K);const wt=Ke;return{next:Mn=>wt(Mn&&jn.getOrCreate(Mn)),error:Q,complete:q}}function Qe(K,Q){const q=function wn(K,Q){const q=Tr();if(!q)return[];const Ke=j.aF(qn,K,Q);switch(q.getItem(Ke)){case Tn.NONE:return[j.U];case Tn.LOCAL:return[j.i,j.a];case Tn.SESSION:return[j.a];default:return[]}}(K,Q);if(typeof self<"u"&&!q.includes(j.i)&&q.push(j.i),typeof window<"u")for(const Ke of[j.b,j.a])q.includes(Ke)||q.push(Ke);return q.includes(j.U)||q.push(j.U),q}class Ge{constructor(){this.providerId="phone",this._delegate=new j.P(Ln(b.A.auth()))}static credential(Q,q){return j.P.credential(Q,q)}verifyPhoneNumber(Q,q){return this._delegate.verifyPhoneNumber(Q,q)}unwrap(){return this._delegate}}Ge.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,Ge.PROVIDER_ID=j.P.PROVIDER_ID;const yt=j.aC;class qe{constructor(Q,q,Ke=b.A.app()){var wt;yt(null===(wt=Ke.options)||void 0===wt?void 0:wt.apiKey,"invalid-api-key",{appName:Ke.name}),this._delegate=new j.R(Ke.auth(),Q,q),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(K){K.INTERNAL.registerComponent(new re.uA("auth-compat",Q=>{const q=Q.getProvider("app-compat").getImmediate(),Ke=Q.getProvider("auth");return new Sr(q,Ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.V,FacebookAuthProvider:j.W,GithubAuthProvider:j.Y,GoogleAuthProvider:j.X,OAuthProvider:j.Z,SAMLAuthProvider:j._,PhoneAuthProvider:Ge,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:qe,TwitterAuthProvider:j.$,Auth:Sr,AuthCredential:j.L,Error:oe.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.5.4")}(b.A)},467:(un,it,F)=>{"use strict";function l(j,oe,he,ye,re,Ee,We){try{var le=j[Ee](We),de=le.value}catch(Ve){return void he(Ve)}le.done?oe(de):Promise.resolve(de).then(ye,re)}function b(j){return function(){var oe=this,he=arguments;return new Promise(function(ye,re){var Ee=j.apply(oe,he);function We(de){l(Ee,ye,re,We,le,"next",de)}function le(de){l(Ee,ye,re,We,le,"throw",de)}We(void 0)})}}F.d(it,{A:()=>b})},9842:(un,it,F)=>{"use strict";function l(he){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(he)}function oe(he,ye,re){return(ye=function j(he){var ye=function b(he,ye){if("object"!=l(he)||!he)return he;var re=he[Symbol.toPrimitive];if(void 0!==re){var Ee=re.call(he,ye||"default");if("object"!=l(Ee))return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ye?String:Number)(he)}(he,"string");return"symbol"==l(ye)?ye:String(ye)}(ye))in he?Object.defineProperty(he,ye,{value:re,enumerable:!0,configurable:!0,writable:!0}):he[ye]=re,he}F.d(it,{A:()=>oe})},1635:(un,it,F)=>{"use strict";function oe(we,_e){var Pe={};for(var Ae in we)Object.prototype.hasOwnProperty.call(we,Ae)&&_e.indexOf(Ae)<0&&(Pe[Ae]=we[Ae]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(Ae=Object.getOwnPropertySymbols(we);st<Ae.length;st++)_e.indexOf(Ae[st])<0&&Object.prototype.propertyIsEnumerable.call(we,Ae[st])&&(Pe[Ae[st]]=we[Ae[st]])}return Pe}function he(we,_e,Pe,Ae){var zt,st=arguments.length,xe=st<3?_e:null===Ae?Ae=Object.getOwnPropertyDescriptor(_e,Pe):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(we,_e,Pe,Ae);else for(var rn=we.length-1;rn>=0;rn--)(zt=we[rn])&&(xe=(st<3?zt(xe):st>3?zt(_e,Pe,xe):zt(_e,Pe))||xe);return st>3&&xe&&Object.defineProperty(_e,Pe,xe),xe}function Ve(we,_e,Pe,Ae){return new(Pe||(Pe=Promise))(function(xe,zt){function rn(An){try{Ft(Ae.next(An))}catch(Qn){zt(Qn)}}function Kt(An){try{Ft(Ae.throw(An))}catch(Qn){zt(Qn)}}function Ft(An){An.done?xe(An.value):function st(xe){return xe instanceof Pe?xe:new Pe(function(zt){zt(xe)})}(An.value).then(rn,Kt)}Ft((Ae=Ae.apply(we,_e||[])).next())})}function Fe(we){return this instanceof Fe?(this.v=we,this):new Fe(we)}function je(we,_e,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ae=Pe.apply(we,_e||[]),xe=[];return st={},zt("next"),zt("throw"),zt("return"),st[Symbol.asyncIterator]=function(){return this},st;function zt($n){Ae[$n]&&(st[$n]=function(Tt){return new Promise(function(kn,St){xe.push([$n,Tt,kn,St])>1||rn($n,Tt)})})}function rn($n,Tt){try{!function Kt($n){$n.value instanceof Fe?Promise.resolve($n.value.v).then(Ft,An):Qn(xe[0][2],$n)}(Ae[$n](Tt))}catch(kn){Qn(xe[0][3],kn)}}function Ft($n){rn("next",$n)}function An($n){rn("throw",$n)}function Qn($n,Tt){$n(Tt),xe.shift(),xe.length&&rn(xe[0][0],xe[0][1])}}function Ye(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,_e=we[Symbol.asyncIterator];return _e?_e.call(we):(we=function ct(we){var _e="function"==typeof Symbol&&Symbol.iterator,Pe=_e&&we[_e],Ae=0;if(Pe)return Pe.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Ae>=we.length&&(we=void 0),{value:we&&we[Ae++],done:!we}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Pe={},Ae("next"),Ae("throw"),Ae("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Ae(xe){Pe[xe]=we[xe]&&function(zt){return new Promise(function(rn,Kt){!function st(xe,zt,rn,Kt){Promise.resolve(Kt).then(function(Ft){xe({value:Ft,done:rn})},zt)}(rn,Kt,(zt=we[xe](zt)).done,zt.value)})}}}F.d(it,{AQ:()=>je,Cg:()=>he,N3:()=>Fe,Tt:()=>oe,sH:()=>Ve,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError}},un=>{un(un.s=6331)}]);